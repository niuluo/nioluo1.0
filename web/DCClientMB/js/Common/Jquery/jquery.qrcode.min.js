(function(a){a.fn.qrcode=function(c){if(typeof c==="string"){c={text:c}}c=a.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000"},c);var b=function(){var l=new QRCode(c.typeNumber,c.correctLevel);l.addData(c.text);l.make();var f=document.createElement("canvas");f.width=c.width;f.height=c.height;var m=f.getContext("2d");var e=c.width/l.getModuleCount();var j=c.height/l.getModuleCount();for(var n=0;n<l.getModuleCount();n++){for(var g=0;g<l.getModuleCount();g++){m.fillStyle=l.isDark(n,g)?c.foreground:c.background;var k=(Math.ceil((g+1)*e)-Math.floor(g*e));var i=(Math.ceil((n+1)*e)-Math.floor(n*e));m.fillRect(Math.round(g*e),Math.round(n*j),k,i)}}return f};var d=function(){var i=new QRCode(c.typeNumber,c.correctLevel);i.addData(c.text);i.make();var h=a("<table></table>").css("width",c.width+"px").css("height",c.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",c.background);var j=c.width/i.getModuleCount();var f=c.height/i.getModuleCount();for(var k=0;k<i.getModuleCount();k++){var e=a("<tr></tr>").css("height",f+"px").appendTo(h);for(var g=0;g<i.getModuleCount();g++){a("<td></td>").css("width",j+"px").css("background-color",i.isDark(k,g)?c.foreground:c.background).appendTo(e)}}return h};return this.each(function(){var e=c.render=="canvas"?b():d();a(e).appendTo(this)})}})(jQuery);