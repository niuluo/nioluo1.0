var millis=1483066512111;var goEasy_V="0.10.30";!function(a){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=a()}else{if("function"==typeof define&&define.amd){define([],a)}else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.io=a()}}}(function(){var a;return function b(d,h,f){function g(j,i){if(!h[j]){if(!d[j]){var l="function"==typeof require&&require;if(!i&&l){return l(j,!0)}if(c){return c(j,!0)}throw new Error("Cannot find module '"+j+"'")}var k=h[j]={exports:{}};d[j][0].call(k.exports,function(m){var o=d[j][1][m];return g(o?o:m)},k,k.exports,b,d,h,f)}return h[j].exports}for(var c="function"==typeof require&&require,e=0;e<f.length;e++){g(f[e])}return g}({1:[function(c,d,f){d.exports=c("./lib/")},{"./lib/":2}],2:[function(m,j,g){function d(o,u){"object"==typeof o&&(u=o,o=void 0),u=u||{};var v,q=f(o),c=q.source,s=q.id;return u.forceNew||u["force new connection"]||!1===u.multiplex?(l("ignoring socket cache for %s",c),v=p(c,u)):(k[s]||(l("new io instance for %s",c),k[s]=p(c,u)),v=k[s]),v.socket(q.path)}var f=m("./url"),h=m("socket.io-parser"),p=m("./manager"),l=m("debug")("socket.io-client");j.exports=g=d;var k=g.managers={};g.protocol=h.protocol,g.connect=d,g.Manager=m("./manager"),g.Socket=m("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:10,"socket.io-parser":44}],3:[function(z,v,k){function d(c,f){return this instanceof d?(c&&"object"==typeof c&&(f=c,c=void 0),f=f||{},f.path=f.path||"/socket.io",this.nsps={},this.subs=[],this.opts=f,this.reconnection(f.reconnection!==!1),this.reconnectionAttempts(f.reconnectionAttempts||1/0),this.reconnectionDelay(f.reconnectionDelay||1000),this.reconnectionDelayMax(f.reconnectionDelayMax||5000),this.randomizationFactor(f.randomizationFactor||0.5),this.backoff=new m({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==f.timeout?20000:f.timeout),this.readyState="closed",this.uri=c,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new x.Encoder,this.decoder=new x.Decoder,this.autoConnect=f.autoConnect!==!1,void (this.autoConnect&&this.open())):new d(c,f)}var j=(z("./url"),z("engine.io-client")),l=z("./socket"),A=z("component-emitter"),x=z("socket.io-parser"),w=z("./on"),g=z("component-bind"),y=(z("object-component"),z("debug")("socket.io-client:manager")),q=z("indexof"),m=z("backo2");v.exports=d,d.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var c in this.nsps){this.nsps[c].emit.apply(this.nsps[c],arguments)}},d.prototype.updateSocketIds=function(){for(var c in this.nsps){this.nsps[c].id=this.engine.id}},A(d.prototype),d.prototype.reconnection=function(c){return arguments.length?(this._reconnection=!!c,this):this._reconnection},d.prototype.reconnectionAttempts=function(c){return arguments.length?(this._reconnectionAttempts=c,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(c){return arguments.length?(this._reconnectionDelay=c,this.backoff&&this.backoff.setMin(c),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(c){return arguments.length?(this._randomizationFactor=c,this.backoff&&this.backoff.setJitter(c),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(c){return arguments.length?(this._reconnectionDelayMax=c,this.backoff&&this.backoff.setMax(c),this):this._reconnectionDelayMax},d.prototype.timeout=function(c){return arguments.length?(this._timeout=c,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(h){if(y("readyState %s",this.readyState),~this.readyState.indexOf("open")){return this}y("opening %s",this.uri),this.engine=j(this.uri,this.opts);var u=this.engine,B=this;this.readyState="opening",this.skipReconnect=!1;var p=w(u,"open",function(){B.onopen(),h&&h()}),f=w(u,"error",function(n){if(y("connect_error"),B.cleanup(),B.readyState="closed",B.emitAll("connect_error",n),h){var i=new Error("Connection error");i.data=n,h(i)}else{B.maybeReconnectOnOpen()}});if(!1!==this._timeout){var o=this._timeout;y("connect attempt will timeout after %d",o);var c=setTimeout(function(){y("connect attempt timed out after %d",o),p.destroy(),u.close(),u.emit("error","timeout"),B.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(p),this.subs.push(f),this},d.prototype.onopen=function(){y("open"),this.cleanup(),this.readyState="open",this.emit("open");var c=this.engine;this.subs.push(w(c,"data",g(this,"ondata"))),this.subs.push(w(this.decoder,"decoded",g(this,"ondecoded"))),this.subs.push(w(c,"error",g(this,"onerror"))),this.subs.push(w(c,"close",g(this,"onclose")))},d.prototype.ondata=function(c){this.decoder.add(c)},d.prototype.ondecoded=function(c){this.emit("packet",c)},d.prototype.onerror=function(c){y("error",c),this.emitAll("error",c)},d.prototype.socket=function(c){var f=this.nsps[c];if(!f){f=new l(this,c),this.nsps[c]=f;var h=this;f.on("connect",function(){f.id=h.engine.id,~q(h.connected,f)||h.connected.push(f)})}return f},d.prototype.destroy=function(c){var f=q(this.connected,c);~f&&this.connected.splice(f,1),this.connected.length||this.close()},d.prototype.packet=function(c){y("writing packet %j",c);var f=this;f.encoding?f.packetBuffer.push(c):(f.encoding=!0,this.encoder.encode(c,function(e){for(var h=0;h<e.length;h++){f.engine.write(e[h])}f.encoding=!1,f.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var c=this.packetBuffer.shift();this.packet(c)}},d.prototype.cleanup=function(){for(var c;c=this.subs.shift();){c.destroy()}this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(c){y("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",c),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect){return this}var c=this;if(this.backoff.attempts>=this._reconnectionAttempts){y("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1}else{var f=this.backoff.duration();y("will wait %dms before reconnect attempt",f),this.reconnecting=!0;var h=setTimeout(function(){c.skipReconnect||(y("attempting reconnect"),c.emitAll("reconnect_attempt",c.backoff.attempts),c.emitAll("reconnecting",c.backoff.attempts),c.skipReconnect||c.open(function(i){i?(y("reconnect attempt error"),c.reconnecting=!1,c.reconnect(),c.emitAll("reconnect_error",i.data)):(y("reconnect success"),c.onreconnect())}))},f);this.subs.push({destroy:function(){clearTimeout(h)}})}},d.prototype.onreconnect=function(){var c=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",c)}},{"./on":4,"./socket":5,"./url":6,backo2:7,"component-bind":8,"component-emitter":9,debug:10,"engine.io-client":11,indexof:40,"object-component":41,"socket.io-parser":44}],4:[function(c,f,g){function d(h,i,j){return h.on(i,j),{destroy:function(){h.removeListener(i,j)}}}f.exports=d},{}],5:[function(z,v,k){function d(c,f){this.io=c,this.nsp=f,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var j=z("socket.io-parser"),l=z("component-emitter"),A=z("to-array"),x=z("./on"),w=z("component-bind"),g=z("debug")("socket.io-client:socket"),y=z("has-binary");v.exports=k=d;var q={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},m=l.prototype.emit;l(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var c=this.io;this.subs=[x(c,"open",w(this,"onopen")),x(c,"packet",w(this,"onpacket")),x(c,"close",w(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},d.prototype.send=function(){var c=A(arguments);return c.unshift("message"),this.emit.apply(this,c),this},d.prototype.emit=function(c){if(q.hasOwnProperty(c)){return m.apply(this,arguments),this}var h=A(arguments),i=j.EVENT;y(h)&&(i=j.BINARY_EVENT);var f={type:i,data:h};return"function"==typeof h[h.length-1]&&(g("emitting packet with ack id %d",this.ids),this.acks[this.ids]=h.pop(),f.id=this.ids++),this.connected?this.packet(f):this.sendBuffer.push(f),this},d.prototype.packet=function(c){c.nsp=this.nsp,this.io.packet(c)},d.prototype.onopen=function(){g("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:j.CONNECT})},d.prototype.onclose=function(c){g("close (%s)",c),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",c)},d.prototype.onpacket=function(c){if(c.nsp==this.nsp){switch(c.type){case j.CONNECT:this.onconnect();break;case j.EVENT:this.onevent(c);break;case j.BINARY_EVENT:this.onevent(c);break;case j.ACK:this.onack(c);break;case j.BINARY_ACK:this.onack(c);break;case j.DISCONNECT:this.ondisconnect();break;case j.ERROR:this.emit("error",c.data)}}},d.prototype.onevent=function(c){var f=c.data||[];g("emitting event %j",f),null!=c.id&&(g("attaching ack callback to event"),f.push(this.ack(c.id))),this.connected?m.apply(this,f):this.receiveBuffer.push(f)},d.prototype.ack=function(c){var f=this,h=!1;return function(){if(!h){h=!0;var n=A(arguments);g("sending ack %j",n);var e=y(n)?j.BINARY_ACK:j.ACK;f.packet({type:e,id:c,data:n})}}},d.prototype.onack=function(c){g("calling ack %s with %j",c.id,c.data);var f=this.acks[c.id];f.apply(this,c.data),delete this.acks[c.id]},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var c;for(c=0;c<this.receiveBuffer.length;c++){m.apply(this,this.receiveBuffer[c])}for(this.receiveBuffer=[],c=0;c<this.sendBuffer.length;c++){this.packet(this.sendBuffer[c])}this.sendBuffer=[]},d.prototype.ondisconnect=function(){g("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var c=0;c<this.subs.length;c++){this.subs[c].destroy()}this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(g("performing disconnect (%s)",this.nsp),this.packet({type:j.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":4,"component-bind":8,"component-emitter":9,debug:10,"has-binary":36,"socket.io-parser":44,"to-array":48}],6:[function(c,d,f){(function(j){function g(i,l){var k=i,l=l||j.location;return null==i&&(i=l.protocol+"//"+l.host),"string"==typeof i&&("/"==i.charAt(0)&&(i="/"==i.charAt(1)?l.protocol+i:l.hostname+i),/^(https?|wss?):\/\//.test(i)||(e("protocol-less url %s",i),i="undefined"!=typeof l?l.protocol+"//"+i:"https://"+i),e("parse %s",i),k=h(i)),k.port||(/^(http|ws)$/.test(k.protocol)?k.port="80":/^(http|ws)s$/.test(k.protocol)&&(k.port="443")),k.path=k.path||"/",k.id=k.protocol+"://"+k.host+":"+k.port,k.href=k.protocol+"://"+k.host+(l&&l.port==k.port?"":":"+k.port),k}var h=c("parseuri"),e=c("debug")("socket.io-client:url");d.exports=g}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:10,parseuri:42}],7:[function(c,f,g){function d(e){e=e||{},this.ms=e.min||100,this.max=e.max||10000,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}f.exports=d,d.prototype.duration=function(){var h=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var i=Math.random(),j=Math.floor(i*this.jitter*h);h=0==(1&Math.floor(10*i))?h-j:h+j}return 0|Math.min(h,this.max)},d.prototype.reset=function(){this.attempts=0},d.prototype.setMin=function(e){this.ms=e},d.prototype.setMax=function(e){this.max=e},d.prototype.setJitter=function(e){this.jitter=e}},{}],8:[function(c,f,g){var d=[].slice;f.exports=function(h,i){if("string"==typeof i&&(i=h[i]),"function"!=typeof i){throw new Error("bind() requires a function")}var j=d.call(arguments,2);return function(){return i.apply(h,j.concat(d.call(arguments)))}}},{}],9:[function(c,f,h){function d(e){return e?g(e):void 0}function g(i){for(var j in d.prototype){i[j]=d.prototype[j]}return i}f.exports=d,d.prototype.on=d.prototype.addEventListener=function(i,j){return this._callbacks=this._callbacks||{},(this._callbacks[i]=this._callbacks[i]||[]).push(j),this},d.prototype.once=function(i,k){function l(){j.off(i,l),k.apply(this,arguments)}var j=this;return this._callbacks=this._callbacks||{},l.fn=k,this.on(i,l),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(i,k){if(this._callbacks=this._callbacks||{},0==arguments.length){return this._callbacks={},this}var m=this._callbacks[i];if(!m){return this}if(1==arguments.length){return delete this._callbacks[i],this}for(var j,l=0;l<m.length;l++){if(j=m[l],j===k||j.fn===k){m.splice(l,1);break}}return this},d.prototype.emit=function(i){this._callbacks=this._callbacks||{};var k=[].slice.call(arguments,1),m=this._callbacks[i];if(m){m=m.slice(0);for(var j=0,l=m.length;l>j;++j){m[j].apply(this,k)}}return this},d.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},d.prototype.hasListeners=function(e){return !!this.listeners(e).length}},{}],10:[function(d,g,j){function f(e){return f.enabled(e)?function(l){l=h(l);var m=new Date,k=m-(f[e]||m);f[e]=m,l=e+" "+l+" +"+f.humanize(k),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function h(e){return e instanceof Error?e.stack||e.message:e}g.exports=f,f.names=[],f.skips=[],f.enable=function(l){try{localStorage.debug=l}catch(m){}for(var q=(l||"").split(/[\s,]+/),p=q.length,k=0;p>k;k++){l=q[k].replace("*",".*?"),"-"===l[0]?f.skips.push(new RegExp("^"+l.substr(1)+"$")):f.names.push(new RegExp("^"+l+"$"))}},f.disable=function(){f.enable("")},f.humanize=function(i){var l=1000,m=60000,k=60*m;return i>=k?(i/k).toFixed(1)+"h":i>=m?(i/m).toFixed(1)+"m":i>=l?(i/l|0)+"s":i+"ms"},f.enabled=function(i){for(var k=0,l=f.skips.length;l>k;k++){if(f.skips[k].test(i)){return !1}}for(var k=0,l=f.names.length;l>k;k++){if(f.names[k].test(i)){return !0}}return !1};try{window.localStorage&&f.enable(localStorage.debug)}catch(c){}},{}],11:[function(c,d,f){d.exports=c("./lib/")},{"./lib/":12}],12:[function(c,d,f){d.exports=c("./socket"),d.exports.parser=c("engine.io-parser")},{"./socket":13,"engine.io-parser":25}],13:[function(c,d,f){(function(k){function e(h,i){if(!(this instanceof e)){return new e(h,i)}if(i=i||{},h&&"object"==typeof h&&(i=h,h=null),h&&(h=w(h),i.host=h.host,i.secure="https"==h.protocol||"wss"==h.protocol,i.port=h.port,h.query&&(i.query=h.query)),this.secure=null!=i.secure?i.secure:k.location&&"https:"==location.protocol,i.host){var n=i.host.split(":");i.hostname=n.shift(),n.length?i.port=n.pop():i.port||(i.port=this.secure?"443":"80")}this.agent=i.agent||!1,this.hostname=i.hostname||(k.location?location.hostname:"localhost"),this.port=i.port||(k.location&&location.port?location.port:this.secure?443:80),this.query=i.query||{},"string"==typeof this.query&&(this.query=m.decode(this.query)),this.upgrade=!1!==i.upgrade,this.path=(i.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!i.forceJSONP,this.jsonp=!1!==i.jsonp,this.forceBase64=!!i.forceBase64,this.enablesXDR=!!i.enablesXDR,this.timestampParam=i.timestampParam||"t",this.timestampRequests=i.timestampRequests,this.transports=i.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=i.policyPort||843,this.rememberUpgrade=i.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=i.onlyBinaryUpgrades,this.pfx=i.pfx||null,this.key=i.key||null,this.passphrase=i.passphrase||null,this.cert=i.cert||null,this.ca=i.ca||null,this.ciphers=i.ciphers||null,this.rejectUnauthorized=i.rejectUnauthorized||null,this.open()}function j(h){var i={};for(var o in h){h.hasOwnProperty(o)&&(i[o]=h[o])}return i}var l=c("./transports"),x=c("component-emitter"),v=c("debug")("engine.io-client:socket"),t=c("indexof"),g=c("engine.io-parser"),w=c("parseuri"),q=c("parsejson"),m=c("parseqs");d.exports=e,e.priorWebsocketSuccess=!1,x(e.prototype),e.protocol=g.protocol,e.Socket=e,e.Transport=c("./transport"),e.transports=c("./transports"),e.parser=c("engine.io-parser"),e.prototype.createTransport=function(h){v('creating transport "%s"',h);var i=j(this.query);i.EIO=g.protocol,i.transport=h,this.id&&(i.sid=this.id);var o=new l[h]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:i,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return o},e.prototype.open=function(){var h;if(this.rememberUpgrade&&e.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket")){h="websocket"}else{if(0==this.transports.length){var i=this;return void setTimeout(function(){i.emit("error","No transports available")},0)}h=this.transports[0]}this.readyState="opening";var h;try{h=this.createTransport(h)}catch(o){return this.transports.shift(),void this.open()}h.open(),this.setTransport(h)},e.prototype.setTransport=function(h){v("setting transport %s",h.name);var i=this;this.transport&&(v("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=h,h.on("drain",function(){i.onDrain()}).on("packet",function(n){i.onPacket(n)}).on("error",function(n){i.onError(n)}).on("close",function(){i.onClose("transport close")})},e.prototype.probe=function(G){function D(){if(B.onlyBinaryUpgrades){var h=!this.supportsBinary&&B.transport.supportsBinary;C=C||h}C||(v('probe transport "%s" opened',G),F.send([{type:"ping",data:"probe"}]),F.once("packet",function(i){if(!C){if("pong"==i.type&&"probe"==i.data){if(v('probe transport "%s" pong',G),B.upgrading=!0,B.emit("upgrading",F),!F){return}e.priorWebsocketSuccess="websocket"==F.name,v('pausing current transport "%s"',B.transport.name),B.transport.pause(function(){C||"closed"!=B.readyState&&(v("changing transport and sending upgrade packet"),r(),B.setTransport(F),F.send([{type:"upgrade"}]),B.emit("upgrade",F),F=null,B.upgrading=!1,B.flush())})}else{v('probe transport "%s" failed',G);var o=new Error("probe error");o.transport=F.name,B.emit("upgradeError",o)}}}))}function z(){C||(C=!0,r(),F.close(),F=null)}function y(i){var h=new Error("probe error: "+i);h.transport=F.name,z(),v('probe transport "%s" failed because of error: %s',G,i),B.emit("upgradeError",h)}function A(){y("transport closed")}function H(){y("socket closed")}function E(h){F&&h.name!=F.name&&(v('"%s" works - aborting "%s"',h.name,F.name),z())}function r(){F.removeListener("open",D),F.removeListener("error",y),F.removeListener("close",A),B.removeListener("close",H),B.removeListener("upgrading",E)}v('probing transport "%s"',G);var F=this.createTransport(G,{probe:1}),C=!1,B=this;e.priorWebsocketSuccess=!1,F.once("open",D),F.once("error",y),F.once("close",A),this.once("close",H),this.once("upgrading",E),F.open()},e.prototype.onOpen=function(){if(v("socket open"),this.readyState="open",e.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){v("starting upgrade probes");for(var h=0,i=this.upgrades.length;i>h;h++){this.probe(this.upgrades[h])}}},e.prototype.onPacket=function(h){if("opening"==this.readyState||"open"==this.readyState){switch(v('socket receive: type "%s", data "%s"',h.type,h.data),this.emit("packet",h),this.emit("heartbeat"),h.type){case"open":this.onHandshake(q(h.data));break;case"pong":this.setPing();break;case"error":var i=new Error("server error");i.code=h.data,this.emit("error",i);break;case"message":this.emit("data",h.data),this.emit("message",h.data)}}else{v('packet received with socket readyState "%s"',this.readyState)}},e.prototype.onHandshake=function(h){this.emit("handshake",h),this.id=h.sid,this.transport.query.sid=h.sid,this.upgrades=this.filterUpgrades(h.upgrades),this.pingInterval=h.pingInterval,this.pingTimeout=h.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},e.prototype.onHeartbeat=function(h){clearTimeout(this.pingTimeoutTimer);var i=this;i.pingTimeoutTimer=setTimeout(function(){"closed"!=i.readyState&&i.onClose("ping timeout")},h||i.pingInterval+i.pingTimeout)},e.prototype.setPing=function(){var h=this;clearTimeout(h.pingIntervalTimer),h.pingIntervalTimer=setTimeout(function(){v("writing ping packet - expecting pong within %sms",h.pingTimeout),h.ping(),h.onHeartbeat(h.pingTimeout)},h.pingInterval)},e.prototype.ping=function(){this.sendPacket("ping")},e.prototype.onDrain=function(){for(var h=0;h<this.prevBufferLen;h++){this.callbackBuffer[h]&&this.callbackBuffer[h]()}this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},e.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(v("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},e.prototype.write=e.prototype.send=function(h,i){return this.sendPacket("message",h,i),this},e.prototype.sendPacket=function(h,o,p){if("closing"!=this.readyState&&"closed"!=this.readyState){var i={type:h,data:o};this.emit("packetCreate",i),this.writeBuffer.push(i),this.callbackBuffer.push(p),this.flush()}},e.prototype.close=function(){function h(){i.onClose("forced close"),v("socket closing - telling transport to close"),i.transport.close()}function o(){i.removeListener("upgrade",o),i.removeListener("upgradeError",o),h()}function p(){i.once("upgrade",o),i.once("upgradeError",o)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?p():h()}):this.upgrading?p():h()}return this},e.prototype.onError=function(h){v("socket error %j",h),e.priorWebsocketSuccess=!1,this.emit("error",h),this.onClose("transport error",h)},e.prototype.onClose=function(h,i){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){v('socket close with reason: "%s"',h);var o=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){o.writeBuffer=[],o.callbackBuffer=[],o.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",h,i)}},e.prototype.filterUpgrades=function(h){for(var o=[],p=0,i=h.length;i>p;p++){~t(this.transports,h[p])&&o.push(h[p])}return o}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":14,"./transports":15,"component-emitter":9,debug:22,"engine.io-parser":25,indexof:40,parsejson:32,parseqs:33,parseuri:34}],14:[function(d,g,j){function f(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized}var h=d("engine.io-parser"),c=d("component-emitter");g.exports=f,c(f.prototype),f.timestamps=0,f.prototype.onError=function(i,k){var l=new Error(i);return l.type="TransportError",l.description=k,this.emit("error",l),this},f.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},f.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},f.prototype.send=function(e){if("open"!=this.readyState){throw new Error("Transport not open")}this.write(e)},f.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},f.prototype.onData=function(i){var k=h.decodePacket(i,this.socket.binaryType);this.onPacket(k)},f.prototype.onPacket=function(e){this.emit("packet",e)},f.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":9,"engine.io-parser":25}],15:[function(c,d,f){(function(l){function k(o){var w,q=!1,e=!1,v=!1!==o.jsonp;if(l.location){var s="https:"==location.protocol,i=location.port;i||(i=s?443:80),q=o.hostname!=location.hostname||i!=o.port,e=o.secure!=s}if(o.xdomain=q,o.xscheme=e,w=new m(o),"open" in w&&!o.forceJSONP){return new h(o)}if(!v){throw new Error("JSONP disabled")}return new j(o)}var m=c("xmlhttprequest"),h=c("./polling-xhr"),j=c("./polling-jsonp"),g=c("./websocket");f.polling=k,f.websocket=g}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(c,d,f){(function(q){function j(){}function l(i){g.call(this,i),this.query=this.query||{},e||(q.___eio||(q.___eio=[]),e=q.___eio),this.index=e.length;var n=this;e.push(function(o){n.onData(o)}),this.query.j=this.index,q.document&&q.addEventListener&&q.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=j)},!1)}var g=c("./polling"),h=c("component-inherit");d.exports=l;var e,m=/\n/g,k=/\\n/g;h(l,g),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),g.prototype.doClose.call(this)},l.prototype.doPoll=function(){var i=this,p=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),p.async=!0,p.src=this.uri(),p.onerror=function(n){i.onError("jsonp poll error",n)};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(p,s),this.script=p;var o="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);o&&setTimeout(function(){var n=document.createElement("iframe");document.body.appendChild(n),document.body.removeChild(n)},100)},l.prototype.doWrite=function(C,z){function w(){p(),z()}function p(){if(v.iframe){try{v.form.removeChild(v.iframe)}catch(i){v.onError("jsonp polling iframe removal error",i)}}try{var n='<iframe src="javascript:0" name="'+v.iframeId+'">';x=document.createElement(n)}catch(i){x=document.createElement("iframe"),x.name=v.iframeId,x.src="javascript:0"}x.id=v.iframeId,v.form.appendChild(x),v.iframe=x}var v=this;if(!this.form){var x,D=document.createElement("form"),A=document.createElement("textarea"),B=this.iframeId="eio_iframe_"+this.index;D.className="socketio",D.style.position="absolute",D.style.top="-1000px",D.style.left="-1000px",D.target=B,D.method="POST",D.setAttribute("accept-charset","utf-8"),A.name="d",D.appendChild(A),document.body.appendChild(D),this.form=D,this.area=A}this.form.action=this.uri(),p(),C=C.replace(k,"\\\n"),this.area.value=C.replace(m,"\\n");try{this.form.submit()}catch(y){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==v.iframe.readyState&&w()}:this.iframe.onload=w}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-inherit":21}],17:[function(c,d,f){(function(j){function e(){}function h(i){if(m.call(this,i),j.location){var o="https:"==location.protocol,n=location.port;n||(n=o?443:80),this.xd=i.hostname!=j.location.hostname||n!=i.port,this.xs=i.secure!=o}}function k(i){this.method=i.method||"GET",this.uri=i.uri,this.xd=!!i.xd,this.xs=!!i.xs,this.async=!1!==i.async,this.data=void 0!=i.data?i.data:null,this.agent=i.agent,this.isBinary=i.isBinary,this.supportsBinary=i.supportsBinary,this.enablesXDR=i.enablesXDR,this.pfx=i.pfx,this.key=i.key,this.passphrase=i.passphrase,this.cert=i.cert,this.ca=i.ca,this.ciphers=i.ciphers,this.rejectUnauthorized=i.rejectUnauthorized,this.create()}function v(){for(var i in k.requests){k.requests.hasOwnProperty(i)&&k.requests[i].abort()}}var q=c("xmlhttprequest"),m=c("./polling"),g=c("component-emitter"),t=c("component-inherit"),l=c("debug")("engine.io-client:polling-xhr");d.exports=h,d.exports.Request=k,t(h,m),h.prototype.supportsBinary=!0,h.prototype.request=function(i){return i=i||{},i.uri=this.uri(),i.xd=this.xd,i.xs=this.xs,i.agent=this.agent||!1,i.supportsBinary=this.supportsBinary,i.enablesXDR=this.enablesXDR,i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized,new k(i)},h.prototype.doWrite=function(i,s){var w="string"!=typeof i&&void 0!==i,p=this.request({method:"POST",data:i,isBinary:w}),u=this;p.on("success",s),p.on("error",function(n){u.onError("xhr post error",n)}),this.sendXhr=p},h.prototype.doPoll=function(){l("xhr poll");var i=this.request(),n=this;i.on("data",function(o){n.onData(o)}),i.on("error",function(o){n.onError("xhr poll error",o)}),this.pollXhr=i},g(k.prototype),k.prototype.create=function(){var i={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized;var p=this.xhr=new q(i),n=this;try{if(l("xhr open %s: %s",this.method,this.uri),p.open(this.method,this.uri,this.async),this.supportsBinary&&(p.responseType="arraybuffer"),"POST"==this.method){try{this.isBinary?p.setRequestHeader("Content-type","application/octet-stream"):p.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}}"withCredentials" in p&&(p.withCredentials=!0),this.hasXDR()?(p.onload=function(){n.onLoad()},p.onerror=function(){n.onError(p.responseText)}):p.onreadystatechange=function(){4==p.readyState&&(200==p.status||1223==p.status?n.onLoad():setTimeout(function(){n.onError(p.status)},0))},l("xhr data %s",this.data),p.send(this.data)}catch(s){return void setTimeout(function(){n.onError(s)},0)}j.document&&(this.index=k.requestsCount++,k.requests[this.index]=this)},k.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},k.prototype.onData=function(i){this.emit("data",i),this.onSuccess()},k.prototype.onError=function(i){this.emit("error",i),this.cleanup(!0)},k.prototype.cleanup=function(i){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=e:this.xhr.onreadystatechange=e,i){try{this.xhr.abort()}catch(n){}}j.document&&delete k.requests[this.index],this.xhr=null}},k.prototype.onLoad=function(){var i;try{var o;try{o=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(p){}i="application/octet-stream"===o?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(p){this.onError(p)}null!=i&&this.onData(i)},k.prototype.hasXDR=function(){return"undefined"!=typeof j.XDomainRequest&&!this.xs&&this.enablesXDR},k.prototype.abort=function(){this.cleanup()},j.document&&(k.requestsCount=0,k.requests={},j.attachEvent?j.attachEvent("onunload",v):j.addEventListener&&j.addEventListener("beforeunload",v,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-emitter":9,"component-inherit":21,debug:22,xmlhttprequest:20}],18:[function(q,k,h){function d(c){var i=c&&c.forceBase64;(!f||i)&&(this.supportsBinary=!1),g.call(this,c)}var g=q("../transport"),j=q("parseqs"),u=q("engine.io-parser"),m=q("component-inherit"),l=q("debug")("engine.io-client:polling");k.exports=d;var f=function(){var c=q("xmlhttprequest"),i=new c({xdomain:!1});return null!=i.responseType}();m(d,g),d.prototype.name="polling",d.prototype.doOpen=function(){this.poll()},d.prototype.pause=function(c){function o(){l("paused"),p.readyState="paused",c()}var p=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(l("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){l("pre-pause polling complete"),--i||o()})),this.writable||(l("we are currently writing - waiting to pause"),i++,this.once("drain",function(){l("pre-pause writing complete"),--i||o()}))}else{o()}},d.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},d.prototype.onData=function(c){var i=this;l("polling got data %s",c);var o=function(e,s,p){return"opening"==i.readyState&&i.onOpen(),"close"==e.type?(i.onClose(),!1):void i.onPacket(e)};u.decodePayload(c,this.socket.binaryType,o),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},d.prototype.doClose=function(){function c(){l("writing close packet"),i.write([{type:"close"}])}var i=this;"open"==this.readyState?(l("transport open - closing"),c()):(l("transport not open - deferring close"),this.once("open",c))},d.prototype.write=function(c){var i=this;this.writable=!1;var o=function(){i.writable=!0,i.emit("drain")},i=this;u.encodePayload(c,this.supportsBinary,function(e){i.doWrite(e,o)})},d.prototype.uri=function(){var c=this.query||{},i=this.secure?"https":"http",o="";return !1!==this.timestampRequests&&(c[this.timestampParam]=+new Date+"-"+g.timestamps++),this.supportsBinary||c.sid||(c.b64=1),c=j.encode(c),this.port&&("https"==i&&443!=this.port||"http"==i&&80!=this.port)&&(o=":"+this.port),c.length&&(c="?"+c),i+"://"+this.hostname+o+this.path+c}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,xmlhttprequest:20}],19:[function(q,k,h){function d(c){var i=c&&c.forceBase64;i&&(this.supportsBinary=!1),g.call(this,c)}var g=q("../transport"),j=q("engine.io-parser"),u=q("parseqs"),m=q("component-inherit"),l=q("debug")("engine.io-client:websocket"),f=q("ws");k.exports=d,m(d,g),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var c=this.uri(),i=void 0,o={agent:this.agent};o.pfx=this.pfx,o.key=this.key,o.passphrase=this.passphrase,o.cert=this.cert,o.ca=this.ca,o.ciphers=this.ciphers,o.rejectUnauthorized=this.rejectUnauthorized,this.ws=new f(c,i,o),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var c=this;this.ws.onopen=function(){c.onOpen()},this.ws.onclose=function(){c.onClose()},this.ws.onmessage=function(i){c.onData(i.data)},this.ws.onerror=function(i){c.onError("websocket error",i)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(d.prototype.onData=function(c){var i=this;setTimeout(function(){g.prototype.onData.call(i,c)},0)}),d.prototype.write=function(c){function p(){v.writable=!0,v.emit("drain")}var v=this;this.writable=!1;for(var i=0,s=c.length;s>i;i++){j.encodePacket(c[i],this.supportsBinary,function(n){try{v.ws.send(n)}catch(o){l("websocket closed before onclose event")}})}setTimeout(p,0)},d.prototype.onClose=function(){g.prototype.onClose.call(this)},d.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},d.prototype.uri=function(){var c=this.query||{},i=this.secure?"wss":"ws",o="";return this.port&&("wss"==i&&443!=this.port||"ws"==i&&80!=this.port)&&(o=":"+this.port),this.timestampRequests&&(c[this.timestampParam]=+new Date),this.supportsBinary||(c.b64=1),c=u.encode(c),c.length&&(c="?"+c),i+"://"+this.hostname+o+this.path+c},d.prototype.check=function(){return !(!f||"__initialize" in f&&this.name===d.prototype.name)}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,ws:35}],20:[function(c,f,g){var d=c("has-cors");f.exports=function(j){var k=j.xdomain,m=j.xscheme,l=j.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!k||d)){return new XMLHttpRequest}}catch(h){}try{if("undefined"!=typeof XDomainRequest&&!m&&l){return new XDomainRequest}}catch(h){}if(!k){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(h){}}}},{"has-cors":38}],21:[function(c,d,f){d.exports=function(g,h){var i=function(){};i.prototype=h.prototype,g.prototype=new i,g.prototype.constructor=g}},{}],22:[function(f,j,l){function h(){return"WebkitAppearance" in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function k(){var n=arguments,q=this.useColors;if(n[0]=(q?"%c":"")+this.namespace+(q?" %c":" ")+n[0]+(q?"%c ":" ")+"+"+l.humanize(this.diff),!q){return n}var p="color: "+this.color;n=[n[0],p,"color: inherit"].concat(Array.prototype.slice.call(n,1));var s=0,m=0;return n[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(s++,"%c"===e&&(m=s))}),n.splice(m,0,p),n}function d(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(i){try{null==i?localStorage.removeItem("debug"):localStorage.debug=i}catch(m){}}function c(){var i;try{i=localStorage.debug}catch(m){}return i}l=j.exports=f("./debug"),l.log=d,l.formatArgs=k,l.save=g,l.load=c,l.useColors=h,l.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],l.formatters.j=function(e){return JSON.stringify(e)},l.enable(c())},{"./debug":23}],23:[function(v,k,h){function d(){return h.colors[q++%h.colors.length]}function g(n){function p(){}function r(){var x=r,z=+new Date,u=z-(f||z);x.diff=u,x.prev=f,x.curr=z,f=z,null==x.useColors&&(x.useColors=h.useColors()),null==x.color&&x.useColors&&(x.color=d());var y=Array.prototype.slice.call(arguments);y[0]=h.coerce(y[0]),"string"!=typeof y[0]&&(y=["%o"].concat(y));var o=0;y[0]=y[0].replace(/%([a-z%])/g,function(B,t){if("%%"===B){return B}o++;var C=h.formatters[t];if("function"==typeof C){var s=y[o];B=C.call(x,s),y.splice(o,1),o--}return B}),"function"==typeof h.formatArgs&&(y=h.formatArgs.apply(x,y));var A=r.log||h.log||console.log.bind(console);A.apply(x,y)}p.enabled=!1,r.enabled=!0;var c=h.enabled(n)?r:p;return c.namespace=n,c}function j(c){h.save(c);for(var n=(c||"").split(/[\s,]+/),i=n.length,p=0;i>p;p++){n[p]&&(c=n[p].replace(/\*/g,".*?"),"-"===c[0]?h.skips.push(new RegExp("^"+c.substr(1)+"$")):h.names.push(new RegExp("^"+c+"$")))}}function w(){h.enable("")}function m(c){var n,i;for(n=0,i=h.skips.length;i>n;n++){if(h.skips[n].test(c)){return !1}}for(n=0,i=h.names.length;i>n;n++){if(h.names[n].test(c)){return !0}}return !1}function l(c){return c instanceof Error?c.stack||c.message:c}h=k.exports=g,h.coerce=l,h.disable=w,h.enable=j,h.enabled=m,h.humanize=v("ms"),h.names=[],h.skips=[],h.formatters={};var f,q=0},{ms:24}],24:[function(x,m,j){function d(c){var i=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(c);if(i){var o=parseFloat(i[1]),f=(i[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"y":return o*l;case"days":case"day":case"d":return o*w;case"hours":case"hour":case"h":return o*g;case"minutes":case"minute":case"m":return o*q;case"seconds":case"second":case"s":return o*v;case"ms":return o}}}function h(c){return c>=w?Math.round(c/w)+"d":c>=g?Math.round(c/g)+"h":c>=q?Math.round(c/q)+"m":c>=v?Math.round(c/v)+"s":c+"ms"}function k(c){return y(c,w,"day")||y(c,g,"hour")||y(c,q,"minute")||y(c,v,"second")||c+" ms"}function y(c,f,i){return f>c?void 0:1.5*f>c?Math.floor(c/f)+" "+i:Math.ceil(c/f)+" "+i+"s"}var v=1000,q=60*v,g=60*q,w=24*g,l=365.25*w;m.exports=function(c,f){return f=f||{},"string"==typeof c?d(c):f["long"]?k(c):h(c)}},{}],25:[function(c,d,f){(function(H){function x(g,i){var h="b"+f.packets[g.type]+g.data.data;return i(h)}function A(l,u,p){if(!u){return f.encodeBase64Packet(l,p)}var v=l.data,h=new Uint8Array(v),m=new Uint8Array(1+v.byteLength);m[0]=B[l.type];for(var g=0;g<h.length;g++){m[g+1]=h[g]}return p(m.buffer)}function D(g,i,h){if(!i){return f.encodeBase64Packet(g,h)}var l=new FileReader;return l.onload=function(){g.data=l.result,f.encodePacket(g,i,!0,h)},l.readAsArrayBuffer(g.data)}function t(g,l,i){if(!l){return f.encodeBase64Packet(g,i)}if(F){return D(g,l,i)}var m=new Uint8Array(1);m[0]=B[g.type];var h=new k([m.buffer,g.data]);return i(h)}function L(h,p,v){for(var m=new Array(h.length),u=E(h.length,v),g=function(e,r,i){p(r,function(o,s){m[e]=s,i(o,m)})},l=0;l<h.length;l++){g(l,h[l],u)}}var J=c("./keys"),z=c("has-binary"),q=c("arraybuffer.slice"),G=c("base64-arraybuffer"),E=c("after"),C=c("utf8"),I=navigator.userAgent.match(/Android/i),j=/PhantomJS/i.test(navigator.userAgent),F=I||j;f.protocol=3;var B=f.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},n=J(B),K={type:"error",data:"parser error"},k=c("blob");f.encodePacket=function(h,o,g,e){"function"==typeof o&&(e=o,o=!1),"function"==typeof g&&(e=g,g=null);var m=void 0===h.data?void 0:h.data.buffer||h.data;if(H.ArrayBuffer&&m instanceof ArrayBuffer){return A(h,o,e)}if(k&&m instanceof H.Blob){return t(h,o,e)}if(m&&m.base64){return x(h,e)}var l=B[h.type];return void 0!==h.data&&(l+=g?C.encode(String(h.data)):String(h.data)),e(""+l)},f.encodeBase64Packet=function(y,e){var h="b"+f.packets[y.type];if(k&&y.data instanceof k){var l=new FileReader;return l.onload=function(){var i=l.result.split(",")[1];e(h+i)},l.readAsDataURL(y.data)}var M;try{M=String.fromCharCode.apply(null,new Uint8Array(y.data))}catch(v){for(var m=new Uint8Array(y.data),g=new Array(m.length),w=0;w<m.length;w++){g[w]=m[w]}M=String.fromCharCode.apply(null,g)}return h+=H.btoa(M),e(h)},f.decodePacket=function(l,u,p){if("string"==typeof l||void 0===l){if("b"==l.charAt(0)){return f.decodeBase64Packet(l.substr(1),u)}if(p){try{l=C.decode(l)}catch(v){return K}}var h=l.charAt(0);return Number(h)==h&&n[h]?l.length>1?{type:n[h],data:l.substring(1)}:{type:n[h]}:K}var m=new Uint8Array(l),h=m[0],g=q(l,1);return k&&"blob"===u&&(g=new k([g])),{type:n[h],data:g}},f.decodeBase64Packet=function(e,i){var g=n[e.charAt(0)];if(!H.ArrayBuffer){return{type:g,data:{base64:!0,data:e.substr(1)}}}var h=G.decode(e.substr(1));return"blob"===i&&k&&(h=new k([h])),{type:g,data:h}},f.encodePayload=function(h,p,m){function u(e){return e.length+":"+e}function g(e,i){f.encodePacket(e,l?p:!1,!0,function(o){i(null,u(o))})}"function"==typeof p&&(m=p,p=null);var l=z(h);return p&&l?k&&!F?f.encodePayloadAsBlob(h,m):f.encodePayloadAsArrayBuffer(h,m):h.length?void L(h,g,function(i,o){return m(o.join(""))}):m("0:")},f.decodePayload=function(O,w,g){if("string"!=typeof O){return f.decodePayloadAsBinary(O,w,g)}"function"==typeof w&&(g=w,w=null);var l;if(""==O){return g(K,0,1)}for(var m,P,M="",y=0,h=O.length;h>y;y++){var N=O.charAt(y);if(":"!=N){M+=N}else{if(""==M||M!=(m=Number(M))){return g(K,0,1)}if(P=O.substr(y+1,m),M!=P.length){return g(K,0,1)}if(P.length){if(l=f.decodePacket(P,w,!0),K.type==l.type&&K.data==l.data){return g(K,0,1)}var v=g(l,y+m,h);if(!1===v){return}}y+=m,M=""}}return""!=M?g(K,0,1):void 0},f.encodePayloadAsArrayBuffer=function(g,i){function h(l,m){f.encodePacket(l,!0,!0,function(e){return m(null,e)})}return g.length?void L(g,h,function(l,s){var m=s.reduce(function(o,r){var u;return u="string"==typeof r?r.length:r.byteLength,o+u.toString().length+u+2},0),p=new Uint8Array(m),e=0;return s.forEach(function(u){var y="string"==typeof u,M=u;if(y){for(var w=new Uint8Array(u.length),v=0;v<u.length;v++){w[v]=u.charCodeAt(v)}M=w.buffer}y?p[e++]=0:p[e++]=1;for(var o=M.byteLength.toString(),v=0;v<o.length;v++){p[e++]=parseInt(o[v])}p[e++]=255;for(var w=new Uint8Array(M),v=0;v<w.length;v++){p[e++]=w[v]}}),i(p.buffer)}):i(new ArrayBuffer(0))},f.encodePayloadAsBlob=function(g,i){function h(l,m){f.encodePacket(l,!0,!0,function(u){var N=new Uint8Array(1);if(N[0]=1,"string"==typeof u){for(var w=new Uint8Array(u.length),y=0;y<u.length;y++){w[y]=u.charCodeAt(y)}u=w.buffer,N[0]=0}for(var p=u instanceof ArrayBuffer?u.byteLength:u.size,v=p.toString(),e=new Uint8Array(v.length+1),y=0;y<v.length;y++){e[y]=parseInt(v[y])}if(e[v.length]=255,k){var M=new k([N.buffer,e.buffer,u]);m(null,M)}})}L(g,h,function(e,l){return i(new k(l))})},f.decodePayloadAsBinary=function(T,O,g){"function"==typeof O&&(g=O,O=null);for(var u=T,w=[],U=!1;u.byteLength>0;){for(var S=new Uint8Array(u),Q=0===S[0],m="",N=1;255!=S[N];N++){if(m.length>310){U=!0;break}m+=S[N]}if(U){return g(K,0,1)}u=q(u,2+m.length),m=parseInt(m);var M=q(u,0,m);if(Q){try{M=String.fromCharCode.apply(null,new Uint8Array(M))}catch(v){var P=new Uint8Array(M);M="";for(var N=0;N<P.length;N++){M+=String.fromCharCode(P[N])}}}w.push(M),u=q(u,m)}var R=w.length;w.forEach(function(e,h){g(f.decodePacket(e,O,!0),h,R)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":26,after:27,"arraybuffer.slice":28,"base64-arraybuffer":29,blob:30,"has-binary":36,utf8:31}],26:[function(c,d,f){d.exports=Object.keys||function(g){var i=[],j=Object.prototype.hasOwnProperty;for(var h in g){j.call(g,h)&&i.push(h)}return i}},{}],27:[function(c,f,h){function d(k,m,o){function l(e,i){if(l.count<=0){throw new Error("after called too many times")}--l.count,e?(j=!0,m(e),m=o):0!==l.count||j||m(null,i)}var j=!1;return o=o||g,l.count=k,0===k?m():l}function g(){}f.exports=d},{}],28:[function(c,d,f){d.exports=function(j,m,q){var l=j.byteLength;if(m=m||0,q=q||l,j.slice){return j.slice(m,q)}if(0>m&&(m+=l),0>q&&(q+=l),q>l&&(q=l),m>=l||m>=q||0===l){return new ArrayBuffer(0)}for(var p=new Uint8Array(j),h=new Uint8Array(q-m),k=m,g=0;q>k;k++,g++){h[g]=p[k]}return h.buffer}},{}],29:[function(c,d,f){!function(e){f.encode=function(j){var l,h=new Uint8Array(j),k=h.length,g="";for(l=0;k>l;l+=3){g+=e[h[l]>>2],g+=e[(3&h[l])<<4|h[l+1]>>4],g+=e[(15&h[l+1])<<2|h[l+2]>>6],g+=e[63&h[l+2]]}return k%3===2?g=g.substring(0,g.length-1)+"=":k%3===1&&(g=g.substring(0,g.length-2)+"=="),g},f.decode=function(q){var k,g,j,l,x,v=0.75*q.length,t=q.length,h=0;"="===q[q.length-1]&&(v--,"="===q[q.length-2]&&v--);var w=new ArrayBuffer(v),m=new Uint8Array(w);for(k=0;t>k;k+=4){g=e.indexOf(q[k]),j=e.indexOf(q[k+1]),l=e.indexOf(q[k+2]),x=e.indexOf(q[k+3]),m[h++]=g<<2|j>>4,m[h++]=(15&j)<<4|l>>2,m[h++]=(3&l)<<6|63&x}return w}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],30:[function(c,d,f){(function(h){function p(i){for(var s=0;s<i.length;s++){var v=i[s];if(v.buffer instanceof ArrayBuffer){var q=v.buffer;if(v.byteLength!==q.byteLength){var u=new Uint8Array(v.byteLength);u.set(new Uint8Array(q,v.byteOffset,v.byteLength)),q=u.buffer}i[s]=q}}}function k(i,q){q=q||{};var n=new g;p(i);for(var s=0;s<i.length;s++){n.append(i[s])}return q.type?n.getBlob(q.type):n.getBlob()}function l(i,n){return p(i),new Blob(i,n||{})}var g=h.BlobBuilder||h.WebKitBlobBuilder||h.MSBlobBuilder||h.MozBlobBuilder,j=function(){try{var i=new Blob(["hi"]);return 2===i.size}catch(n){return !1}}(),e=j&&function(){try{var i=new Blob([new Uint8Array([1,2])]);return 2===i.size}catch(n){return !1}}(),m=g&&g.prototype.append&&g.prototype.getBlob;d.exports=function(){return j?e?h.Blob:l:m?k:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(d,f,c){(function(g){!function(E){function I(k){for(var m,s,l=[],p=0,h=k.length;h>p;){m=k.charCodeAt(p++),m>=55296&&56319>=m&&h>p?(s=k.charCodeAt(p++),56320==(64512&s)?l.push(((1023&m)<<10)+(1023&s)+65536):(l.push(m),p--)):l.push(m)}return l}function t(h){for(var k,m=h.length,i=-1,l="";++i<m;){k=h[i],k>65535&&(k-=65536,l+=n(k>>>10&1023|55296),k=56320|1023&k),l+=n(k)}return l}function P(h){if(h>=55296&&57343>=h){throw Error("Lone surrogate U+"+h.toString(16).toUpperCase()+" is not a scalar value")}}function N(h,i){return n(h>>i&63|128)}function D(h){if(0==(4294967168&h)){return n(h)}var i="";return 0==(4294965248&h)?i=n(h>>6&31|192):0==(4294901760&h)?(P(h),i=n(h>>12&15|224),i+=N(h,6)):0==(4292870144&h)&&(i=n(h>>18&7|240),i+=N(h,12),i+=N(h,6)),i+=n(63&h|128)}function r(h){for(var l,p=I(h),k=p.length,m=-1,i="";++m<k;){l=p[m],i+=D(l)}return i}function L(){if(O>=q){throw Error("Invalid byte index")}var h=255&F[O];if(O++,128==(192&h)){return 63&h}throw Error("Invalid continuation byte")}function J(){var h,k,m,i,l;if(O>q){throw Error("Invalid byte index")}if(O==q){return !1}if(h=255&F[O],O++,0==(128&h)){return h}if(192==(224&h)){var k=L();if(l=(31&h)<<6|k,l>=128){return l}throw Error("Invalid continuation byte")}if(224==(240&h)){if(k=L(),m=L(),l=(15&h)<<12|k<<6|m,l>=2048){return P(l),l}throw Error("Invalid continuation byte")}if(240==(248&h)&&(k=L(),m=L(),i=L(),l=(15&h)<<18|k<<12|m<<6|i,l>=65536&&1114111>=l)){return l}throw Error("Invalid UTF-8 detected")}function G(h){F=I(h),q=F.length,O=0;for(var i,k=[];(i=J())!==!1;){k.push(i)}return t(k)}var M="object"==typeof c&&c,e="object"==typeof f&&f&&f.exports==M&&f,K="object"==typeof g&&g;(K.global===K||K.window===K)&&(E=K);var F,q,O,n=String.fromCharCode,H={version:"2.0.0",encode:r,decode:G};if("function"==typeof a&&"object"==typeof a.amd&&a.amd){a(function(){return H})}else{if(M&&!M.nodeType){if(e){e.exports=H}else{var j={},C=j.hasOwnProperty;for(var z in H){C.call(H,z)&&(M[z]=H[z])}}}else{E.utf8=H}}}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(c,d,f){(function(h){var m=/^[\],:{}\s]*$/,k=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,l=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,g=/(?:^|:|,)(?:\s*\[)+/g,j=/^\s+/,e=/\s+$/;d.exports=function(i){return"string"==typeof i&&i?(i=i.replace(j,"").replace(e,""),h.JSON&&JSON.parse?JSON.parse(i):m.test(i.replace(k,"@").replace(l,"]").replace(g,""))?new Function("return "+i)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(c,d,f){f.encode=function(g){var h="";for(var i in g){g.hasOwnProperty(i)&&(h.length&&(h+="&"),h+=encodeURIComponent(i)+"="+encodeURIComponent(g[i]))}return h},f.decode=function(h){for(var k={},m=h.split("&"),j=0,l=m.length;l>j;j++){var g=m[j].split("=");k[decodeURIComponent(g[0])]=decodeURIComponent(g[1])}return k}},{}],34:[function(c,f,h){var d=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];f.exports=function(l){var o=l,q=l.indexOf("["),k=l.indexOf("]");-1!=q&&-1!=k&&(l=l.substring(0,q)+l.substring(q,k).replace(/:/g,";")+l.substring(k,l.length));for(var m=d.exec(l||""),j={},p=14;p--;){j[g[p]]=m[p]||""}return -1!=q&&-1!=k&&(j.source=o,j.host=j.host.substring(1,j.host.length-1).replace(/;/g,":"),j.authority=j.authority.replace("[","").replace("]","").replace(/;/g,":"),j.ipv6uri=!0),j}},{}],35:[function(d,g,j){function f(i,l,m){var k;return k=l?new c(i,l):new c(i)}var h=function(){return this}(),c=h.WebSocket||h.MozWebSocket;g.exports=c?f:null,c&&(f.prototype=c.prototype)},{}],36:[function(c,d,f){(function(h){function e(i){function j(l){if(!l){return !1}if(h.Buffer&&h.Buffer.isBuffer(l)||h.ArrayBuffer&&l instanceof ArrayBuffer||h.Blob&&l instanceof Blob||h.File&&l instanceof File){return !0}if(g(l)){for(var m=0;m<l.length;m++){if(j(l[m])){return !0}}}else{if(l&&"object"==typeof l){l.toJSON&&(l=l.toJSON());for(var k in l){if(Object.prototype.hasOwnProperty.call(l,k)&&j(l[k])){return !0}}}}return !1}return j(i)}var g=c("isarray");d.exports=e}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:37}],37:[function(c,d,f){d.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],38:[function(c,f,h){var d=c("global");try{f.exports="XMLHttpRequest" in d&&"withCredentials" in new d.XMLHttpRequest}catch(g){f.exports=!1}},{global:39}],39:[function(c,d,f){d.exports=function(){return this}()},{}],40:[function(c,f,g){var d=[].indexOf;f.exports=function(h,i){if(d){return h.indexOf(i)}for(var j=0;j<h.length;++j){if(h[j]===i){return j}}return -1}},{}],41:[function(c,f,g){var d=Object.prototype.hasOwnProperty;g.keys=Object.keys||function(h){var i=[];for(var j in h){d.call(h,j)&&i.push(j)}return i},g.values=function(h){var i=[];for(var j in h){d.call(h,j)&&i.push(h[j])}return i},g.merge=function(h,i){for(var j in i){d.call(i,j)&&(h[j]=i[j])}return h},g.length=function(e){return g.keys(e).length},g.isEmpty=function(e){return 0==g.length(e)}},{}],42:[function(c,f,h){var d=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];f.exports=function(k){for(var l=d.exec(k||""),m={},j=14;j--;){m[g[j]]=l[j]||""}return m}},{}],43:[function(c,d,f){(function(h){var g=c("isarray"),i=c("./is-buffer");f.deconstructPacket=function(k){function m(p){if(!p){return p}if(i(p)){var n={_placeholder:!0,num:o.length};return o.push(p),n}if(g(p)){for(var q=new Array(p.length),e=0;e<p.length;e++){q[e]=m(p[e])}return q}if("object"==typeof p&&!(p instanceof Date)){var q={};for(var r in p){q[r]=m(p[r])}return q}return p}var o=[],j=k.data,l=k;return l.data=m(j),l.attachments=o.length,{packet:l,buffers:o}},f.reconstructPacket=function(j,k){function l(m){if(m&&m._placeholder){var p=k[m.num];return p}if(g(m)){for(var e=0;e<m.length;e++){m[e]=l(m[e])}return m}if(m&&"object"==typeof m){for(var n in m){m[n]=l(m[n])}return m}return m}return j.data=l(j.data),j.attachments=void 0,j},f.removeBlobs=function(k,m){function j(o,v,s){if(!o){return o}if(h.Blob&&o instanceof Blob||h.File&&o instanceof File){l++;var n=new FileReader;n.onload=function(){s?s[v]=this.result:e=this.result,--l||m(e)},n.readAsArrayBuffer(o)}else{if(g(o)){for(var r=0;r<o.length;r++){j(o[r],r,o)}}else{if(o&&"object"==typeof o&&!i(o)){for(var q in o){j(o[q],q,o)}}}}}var l=0,e=k;j(e),l||m(e)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":45,isarray:46}],44:[function(D,y,m){function g(){}function k(c){var f="",d=!1;return f+=c.type,(m.BINARY_EVENT==c.type||m.BINARY_ACK==c.type)&&(f+=c.attachments,f+="-"),c.nsp&&"/"!=c.nsp&&(d=!0,f+=c.nsp),null!=c.id&&(d&&(f+=",",d=!1),f+=c.id),null!=c.data&&(d&&(f+=","),f+=x.stringify(c.data)),C("encoded %j as %s",c,f),f}function v(c,d){function f(h){var o=q.deconstructPacket(h),l=k(o.packet),e=o.buffers;e.unshift(l),d(e)}q.removeBlobs(c,f)}function E(){this.reconstructor=null}function B(f){var n={},l=0;if(n.type=Number(f.charAt(0)),null==m.types[n.type]){return j()}if(m.BINARY_EVENT==n.type||m.BINARY_ACK==n.type){for(var p="";"-"!=f.charAt(++l)&&(p+=f.charAt(l),l!=f.length);){}if(p!=Number(p)||"-"!=f.charAt(l)){throw new Error("Illegal attachments")}n.attachments=Number(p)}if("/"==f.charAt(l+1)){for(n.nsp="";++l;){var d=f.charAt(l);if(","==d){break}if(n.nsp+=d,l==f.length){break}}}else{n.nsp="/"}var h=f.charAt(l+1);if(""!==h&&Number(h)==h){for(n.id="";++l;){var d=f.charAt(l);if(null==d||Number(d)!=d){--l;break}if(n.id+=f.charAt(l),l==f.length){break}}n.id=Number(n.id)}if(f.charAt(++l)){try{n.data=x.parse(f.substr(l))}catch(c){return j()}}return C("decoded %s as %j",f,n),n}function A(c){this.reconPack=c,this.buffers=[]}function j(c){return{type:m.ERROR,data:"parser error"}}var C=D("debug")("socket.io-parser"),x=D("json3"),w=(D("isarray"),D("component-emitter")),q=D("./binary"),z=D("./is-buffer");m.protocol=4,m.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],m.CONNECT=0,m.DISCONNECT=1,m.EVENT=2,m.ACK=3,m.ERROR=4,m.BINARY_EVENT=5,m.BINARY_ACK=6,m.Encoder=g,m.Decoder=E,g.prototype.encode=function(c,f){if(C("encoding packet %j",c),m.BINARY_EVENT==c.type||m.BINARY_ACK==c.type){v(c,f)}else{var d=k(c);f([d])}},w(E.prototype),E.prototype.add=function(c){var d;if("string"==typeof c){d=B(c),m.BINARY_EVENT==d.type||m.BINARY_ACK==d.type?(this.reconstructor=new A(d),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",d)):this.emit("decoded",d)}else{if(!z(c)&&!c.base64){throw new Error("Unknown type: "+c)}if(!this.reconstructor){throw new Error("got binary data when not reconstructing a packet")}d=this.reconstructor.takeBinaryData(c),d&&(this.reconstructor=null,this.emit("decoded",d))}},E.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},A.prototype.takeBinaryData=function(c){if(this.buffers.push(c),this.buffers.length==this.reconPack.attachments){var d=q.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),d}return null},A.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":43,"./is-buffer":45,"component-emitter":9,debug:10,isarray:46,json3:47}],45:[function(c,d,f){(function(e){function g(h){return e.Buffer&&e.Buffer.isBuffer(h)||e.ArrayBuffer&&h instanceof ArrayBuffer}d.exports=g}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(c,d,f){d.exports=c(37)},{}],47:[function(d,f,c){!function(ar){function ai(v){if(ai[v]!==ae){return ai[v]}var s;if("bug-string-char-index"==v){s="a"!="a"[0]}else{if("json"==v){s=ai("json-stringify")&&ai("json-parse")}else{var g,k='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==v){var n=ad.stringify,u="function"==typeof n&&aq;if(u){(g=function(){return 1}).toJSON=g;try{u="0"===n(0)&&"0"===n(new Number)&&'""'==n(new String)&&n(aw)===ae&&n(ae)===ae&&n()===ae&&"1"===n(g)&&"[1]"==n([g])&&"[null]"==n([ae])&&"null"==n(null)&&"[null,null,null]"==n([ae,aw,null])&&n({a:[g,!0,!1,null,"\x00\b\n\f\r	"]})==k&&"1"===n(null,g)&&"[\n 1,\n 2\n]"==n([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==n(new Date(-8640000000000000))&&'"+275760-09-13T00:00:00.000Z"'==n(new Date(8640000000000000))&&'"-000001-01-01T00:00:00.000Z"'==n(new Date(-62198755200000))&&'"1969-12-31T23:59:59.999Z"'==n(new Date(-1))}catch(j){u=!1}}s=u}if("json-parse"==v){var q=ad.parse;if("function"==typeof q){try{if(0===q("0")&&!q(!1)){g=q(k);var m=5==g.a.length&&1===g.a[0];if(m){try{m=!q('"	"')}catch(j){}if(m){try{m=1!==q("01")}catch(j){}}if(m){try{m=1!==q("1.")}catch(j){}}}}}catch(j){m=!1}}s=m}}}return ai[v]=!!s}var ah,an,ae,aw={}.toString,au="function"==typeof a&&a.amd,ag="object"==typeof JSON&&JSON,ad="object"==typeof c&&c&&!c.nodeType&&c;ad&&ag?(ad.stringify=ag.stringify,ad.parse=ag.parse):ad=ar.JSON=ag||{};var aq=new Date(-3509827334573292);try{aq=-109252==aq.getUTCFullYear()&&0===aq.getUTCMonth()&&1===aq.getUTCDate()&&10==aq.getUTCHours()&&37==aq.getUTCMinutes()&&6==aq.getUTCSeconds()&&708==aq.getUTCMilliseconds()}catch(ao){}if(!ai("json")){var ak="[object Function]",at="[object Date]",Z="[object Number]",ap="[object String]",aj="[object Array]",ac="[object Boolean]",av=ai("bug-string-char-index");if(!aq){var ab=Math.floor,al=[0,31,59,90,120,151,181,212,243,273,304,334],aa=function(g,h){return al[h]+365*(g-1970)+ab((g-1969+(h=+(h>1)))/4)-ab((g-1901+h)/100)+ab((g-1601+h)/400)}}(ah={}.hasOwnProperty)||(ah=function(g){var h,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=aw?ah=function(j){var k=this.__proto__,l=j in (this.__proto__=null,this);return this.__proto__=k,l}:(h=i.constructor,ah=function(e){var j=(this.constructor||h).prototype;return e in this&&!(e in j&&this[e]===j[e])}),i=null,ah.call(this,g)});var Y={"boolean":1,number:1,string:1,undefined:1},X=function(g,h){var i=typeof g[h];return"object"==i?!!g[h]:!Y[i]};if(an=function(g,j){var l,i,h,k=0;(l=function(){this.valueOf=0}).prototype.valueOf=0,i=new l;for(h in i){ah.call(i,h)&&k++}return l=i=null,k?an=2==k?function(o,q){var s,p={},m=aw.call(o)==ak;for(s in o){m&&"prototype"==s||ah.call(p,s)||!(p[s]=1)||!ah.call(o,s)||q(s)}}:function(o,q){var s,p,m=aw.call(o)==ak;for(s in o){m&&"prototype"==s||!ah.call(o,s)||(p="constructor"===s)||q(s)}(p||ah.call(o,s="constructor"))&&q(s)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],an=function(o,q){var v,m,p=aw.call(o)==ak,u=!p&&"function"!=typeof o.constructor&&X(o,"hasOwnProperty")?o.hasOwnProperty:ah;for(v in o){p&&"prototype"==v||!u.call(o,v)||q(v)}for(m=i.length;v=i[--m];u.call(o,v)&&q(v)){}}),an(g,j)},!ai("json-stringify")){var W={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},z="000000",Q=function(g,h){return(z+(h||0)).slice(-g)},t="\\u00",am=function(h){var l,p='"',k=0,m=h.length,g=m>10&&av;for(g&&(l=h.split(""));m>k;k++){var j=h.charCodeAt(k);switch(j){case 8:case 9:case 10:case 12:case 13:case 34:case 92:p+=W[j];break;default:if(32>j){p+=t+Q(2,j.toString(16));break}p+=g?l[k]:av?h.charAt(k):h[k]}}return p+'"'},ax=function(x,aG,aB,I,aH,aA,w){var aF,aE,aC,aI,aD,az,ay,E,j,i,o,m,v,s,g,L;try{aF=aG[x]}catch(y){}if("object"==typeof aF&&aF){if(aE=aw.call(aF),aE!=at||ah.call(aF,"toJSON")){"function"==typeof aF.toJSON&&(aE!=Z&&aE!=ap&&aE!=aj||ah.call(aF,"toJSON"))&&(aF=aF.toJSON(x))}else{if(aF>-1/0&&1/0>aF){if(aa){for(aD=ab(aF/86400000),aC=ab(aD/365.2425)+1970-1;aa(aC+1,0)<=aD;aC++){}for(aI=ab((aD-aa(aC,0))/30.42);aa(aC,aI+1)<=aD;aI++){}aD=1+aD-aa(aC,aI),az=(aF%86400000+86400000)%86400000,ay=ab(az/3600000)%24,E=ab(az/60000)%60,j=ab(az/1000)%60,i=az%1000}else{aC=aF.getUTCFullYear(),aI=aF.getUTCMonth(),aD=aF.getUTCDate(),ay=aF.getUTCHours(),E=aF.getUTCMinutes(),j=aF.getUTCSeconds(),i=aF.getUTCMilliseconds()}aF=(0>=aC||aC>=10000?(0>aC?"-":"+")+Q(6,0>aC?-aC:aC):Q(4,aC))+"-"+Q(2,aI+1)+"-"+Q(2,aD)+"T"+Q(2,ay)+":"+Q(2,E)+":"+Q(2,j)+"."+Q(3,i)+"Z"}else{aF=null}}}if(aB&&(aF=aB.call(aG,x,aF)),null===aF){return"null"}if(aE=aw.call(aF),aE==ac){return""+aF}if(aE==Z){return aF>-1/0&&1/0>aF?""+aF:"null"}if(aE==ap){return am(""+aF)}if("object"==typeof aF){for(s=w.length;s--;){if(w[s]===aF){throw TypeError()}}if(w.push(aF),o=[],g=aA,aA+=aH,aE==aj){for(v=0,s=aF.length;s>v;v++){m=ax(v,aF,aB,I,aH,aA,w),o.push(m===ae?"null":m)}L=o.length?aH?"[\n"+aA+o.join(",\n"+aA)+"\n"+g+"]":"["+o.join(",")+"]":"[]"}else{an(I||aF,function(h){var k=ax(h,aF,aB,I,aH,aA,w);k!==ae&&o.push(am(h)+":"+(aH?" ":"")+k)}),L=o.length?aH?"{\n"+aA+o.join(",\n"+aA)+"\n"+g+"}":"{"+o.join(",")+"}":"{}"}return w.pop(),L}};ad.stringify=function(w,m,k){var g,j,l,x;if("function"==typeof m||"object"==typeof m&&m){if((x=aw.call(m))==ak){j=m}else{if(x==aj){l={};for(var q,h=0,v=m.length;v>h;q=m[h++],x=aw.call(q),(x==ap||x==Z)&&(l[q]=1)){}}}}if(k){if((x=aw.call(k))==Z){if((k-=k%1)>0){for(g="",k>10&&(k=10);g.length<k;g+=" "){}}}else{x==ap&&(g=k.length<=10?k:k.slice(0,10))}}return ax("",(q={},q[""]=w,q),j,l,g,"",[])}}if(!ai("json-parse")){var G,F,J=String.fromCharCode,H={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},r=function(){throw G=F=null,SyntaxError()},af=function(){for(var h,l,p,k,m,g=F,j=g.length;j>G;){switch(m=g.charCodeAt(G)){case 9:case 10:case 13:case 32:G++;break;case 123:case 125:case 91:case 93:case 58:case 44:return h=av?g.charAt(G):g[G],G++,h;case 34:for(h="@",G++;j>G;){if(m=g.charCodeAt(G),32>m){r()}else{if(92==m){switch(m=g.charCodeAt(++G)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:h+=H[m],G++;break;case 117:for(l=++G,p=G+4;p>G;G++){m=g.charCodeAt(G),m>=48&&57>=m||m>=97&&102>=m||m>=65&&70>=m||r()}h+=J("0x"+g.slice(l,G));break;default:r()}}else{if(34==m){break}for(m=g.charCodeAt(G),l=G;m>=32&&92!=m&&34!=m;){m=g.charCodeAt(++G)}h+=g.slice(l,G)}}}if(34==g.charCodeAt(G)){return G++,h}r();default:if(l=G,45==m&&(k=!0,m=g.charCodeAt(++G)),m>=48&&57>=m){for(48==m&&(m=g.charCodeAt(G+1),m>=48&&57>=m)&&r(),k=!1;j>G&&(m=g.charCodeAt(G),m>=48&&57>=m);G++){}if(46==g.charCodeAt(G)){for(p=++G;j>p&&(m=g.charCodeAt(p),m>=48&&57>=m);p++){}p==G&&r(),G=p}if(m=g.charCodeAt(G),101==m||69==m){for(m=g.charCodeAt(++G),(43==m||45==m)&&G++,p=G;j>p&&(m=g.charCodeAt(p),m>=48&&57>=m);p++){}p==G&&r(),G=p}return +g.slice(l,G)}if(k&&r(),"true"==g.slice(G,G+4)){return G+=4,!0}if("false"==g.slice(G,G+5)){return G+=5,!1}if("null"==g.slice(G,G+4)){return G+=4,null}r()}}return"$"},V=function(g){var h,i;if("$"==g&&r(),"string"==typeof g){if("@"==(av?g.charAt(0):g[0])){return g.slice(1)}if("["==g){for(h=[];g=af(),"]"!=g;i||(i=!0)){i&&(","==g?(g=af(),"]"==g&&r()):r()),","==g&&r(),h.push(V(g))}return h}if("{"==g){for(h={};g=af(),"}"!=g;i||(i=!0)){i&&(","==g?(g=af(),"}"==g&&r()):r()),(","==g||"string"!=typeof g||"@"!=(av?g.charAt(0):g[0])||":"!=af())&&r(),h[g.slice(1)]=V(af())}return h}r()}return g},M=function(g,i,j){var h=K(g,i,j);h===ae?delete g[i]:g[i]=h},K=function(g,i,k){var h,j=g[i];if("object"==typeof j&&j){if(aw.call(j)==aj){for(h=j.length;h--;){M(j,h,k)}}else{an(j,function(e){M(j,e,k)})}}return k.call(g,i,j)};ad.parse=function(g,i){var j,h;return G=0,F=""+g,j=V(af()),"$"!=af()&&r(),G=F=null,i&&aw.call(i)==ak?K((h={},h[""]=j,h),"",i):j}}}au&&a(function(){return ad})}(this)},{}],48:[function(c,f,g){function d(h,j){var k=[];j=j||0;for(var i=j||0;i<h.length;i++){k[i-j]=h[i]}return k}f.exports=d},{}]},{},[1])(1)});function log(a){if(goEasy_debug){var b=(new Date).formatDate("yy-MM-dd hh:mm:ss.S");goEasy_logs.push(b+" "+a+"\n")}}function getCookie(b){var c,a=new RegExp("(^| )"+b+"=([^;]*)(;|$)");return(c=document.cookie.match(a))?unescape(c[2]):null}function setCookie(c,d){var b=30,a=new Date;a.setTime(a.getTime()+24*b*60*60*1000),document.cookie=c+"="+escape(d)+";expires="+a.toGMTString()}function GoEasyArray(){Array.apply(this)}function GoEasy(b){if(log("GoEasy() Create GoEasy object:"+JSON.stringify(b)),this._isEmpty(b.appkey)){return void ("undefined"!=typeof b.onConnectFailed&&b.onConnectFailed({code:400,content:"appkey is required"}))}this._copyConfig(b);var c=this._subServerHost.replace("://","://"+goEasyDomainNumber.number()),a=c+":"+this._subServerPort;this.socket=io.connect(a),this._callbackEvents(b)}var goEasy_logs=[],goEasy_debug=!1;!function(a){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=a()}else{if("function"==typeof define&&define.amd){define([],a)}else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.uuid=a()}}}(function(){return function a(g,c,b){function f(j,i){if(!c[j]){if(!g[j]){var l="function"==typeof require&&require;if(!i&&l){return l(j,!0)}if(e){return e(j,!0)}var h=new Error("Cannot find module '"+j+"'");throw h.code="MODULE_NOT_FOUND",h}var k=c[j]={exports:{}};g[j][0].call(k.exports,function(n){var m=g[j][1][n];return f(m?m:n)},k,k.exports,a,g,c,b)}return c[j].exports}for(var e="function"==typeof require&&require,d=0;d<b.length;d++){f(b[d])}return f}({1:[function(f,h,c){var b=f("./v1"),g=f("./v4"),d=g;d.v1=b,d.v4=g,h.exports=d},{"./v1":4,"./v4":5}],2:[function(f,h,c){function b(l,m){var k=m||0,j=g;return j[l[k++]]+j[l[k++]]+j[l[k++]]+j[l[k++]]+"-"+j[l[k++]]+j[l[k++]]+"-"+j[l[k++]]+j[l[k++]]+"-"+j[l[k++]]+j[l[k++]]+"-"+j[l[k++]]+j[l[k++]]+j[l[k++]]+j[l[k++]]+j[l[k++]]+j[l[k++]]}for(var g=[],d=0;256>d;++d){g[d]=(d+256).toString(16).substr(1)}h.exports=b},{}],3:[function(c,d,b){(function(j){var g,f=j.crypto||j.msCrypto;if(f&&f.getRandomValues){var k=new Uint8Array(16);g=function(){return f.getRandomValues(k),k}}if(!g){var h=new Array(16);g=function(){for(var i,l=0;16>l;l++){0===(3&l)&&(i=4294967296*Math.random()),h[l]=i>>>((3&l)<<3)&255}return h}}d.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(j,g,q){function h(B,r,E){var w=r&&E||0,d=r||[];B=B||{};var F=void 0!==B.clockseq?B.clockseq:l,u=void 0!==B.msecs?B.msecs:(new Date).getTime(),A=void 0!==B.nsecs?B.nsecs:k+1,x=u-m+(A-k)/10000;if(0>x&&void 0===B.clockseq&&(F=F+1&16383),(0>x||u>m)&&void 0===B.nsecs&&(A=0),A>=10000){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}m=u,k=A,l=F,u+=12219292800000;var D=(10000*(268435455&u)+A)%4294967296;d[w++]=D>>>24&255,d[w++]=D>>>16&255,d[w++]=D>>>8&255,d[w++]=255&D;var C=u/4294967296*10000&268435455;d[w++]=C>>>8&255,d[w++]=255&C,d[w++]=C>>>24&15|16,d[w++]=C>>>16&255,d[w++]=F>>>8|128,d[w++]=255&F;for(var z=B.node||p,c=0;6>c;++c){d[w+c]=z[c]}return r?r:b(d)}var f=j("./lib/rng"),b=j("./lib/bytesToUuid"),v=f(),p=[1|v[0],v[1],v[2],v[3],v[4],v[5]],l=16383&(v[6]<<8|v[7]),m=0,k=0;g.exports=h},{"./lib/bytesToUuid":2,"./lib/rng":3}],5:[function(f,h,c){function b(o,p,l){var k=p&&l||0;"string"==typeof o&&(p="binary"==o?new Array(16):null,o=null),o=o||{};var m=o.random||(o.rng||g)();if(m[6]=15&m[6]|64,m[8]=63&m[8]|128,p){for(var j=0;16>j;++j){p[k+j]=m[j]}}return p||d(m)}var g=f("./lib/rng"),d=f("./lib/bytesToUuid");h.exports=b},{"./lib/bytesToUuid":2,"./lib/rng":3}]},{},[1])(1)}),Date.prototype.formatDate=function(b){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in c){c.hasOwnProperty(a)&&new RegExp("("+a+")").test(b)&&(b=b.replace(RegExp.$1,1==RegExp.$1.length?c[a]:("00"+c[a]).substr((""+c[a]).length)))}return b};var GoEasyDomainNumber=function(){currentNumber=this.initialCurrentNumber()};GoEasyDomainNumber.prototype={maxNumber:10,number:function(){return currentNumber},initialCurrentNumber:function(){return currentNumber=parseInt(getCookie("goeasyNode")),currentNumber>0&&currentNumber<this.maxNumber?currentNumber+=1:currentNumber=1,setCookie("goeasyNode",currentNumber),currentNumber}};var goEasyDomainNumber=new GoEasyDomainNumber;GoEasyArray.prototype=new Array,GoEasyArray.prototype.indexOfGuid=function(a){for(var b=0;b<this.length;b++){if(this[b]==a){return b}}return -1},GoEasyArray.prototype.unshiftGuid=function(b){var c=!1,a=this.indexOfGuid(b);for(a>-1&&(c=!0,this.splice(a,1)),this.unshift(b);this.length>100;){this.pop()}return c},GoEasy.prototype={debug:!1,socket:null,authorizeResult:null,channels:[],_subServerHost:"https://www.goeasy.io",_subServerPort:"9000",networkStatus:"initial",subscribeBuffer:[],maxRetries:3,receivedGuids:new GoEasyArray,_copyConfig:function(a){this._appkey=a.appkey,this._isEmpty(a.userId)?(this._userId="anonymous-"+Math.floor(100000*Math.random()+1),a.userId=this._userId):this._userId=this._trim(a.userId),this._isEmpty(a.username)?(this._username="",a.username=""):this._username=this._trim(a.username),1==a.debug&&(this.debug=!0)},subscribe:function(a){if(log("subscribe() subscribe:"+JSON.stringify(a)),this._isEmpty(a.channel)){return log("subscribe() 'channel' is required."),void ("undefined"!=typeof a.onFailed&&a.onFailed({code:400,content:"channel is required"}))}this.subscribeBuffer[a.channel]=a,log("subscribe() add subscription into subscribeBuffer:"+JSON.stringify(this.subscribeBuffer[a.channel]));var b=this;null!=b.authorizeResult&&"connected"==b.networkStatus&&(a.checking=!0,b.doSubscribeAndCheckAck(a))},doSubscribe:function(b){log("doSubscribe() with subscription:"+JSON.stringify(b));var c=this;if(200==c.authorizeResult.code){if(this._isEmpty(b.channel)){log("doSubscribe() subscribe failed with empty channel"),c.sendlogs(),b.finish=!0}else{var a={channel:b.channel,sid:c.authorizeResult.sid};log("doSubscribe() emit subscribe params:"+JSON.stringify(a)),c.socket.emit("subscribe",a,function(d){log("doSubscribe() receive subscribe ack:"+JSON.stringify(d)),1!=b.finish&&(b.finish=!0,delete c.subscribeBuffer[b.channel],log("doSubscribe() delete subscription from subscribeBuffer:"+JSON.stringify(b)),200==d.resultCode?(c.channels[b.channel]=b,"undefined"!=typeof b.onSuccess&&b.onSuccess()):"undefined"!=typeof b.onFailed&&b.onFailed({code:d.resultCode,content:d.content}))})}}else{log("doSubscribe() return with authorize code:"+c.authorizeResult.code)}},doSubscribeAndCheckAck:function(b){log("doSubscribeAndCheckAck():"+JSON.stringify(b)),b.finish=!1;var c=this;c.doSubscribe(b);var a=window.setInterval(function(){b.finish||"connected"!=c.networkStatus?(log("doSubscribeAndCheckAck() clean doSubscribeAndCheckAck:"+JSON.stringify(b)),b.checking=!1,window.clearInterval(a)):(log("doSubscribeAndCheckAck() retry doSubscribe:"+JSON.stringify(b)),c.doSubscribe(b))},1300)},unsubscribe:function(f){function h(){200==a.authorizeResult.code?a.socket.emit("unsubscribe",{sid:a.authorizeResult.sid,channel:f.channel},function(e){g=!0,200==e.resultCode?(delete a.channels[f.channel],log("doUnsubscribe() delete from channels:"+JSON.stringify(f)),"undefined"!=typeof f.onSuccess&&f.onSuccess()):"undefined"!=typeof f.onFailed&&f.onFailed({code:e.resultCode,content:e.content})}):(g=!0,"undefined"!=typeof f.onFailed&&f.onFailed({code:a.authorizeResult.code,content:a.authorizeResult.content}))}function b(){h();var e=window.setInterval(function(){!g&&"connected"==a.networkStatus&&0>d?(d++,h()):d==a.maxRetries?(window.clearInterval(e),"undefined"!=typeof f.onFailed&&f.onFailed({code:408,content:"Server unreachable or timeout"})):window.clearInterval(e)},1000)}if(this._isEmpty(f.channel)){return this.log("'channel' is required."),void ("undefined"!=typeof f.onFailed&&f.onFailed({code:400,content:"channel is required"}))}if("undefined"==typeof this.channels[f.channel]){return this.log("'channel' is not subscribed."),void ("undefined"!=typeof f.onFailed&&f.onFailed({code:400,content:"channel["+f.channel+"] is not subscribed"}))}var a=this,g=!1,d=0;if(null!=this.authorizeResult&&"connected"==a.networkStatus){b()}else{var c=window.setInterval(function(){null!=a.authorizeResult&&"connected"==a.networkStatus?(window.clearInterval(c),b()):(d++,d==a.maxRetries&&(window.clearInterval(c),"undefined"!=typeof f.onFailed&&f.onFailed({code:408,content:"Server unreachable or timeout"})))},1000)}},publish:function(f){function h(e){200==a.authorizeResult.code?a.socket.emit("publish",{sid:a.authorizeResult.sid,channel:f.channel,content:f.message,guid:e,retried:d},function(i){g=!0,200==i.resultCode?"undefined"!=typeof f.onSuccess&&f.onSuccess():"undefined"!=typeof f.onFailed&&f.onFailed({code:i.resultCode,content:i.content})}):(g=!0,"undefined"!=typeof f.onFailed&&f.onFailed({code:a.authorizeResult.code,content:a.authorizeResult.content}))}function b(){var e=a.uuid_goeasy();h(e);var i=window.setInterval(function(){!g&&d<a.maxRetries?(d++,h(e)):d==a.maxRetries?(window.clearInterval(i),"undefined"!=typeof f.onFailed&&f.onFailed({code:408,content:"Server unreachable or timeout"})):window.clearInterval(i)},1000)}if(this._isEmpty(f.channel)){return this.log("'channel' is required."),void ("undefined"!=typeof f.onFailed&&f.onFailed({code:400,content:"channel is required"}))}if(this._isEmpty(f.message)){return this.log("'message' is required."),void ("undefined"!=typeof f.onFailed&&f.onFailed({code:400,content:"message is required"}))}var a=this,g=!1,d=0;if(null!=this.authorizeResult&&"connected"==a.networkStatus){b()}else{var c=window.setInterval(function(){null!=a.authorizeResult&&"connected"==a.networkStatus?(window.clearInterval(c),b()):(d++,d==a.maxRetries&&(window.clearInterval(c),"undefined"!=typeof f.onFailed&&f.onFailed({code:408,content:"Server unreachable or timeout"})))},1000)}},_callbackEvents:function(a){var b=this;this.socket.on("message",function(f,d){f.enableAck&&d&&d(f);var c=f.channel;b.receivedGuids.unshiftGuid(f.guid)||"undefined"!=typeof b.channels[c].onMessage&&b.channels[c].onMessage(f)}),this.socket.on("connect",function(){function d(){log("doAuthorize() emit authorize params:"+JSON.stringify(c)),b._isEmpty(c.artifactVersion)&&b.sendlogs(),b.socket.emit("authorize",c,function(h){if(log("doAuthorize() received authorize ack:"+JSON.stringify(h)),!f){if(f=!0,null==b.authorizeResult&&(b.authorizeResult={}),b.authorizeResult.code=h.resultCode,b.authorizeResult.content=h.content,200==h.resultCode){if(null==b.authorizeResult.sid){b.authorizeResult.sid=h.sid}else{if(b.authorizeResult.sid!=h.sid){b.authorizeResult.sid=h.sid;for(var g in b.channels){b.channels.hasOwnProperty(g)&&(log("doAuthorize() sid expired and will call doSubscribeAndCheckAck from channels:"+JSON.stringify(b.channels[g])),b.doSubscribeAndCheckAck(b.channels[g]))}}}for(var j in b.subscribeBuffer){b.subscribeBuffer.hasOwnProperty(j)&&(log("doAuthorize() will doSubscribeAndCheckAck from subscribeBuffer:"+JSON.stringify(b.subscribeBuffer[j])),b.doSubscribeAndCheckAck(b.subscribeBuffer[j]))}"undefined"!=typeof a.onConnected&&a.onConnected()}else{"undefined"!=typeof a.onConnectFailed&&a.onConnectFailed({code:h.resultCode,content:h.content})}}})}b.networkStatus="connected";var c={appkey:b._appkey,userId:b._userId,username:b._username,startMillis:millis,artifactVersion:goEasy_V};null!=b.authorizeResult&&(c.sid=b.authorizeResult.sid);var f=!1;d();var e=window.setInterval(function(){f||"connected"!=b.networkStatus?window.clearInterval(e):d()},1300)},this.socket.on("connect_error",function(c){"undefined"!=typeof a.onConnectFailed&&a.onConnectFailed({code:408,content:c})})),this.socket.on("disconnect",function(){b.networkStatus="disconnected",b.authorizeResult.code=408,b.authorizeResult.content="Server unreachable or timeout","undefined"!=typeof a.onDisconnected&&a.onDisconnected()})},_isEmpty:function(a){return"undefined"==typeof a||null==a||0==this._trim(a).length},_trim:function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},log:function(a){window.console&&this.debug&&console.log(a)},uuid_goeasy:function(){return uuid.v1()},sendlogs:function(){goEasy_debug&&this.socket.emit("log",{logs:goEasy_logs})}};var millis=1483066512111;var goEasy_V="0.10.30";!function(a){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=a()}else{if("function"==typeof define&&define.amd){define([],a)}else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.io=a()}}}(function(){var a;return function b(d,h,f){function g(j,i){if(!h[j]){if(!d[j]){var l="function"==typeof require&&require;if(!i&&l){return l(j,!0)}if(c){return c(j,!0)}throw new Error("Cannot find module '"+j+"'")}var k=h[j]={exports:{}};d[j][0].call(k.exports,function(m){var o=d[j][1][m];return g(o?o:m)},k,k.exports,b,d,h,f)}return h[j].exports}for(var c="function"==typeof require&&require,e=0;e<f.length;e++){g(f[e])}return g}({1:[function(c,d,f){d.exports=c("./lib/")},{"./lib/":2}],2:[function(m,j,g){function d(o,u){"object"==typeof o&&(u=o,o=void 0),u=u||{};var v,q=f(o),c=q.source,s=q.id;return u.forceNew||u["force new connection"]||!1===u.multiplex?(l("ignoring socket cache for %s",c),v=p(c,u)):(k[s]||(l("new io instance for %s",c),k[s]=p(c,u)),v=k[s]),v.socket(q.path)}var f=m("./url"),h=m("socket.io-parser"),p=m("./manager"),l=m("debug")("socket.io-client");j.exports=g=d;var k=g.managers={};g.protocol=h.protocol,g.connect=d,g.Manager=m("./manager"),g.Socket=m("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:10,"socket.io-parser":44}],3:[function(z,v,k){function d(c,f){return this instanceof d?(c&&"object"==typeof c&&(f=c,c=void 0),f=f||{},f.path=f.path||"/socket.io",this.nsps={},this.subs=[],this.opts=f,this.reconnection(f.reconnection!==!1),this.reconnectionAttempts(f.reconnectionAttempts||1/0),this.reconnectionDelay(f.reconnectionDelay||1000),this.reconnectionDelayMax(f.reconnectionDelayMax||5000),this.randomizationFactor(f.randomizationFactor||0.5),this.backoff=new m({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==f.timeout?20000:f.timeout),this.readyState="closed",this.uri=c,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new x.Encoder,this.decoder=new x.Decoder,this.autoConnect=f.autoConnect!==!1,void (this.autoConnect&&this.open())):new d(c,f)}var j=(z("./url"),z("engine.io-client")),l=z("./socket"),A=z("component-emitter"),x=z("socket.io-parser"),w=z("./on"),g=z("component-bind"),y=(z("object-component"),z("debug")("socket.io-client:manager")),q=z("indexof"),m=z("backo2");v.exports=d,d.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var c in this.nsps){this.nsps[c].emit.apply(this.nsps[c],arguments)}},d.prototype.updateSocketIds=function(){for(var c in this.nsps){this.nsps[c].id=this.engine.id}},A(d.prototype),d.prototype.reconnection=function(c){return arguments.length?(this._reconnection=!!c,this):this._reconnection},d.prototype.reconnectionAttempts=function(c){return arguments.length?(this._reconnectionAttempts=c,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(c){return arguments.length?(this._reconnectionDelay=c,this.backoff&&this.backoff.setMin(c),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(c){return arguments.length?(this._randomizationFactor=c,this.backoff&&this.backoff.setJitter(c),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(c){return arguments.length?(this._reconnectionDelayMax=c,this.backoff&&this.backoff.setMax(c),this):this._reconnectionDelayMax},d.prototype.timeout=function(c){return arguments.length?(this._timeout=c,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(h){if(y("readyState %s",this.readyState),~this.readyState.indexOf("open")){return this}y("opening %s",this.uri),this.engine=j(this.uri,this.opts);var u=this.engine,B=this;this.readyState="opening",this.skipReconnect=!1;var p=w(u,"open",function(){B.onopen(),h&&h()}),f=w(u,"error",function(n){if(y("connect_error"),B.cleanup(),B.readyState="closed",B.emitAll("connect_error",n),h){var i=new Error("Connection error");i.data=n,h(i)}else{B.maybeReconnectOnOpen()}});if(!1!==this._timeout){var o=this._timeout;y("connect attempt will timeout after %d",o);var c=setTimeout(function(){y("connect attempt timed out after %d",o),p.destroy(),u.close(),u.emit("error","timeout"),B.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(p),this.subs.push(f),this},d.prototype.onopen=function(){y("open"),this.cleanup(),this.readyState="open",this.emit("open");var c=this.engine;this.subs.push(w(c,"data",g(this,"ondata"))),this.subs.push(w(this.decoder,"decoded",g(this,"ondecoded"))),this.subs.push(w(c,"error",g(this,"onerror"))),this.subs.push(w(c,"close",g(this,"onclose")))},d.prototype.ondata=function(c){this.decoder.add(c)},d.prototype.ondecoded=function(c){this.emit("packet",c)},d.prototype.onerror=function(c){y("error",c),this.emitAll("error",c)},d.prototype.socket=function(c){var f=this.nsps[c];if(!f){f=new l(this,c),this.nsps[c]=f;var h=this;f.on("connect",function(){f.id=h.engine.id,~q(h.connected,f)||h.connected.push(f)})}return f},d.prototype.destroy=function(c){var f=q(this.connected,c);~f&&this.connected.splice(f,1),this.connected.length||this.close()},d.prototype.packet=function(c){y("writing packet %j",c);var f=this;f.encoding?f.packetBuffer.push(c):(f.encoding=!0,this.encoder.encode(c,function(e){for(var h=0;h<e.length;h++){f.engine.write(e[h])}f.encoding=!1,f.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var c=this.packetBuffer.shift();this.packet(c)}},d.prototype.cleanup=function(){for(var c;c=this.subs.shift();){c.destroy()}this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(c){y("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",c),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect){return this}var c=this;if(this.backoff.attempts>=this._reconnectionAttempts){y("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1}else{var f=this.backoff.duration();y("will wait %dms before reconnect attempt",f),this.reconnecting=!0;var h=setTimeout(function(){c.skipReconnect||(y("attempting reconnect"),c.emitAll("reconnect_attempt",c.backoff.attempts),c.emitAll("reconnecting",c.backoff.attempts),c.skipReconnect||c.open(function(i){i?(y("reconnect attempt error"),c.reconnecting=!1,c.reconnect(),c.emitAll("reconnect_error",i.data)):(y("reconnect success"),c.onreconnect())}))},f);this.subs.push({destroy:function(){clearTimeout(h)}})}},d.prototype.onreconnect=function(){var c=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",c)}},{"./on":4,"./socket":5,"./url":6,backo2:7,"component-bind":8,"component-emitter":9,debug:10,"engine.io-client":11,indexof:40,"object-component":41,"socket.io-parser":44}],4:[function(c,f,g){function d(h,i,j){return h.on(i,j),{destroy:function(){h.removeListener(i,j)}}}f.exports=d},{}],5:[function(z,v,k){function d(c,f){this.io=c,this.nsp=f,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var j=z("socket.io-parser"),l=z("component-emitter"),A=z("to-array"),x=z("./on"),w=z("component-bind"),g=z("debug")("socket.io-client:socket"),y=z("has-binary");v.exports=k=d;var q={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},m=l.prototype.emit;l(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var c=this.io;this.subs=[x(c,"open",w(this,"onopen")),x(c,"packet",w(this,"onpacket")),x(c,"close",w(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},d.prototype.send=function(){var c=A(arguments);return c.unshift("message"),this.emit.apply(this,c),this},d.prototype.emit=function(c){if(q.hasOwnProperty(c)){return m.apply(this,arguments),this}var h=A(arguments),i=j.EVENT;y(h)&&(i=j.BINARY_EVENT);var f={type:i,data:h};return"function"==typeof h[h.length-1]&&(g("emitting packet with ack id %d",this.ids),this.acks[this.ids]=h.pop(),f.id=this.ids++),this.connected?this.packet(f):this.sendBuffer.push(f),this},d.prototype.packet=function(c){c.nsp=this.nsp,this.io.packet(c)},d.prototype.onopen=function(){g("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:j.CONNECT})},d.prototype.onclose=function(c){g("close (%s)",c),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",c)},d.prototype.onpacket=function(c){if(c.nsp==this.nsp){switch(c.type){case j.CONNECT:this.onconnect();break;case j.EVENT:this.onevent(c);break;case j.BINARY_EVENT:this.onevent(c);break;case j.ACK:this.onack(c);break;case j.BINARY_ACK:this.onack(c);break;case j.DISCONNECT:this.ondisconnect();break;case j.ERROR:this.emit("error",c.data)}}},d.prototype.onevent=function(c){var f=c.data||[];g("emitting event %j",f),null!=c.id&&(g("attaching ack callback to event"),f.push(this.ack(c.id))),this.connected?m.apply(this,f):this.receiveBuffer.push(f)},d.prototype.ack=function(c){var f=this,h=!1;return function(){if(!h){h=!0;var n=A(arguments);g("sending ack %j",n);var e=y(n)?j.BINARY_ACK:j.ACK;f.packet({type:e,id:c,data:n})}}},d.prototype.onack=function(c){g("calling ack %s with %j",c.id,c.data);var f=this.acks[c.id];f.apply(this,c.data),delete this.acks[c.id]},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var c;for(c=0;c<this.receiveBuffer.length;c++){m.apply(this,this.receiveBuffer[c])}for(this.receiveBuffer=[],c=0;c<this.sendBuffer.length;c++){this.packet(this.sendBuffer[c])}this.sendBuffer=[]},d.prototype.ondisconnect=function(){g("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var c=0;c<this.subs.length;c++){this.subs[c].destroy()}this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(g("performing disconnect (%s)",this.nsp),this.packet({type:j.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":4,"component-bind":8,"component-emitter":9,debug:10,"has-binary":36,"socket.io-parser":44,"to-array":48}],6:[function(c,d,f){(function(j){function g(i,l){var k=i,l=l||j.location;return null==i&&(i=l.protocol+"//"+l.host),"string"==typeof i&&("/"==i.charAt(0)&&(i="/"==i.charAt(1)?l.protocol+i:l.hostname+i),/^(https?|wss?):\/\//.test(i)||(e("protocol-less url %s",i),i="undefined"!=typeof l?l.protocol+"//"+i:"https://"+i),e("parse %s",i),k=h(i)),k.port||(/^(http|ws)$/.test(k.protocol)?k.port="80":/^(http|ws)s$/.test(k.protocol)&&(k.port="443")),k.path=k.path||"/",k.id=k.protocol+"://"+k.host+":"+k.port,k.href=k.protocol+"://"+k.host+(l&&l.port==k.port?"":":"+k.port),k}var h=c("parseuri"),e=c("debug")("socket.io-client:url");d.exports=g}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:10,parseuri:42}],7:[function(c,f,g){function d(e){e=e||{},this.ms=e.min||100,this.max=e.max||10000,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}f.exports=d,d.prototype.duration=function(){var h=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var i=Math.random(),j=Math.floor(i*this.jitter*h);h=0==(1&Math.floor(10*i))?h-j:h+j}return 0|Math.min(h,this.max)},d.prototype.reset=function(){this.attempts=0},d.prototype.setMin=function(e){this.ms=e},d.prototype.setMax=function(e){this.max=e},d.prototype.setJitter=function(e){this.jitter=e}},{}],8:[function(c,f,g){var d=[].slice;f.exports=function(h,i){if("string"==typeof i&&(i=h[i]),"function"!=typeof i){throw new Error("bind() requires a function")}var j=d.call(arguments,2);return function(){return i.apply(h,j.concat(d.call(arguments)))}}},{}],9:[function(c,f,h){function d(e){return e?g(e):void 0}function g(i){for(var j in d.prototype){i[j]=d.prototype[j]}return i}f.exports=d,d.prototype.on=d.prototype.addEventListener=function(i,j){return this._callbacks=this._callbacks||{},(this._callbacks[i]=this._callbacks[i]||[]).push(j),this},d.prototype.once=function(i,k){function l(){j.off(i,l),k.apply(this,arguments)}var j=this;return this._callbacks=this._callbacks||{},l.fn=k,this.on(i,l),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(i,k){if(this._callbacks=this._callbacks||{},0==arguments.length){return this._callbacks={},this}var m=this._callbacks[i];if(!m){return this}if(1==arguments.length){return delete this._callbacks[i],this}for(var j,l=0;l<m.length;l++){if(j=m[l],j===k||j.fn===k){m.splice(l,1);break}}return this},d.prototype.emit=function(i){this._callbacks=this._callbacks||{};var k=[].slice.call(arguments,1),m=this._callbacks[i];if(m){m=m.slice(0);for(var j=0,l=m.length;l>j;++j){m[j].apply(this,k)}}return this},d.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},d.prototype.hasListeners=function(e){return !!this.listeners(e).length}},{}],10:[function(d,g,j){function f(e){return f.enabled(e)?function(l){l=h(l);var m=new Date,k=m-(f[e]||m);f[e]=m,l=e+" "+l+" +"+f.humanize(k),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function h(e){return e instanceof Error?e.stack||e.message:e}g.exports=f,f.names=[],f.skips=[],f.enable=function(l){try{localStorage.debug=l}catch(m){}for(var q=(l||"").split(/[\s,]+/),p=q.length,k=0;p>k;k++){l=q[k].replace("*",".*?"),"-"===l[0]?f.skips.push(new RegExp("^"+l.substr(1)+"$")):f.names.push(new RegExp("^"+l+"$"))}},f.disable=function(){f.enable("")},f.humanize=function(i){var l=1000,m=60000,k=60*m;return i>=k?(i/k).toFixed(1)+"h":i>=m?(i/m).toFixed(1)+"m":i>=l?(i/l|0)+"s":i+"ms"},f.enabled=function(i){for(var k=0,l=f.skips.length;l>k;k++){if(f.skips[k].test(i)){return !1}}for(var k=0,l=f.names.length;l>k;k++){if(f.names[k].test(i)){return !0}}return !1};try{window.localStorage&&f.enable(localStorage.debug)}catch(c){}},{}],11:[function(c,d,f){d.exports=c("./lib/")},{"./lib/":12}],12:[function(c,d,f){d.exports=c("./socket"),d.exports.parser=c("engine.io-parser")},{"./socket":13,"engine.io-parser":25}],13:[function(c,d,f){(function(k){function e(h,i){if(!(this instanceof e)){return new e(h,i)}if(i=i||{},h&&"object"==typeof h&&(i=h,h=null),h&&(h=w(h),i.host=h.host,i.secure="https"==h.protocol||"wss"==h.protocol,i.port=h.port,h.query&&(i.query=h.query)),this.secure=null!=i.secure?i.secure:k.location&&"https:"==location.protocol,i.host){var n=i.host.split(":");i.hostname=n.shift(),n.length?i.port=n.pop():i.port||(i.port=this.secure?"443":"80")}this.agent=i.agent||!1,this.hostname=i.hostname||(k.location?location.hostname:"localhost"),this.port=i.port||(k.location&&location.port?location.port:this.secure?443:80),this.query=i.query||{},"string"==typeof this.query&&(this.query=m.decode(this.query)),this.upgrade=!1!==i.upgrade,this.path=(i.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!i.forceJSONP,this.jsonp=!1!==i.jsonp,this.forceBase64=!!i.forceBase64,this.enablesXDR=!!i.enablesXDR,this.timestampParam=i.timestampParam||"t",this.timestampRequests=i.timestampRequests,this.transports=i.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=i.policyPort||843,this.rememberUpgrade=i.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=i.onlyBinaryUpgrades,this.pfx=i.pfx||null,this.key=i.key||null,this.passphrase=i.passphrase||null,this.cert=i.cert||null,this.ca=i.ca||null,this.ciphers=i.ciphers||null,this.rejectUnauthorized=i.rejectUnauthorized||null,this.open()}function j(h){var i={};for(var o in h){h.hasOwnProperty(o)&&(i[o]=h[o])}return i}var l=c("./transports"),x=c("component-emitter"),v=c("debug")("engine.io-client:socket"),t=c("indexof"),g=c("engine.io-parser"),w=c("parseuri"),q=c("parsejson"),m=c("parseqs");d.exports=e,e.priorWebsocketSuccess=!1,x(e.prototype),e.protocol=g.protocol,e.Socket=e,e.Transport=c("./transport"),e.transports=c("./transports"),e.parser=c("engine.io-parser"),e.prototype.createTransport=function(h){v('creating transport "%s"',h);var i=j(this.query);i.EIO=g.protocol,i.transport=h,this.id&&(i.sid=this.id);var o=new l[h]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:i,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return o},e.prototype.open=function(){var h;if(this.rememberUpgrade&&e.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket")){h="websocket"}else{if(0==this.transports.length){var i=this;return void setTimeout(function(){i.emit("error","No transports available")},0)}h=this.transports[0]}this.readyState="opening";var h;try{h=this.createTransport(h)}catch(o){return this.transports.shift(),void this.open()}h.open(),this.setTransport(h)},e.prototype.setTransport=function(h){v("setting transport %s",h.name);var i=this;this.transport&&(v("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=h,h.on("drain",function(){i.onDrain()}).on("packet",function(n){i.onPacket(n)}).on("error",function(n){i.onError(n)}).on("close",function(){i.onClose("transport close")})},e.prototype.probe=function(G){function D(){if(B.onlyBinaryUpgrades){var h=!this.supportsBinary&&B.transport.supportsBinary;C=C||h}C||(v('probe transport "%s" opened',G),F.send([{type:"ping",data:"probe"}]),F.once("packet",function(i){if(!C){if("pong"==i.type&&"probe"==i.data){if(v('probe transport "%s" pong',G),B.upgrading=!0,B.emit("upgrading",F),!F){return}e.priorWebsocketSuccess="websocket"==F.name,v('pausing current transport "%s"',B.transport.name),B.transport.pause(function(){C||"closed"!=B.readyState&&(v("changing transport and sending upgrade packet"),r(),B.setTransport(F),F.send([{type:"upgrade"}]),B.emit("upgrade",F),F=null,B.upgrading=!1,B.flush())})}else{v('probe transport "%s" failed',G);var o=new Error("probe error");o.transport=F.name,B.emit("upgradeError",o)}}}))}function z(){C||(C=!0,r(),F.close(),F=null)}function y(i){var h=new Error("probe error: "+i);h.transport=F.name,z(),v('probe transport "%s" failed because of error: %s',G,i),B.emit("upgradeError",h)}function A(){y("transport closed")}function H(){y("socket closed")}function E(h){F&&h.name!=F.name&&(v('"%s" works - aborting "%s"',h.name,F.name),z())}function r(){F.removeListener("open",D),F.removeListener("error",y),F.removeListener("close",A),B.removeListener("close",H),B.removeListener("upgrading",E)}v('probing transport "%s"',G);var F=this.createTransport(G,{probe:1}),C=!1,B=this;e.priorWebsocketSuccess=!1,F.once("open",D),F.once("error",y),F.once("close",A),this.once("close",H),this.once("upgrading",E),F.open()},e.prototype.onOpen=function(){if(v("socket open"),this.readyState="open",e.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){v("starting upgrade probes");for(var h=0,i=this.upgrades.length;i>h;h++){this.probe(this.upgrades[h])}}},e.prototype.onPacket=function(h){if("opening"==this.readyState||"open"==this.readyState){switch(v('socket receive: type "%s", data "%s"',h.type,h.data),this.emit("packet",h),this.emit("heartbeat"),h.type){case"open":this.onHandshake(q(h.data));break;case"pong":this.setPing();break;case"error":var i=new Error("server error");i.code=h.data,this.emit("error",i);break;case"message":this.emit("data",h.data),this.emit("message",h.data)}}else{v('packet received with socket readyState "%s"',this.readyState)}},e.prototype.onHandshake=function(h){this.emit("handshake",h),this.id=h.sid,this.transport.query.sid=h.sid,this.upgrades=this.filterUpgrades(h.upgrades),this.pingInterval=h.pingInterval,this.pingTimeout=h.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},e.prototype.onHeartbeat=function(h){clearTimeout(this.pingTimeoutTimer);var i=this;i.pingTimeoutTimer=setTimeout(function(){"closed"!=i.readyState&&i.onClose("ping timeout")},h||i.pingInterval+i.pingTimeout)},e.prototype.setPing=function(){var h=this;clearTimeout(h.pingIntervalTimer),h.pingIntervalTimer=setTimeout(function(){v("writing ping packet - expecting pong within %sms",h.pingTimeout),h.ping(),h.onHeartbeat(h.pingTimeout)},h.pingInterval)},e.prototype.ping=function(){this.sendPacket("ping")},e.prototype.onDrain=function(){for(var h=0;h<this.prevBufferLen;h++){this.callbackBuffer[h]&&this.callbackBuffer[h]()}this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},e.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(v("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},e.prototype.write=e.prototype.send=function(h,i){return this.sendPacket("message",h,i),this},e.prototype.sendPacket=function(h,o,p){if("closing"!=this.readyState&&"closed"!=this.readyState){var i={type:h,data:o};this.emit("packetCreate",i),this.writeBuffer.push(i),this.callbackBuffer.push(p),this.flush()}},e.prototype.close=function(){function h(){i.onClose("forced close"),v("socket closing - telling transport to close"),i.transport.close()}function o(){i.removeListener("upgrade",o),i.removeListener("upgradeError",o),h()}function p(){i.once("upgrade",o),i.once("upgradeError",o)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?p():h()}):this.upgrading?p():h()}return this},e.prototype.onError=function(h){v("socket error %j",h),e.priorWebsocketSuccess=!1,this.emit("error",h),this.onClose("transport error",h)},e.prototype.onClose=function(h,i){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){v('socket close with reason: "%s"',h);var o=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){o.writeBuffer=[],o.callbackBuffer=[],o.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",h,i)}},e.prototype.filterUpgrades=function(h){for(var o=[],p=0,i=h.length;i>p;p++){~t(this.transports,h[p])&&o.push(h[p])}return o}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":14,"./transports":15,"component-emitter":9,debug:22,"engine.io-parser":25,indexof:40,parsejson:32,parseqs:33,parseuri:34}],14:[function(d,g,j){function f(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized}var h=d("engine.io-parser"),c=d("component-emitter");g.exports=f,c(f.prototype),f.timestamps=0,f.prototype.onError=function(i,k){var l=new Error(i);return l.type="TransportError",l.description=k,this.emit("error",l),this},f.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},f.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},f.prototype.send=function(e){if("open"!=this.readyState){throw new Error("Transport not open")}this.write(e)},f.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},f.prototype.onData=function(i){var k=h.decodePacket(i,this.socket.binaryType);this.onPacket(k)},f.prototype.onPacket=function(e){this.emit("packet",e)},f.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":9,"engine.io-parser":25}],15:[function(c,d,f){(function(l){function k(o){var w,q=!1,e=!1,v=!1!==o.jsonp;if(l.location){var s="https:"==location.protocol,i=location.port;i||(i=s?443:80),q=o.hostname!=location.hostname||i!=o.port,e=o.secure!=s}if(o.xdomain=q,o.xscheme=e,w=new m(o),"open" in w&&!o.forceJSONP){return new h(o)}if(!v){throw new Error("JSONP disabled")}return new j(o)}var m=c("xmlhttprequest"),h=c("./polling-xhr"),j=c("./polling-jsonp"),g=c("./websocket");f.polling=k,f.websocket=g}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(c,d,f){(function(q){function j(){}function l(i){g.call(this,i),this.query=this.query||{},e||(q.___eio||(q.___eio=[]),e=q.___eio),this.index=e.length;var n=this;e.push(function(o){n.onData(o)}),this.query.j=this.index,q.document&&q.addEventListener&&q.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=j)},!1)}var g=c("./polling"),h=c("component-inherit");d.exports=l;var e,m=/\n/g,k=/\\n/g;h(l,g),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),g.prototype.doClose.call(this)},l.prototype.doPoll=function(){var i=this,p=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),p.async=!0,p.src=this.uri(),p.onerror=function(n){i.onError("jsonp poll error",n)};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(p,s),this.script=p;var o="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);o&&setTimeout(function(){var n=document.createElement("iframe");document.body.appendChild(n),document.body.removeChild(n)},100)},l.prototype.doWrite=function(C,z){function w(){p(),z()}function p(){if(v.iframe){try{v.form.removeChild(v.iframe)}catch(i){v.onError("jsonp polling iframe removal error",i)}}try{var n='<iframe src="javascript:0" name="'+v.iframeId+'">';x=document.createElement(n)}catch(i){x=document.createElement("iframe"),x.name=v.iframeId,x.src="javascript:0"}x.id=v.iframeId,v.form.appendChild(x),v.iframe=x}var v=this;if(!this.form){var x,D=document.createElement("form"),A=document.createElement("textarea"),B=this.iframeId="eio_iframe_"+this.index;D.className="socketio",D.style.position="absolute",D.style.top="-1000px",D.style.left="-1000px",D.target=B,D.method="POST",D.setAttribute("accept-charset","utf-8"),A.name="d",D.appendChild(A),document.body.appendChild(D),this.form=D,this.area=A}this.form.action=this.uri(),p(),C=C.replace(k,"\\\n"),this.area.value=C.replace(m,"\\n");try{this.form.submit()}catch(y){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==v.iframe.readyState&&w()}:this.iframe.onload=w}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-inherit":21}],17:[function(c,d,f){(function(j){function e(){}function h(i){if(m.call(this,i),j.location){var o="https:"==location.protocol,n=location.port;n||(n=o?443:80),this.xd=i.hostname!=j.location.hostname||n!=i.port,this.xs=i.secure!=o}}function k(i){this.method=i.method||"GET",this.uri=i.uri,this.xd=!!i.xd,this.xs=!!i.xs,this.async=!1!==i.async,this.data=void 0!=i.data?i.data:null,this.agent=i.agent,this.isBinary=i.isBinary,this.supportsBinary=i.supportsBinary,this.enablesXDR=i.enablesXDR,this.pfx=i.pfx,this.key=i.key,this.passphrase=i.passphrase,this.cert=i.cert,this.ca=i.ca,this.ciphers=i.ciphers,this.rejectUnauthorized=i.rejectUnauthorized,this.create()}function v(){for(var i in k.requests){k.requests.hasOwnProperty(i)&&k.requests[i].abort()}}var q=c("xmlhttprequest"),m=c("./polling"),g=c("component-emitter"),t=c("component-inherit"),l=c("debug")("engine.io-client:polling-xhr");d.exports=h,d.exports.Request=k,t(h,m),h.prototype.supportsBinary=!0,h.prototype.request=function(i){return i=i||{},i.uri=this.uri(),i.xd=this.xd,i.xs=this.xs,i.agent=this.agent||!1,i.supportsBinary=this.supportsBinary,i.enablesXDR=this.enablesXDR,i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized,new k(i)},h.prototype.doWrite=function(i,s){var w="string"!=typeof i&&void 0!==i,p=this.request({method:"POST",data:i,isBinary:w}),u=this;p.on("success",s),p.on("error",function(n){u.onError("xhr post error",n)}),this.sendXhr=p},h.prototype.doPoll=function(){l("xhr poll");var i=this.request(),n=this;i.on("data",function(o){n.onData(o)}),i.on("error",function(o){n.onError("xhr poll error",o)}),this.pollXhr=i},g(k.prototype),k.prototype.create=function(){var i={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized;var p=this.xhr=new q(i),n=this;try{if(l("xhr open %s: %s",this.method,this.uri),p.open(this.method,this.uri,this.async),this.supportsBinary&&(p.responseType="arraybuffer"),"POST"==this.method){try{this.isBinary?p.setRequestHeader("Content-type","application/octet-stream"):p.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}}"withCredentials" in p&&(p.withCredentials=!0),this.hasXDR()?(p.onload=function(){n.onLoad()},p.onerror=function(){n.onError(p.responseText)}):p.onreadystatechange=function(){4==p.readyState&&(200==p.status||1223==p.status?n.onLoad():setTimeout(function(){n.onError(p.status)},0))},l("xhr data %s",this.data),p.send(this.data)}catch(s){return void setTimeout(function(){n.onError(s)},0)}j.document&&(this.index=k.requestsCount++,k.requests[this.index]=this)},k.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},k.prototype.onData=function(i){this.emit("data",i),this.onSuccess()},k.prototype.onError=function(i){this.emit("error",i),this.cleanup(!0)},k.prototype.cleanup=function(i){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=e:this.xhr.onreadystatechange=e,i){try{this.xhr.abort()}catch(n){}}j.document&&delete k.requests[this.index],this.xhr=null}},k.prototype.onLoad=function(){var i;try{var o;try{o=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(p){}i="application/octet-stream"===o?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(p){this.onError(p)}null!=i&&this.onData(i)},k.prototype.hasXDR=function(){return"undefined"!=typeof j.XDomainRequest&&!this.xs&&this.enablesXDR},k.prototype.abort=function(){this.cleanup()},j.document&&(k.requestsCount=0,k.requests={},j.attachEvent?j.attachEvent("onunload",v):j.addEventListener&&j.addEventListener("beforeunload",v,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-emitter":9,"component-inherit":21,debug:22,xmlhttprequest:20}],18:[function(q,k,h){function d(c){var i=c&&c.forceBase64;(!f||i)&&(this.supportsBinary=!1),g.call(this,c)}var g=q("../transport"),j=q("parseqs"),u=q("engine.io-parser"),m=q("component-inherit"),l=q("debug")("engine.io-client:polling");k.exports=d;var f=function(){var c=q("xmlhttprequest"),i=new c({xdomain:!1});return null!=i.responseType}();m(d,g),d.prototype.name="polling",d.prototype.doOpen=function(){this.poll()},d.prototype.pause=function(c){function o(){l("paused"),p.readyState="paused",c()}var p=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(l("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){l("pre-pause polling complete"),--i||o()})),this.writable||(l("we are currently writing - waiting to pause"),i++,this.once("drain",function(){l("pre-pause writing complete"),--i||o()}))}else{o()}},d.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},d.prototype.onData=function(c){var i=this;l("polling got data %s",c);var o=function(e,s,p){return"opening"==i.readyState&&i.onOpen(),"close"==e.type?(i.onClose(),!1):void i.onPacket(e)};u.decodePayload(c,this.socket.binaryType,o),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},d.prototype.doClose=function(){function c(){l("writing close packet"),i.write([{type:"close"}])}var i=this;"open"==this.readyState?(l("transport open - closing"),c()):(l("transport not open - deferring close"),this.once("open",c))},d.prototype.write=function(c){var i=this;this.writable=!1;var o=function(){i.writable=!0,i.emit("drain")},i=this;u.encodePayload(c,this.supportsBinary,function(e){i.doWrite(e,o)})},d.prototype.uri=function(){var c=this.query||{},i=this.secure?"https":"http",o="";return !1!==this.timestampRequests&&(c[this.timestampParam]=+new Date+"-"+g.timestamps++),this.supportsBinary||c.sid||(c.b64=1),c=j.encode(c),this.port&&("https"==i&&443!=this.port||"http"==i&&80!=this.port)&&(o=":"+this.port),c.length&&(c="?"+c),i+"://"+this.hostname+o+this.path+c}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,xmlhttprequest:20}],19:[function(q,k,h){function d(c){var i=c&&c.forceBase64;i&&(this.supportsBinary=!1),g.call(this,c)}var g=q("../transport"),j=q("engine.io-parser"),u=q("parseqs"),m=q("component-inherit"),l=q("debug")("engine.io-client:websocket"),f=q("ws");k.exports=d,m(d,g),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var c=this.uri(),i=void 0,o={agent:this.agent};o.pfx=this.pfx,o.key=this.key,o.passphrase=this.passphrase,o.cert=this.cert,o.ca=this.ca,o.ciphers=this.ciphers,o.rejectUnauthorized=this.rejectUnauthorized,this.ws=new f(c,i,o),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var c=this;this.ws.onopen=function(){c.onOpen()},this.ws.onclose=function(){c.onClose()},this.ws.onmessage=function(i){c.onData(i.data)},this.ws.onerror=function(i){c.onError("websocket error",i)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(d.prototype.onData=function(c){var i=this;setTimeout(function(){g.prototype.onData.call(i,c)},0)}),d.prototype.write=function(c){function p(){v.writable=!0,v.emit("drain")}var v=this;this.writable=!1;for(var i=0,s=c.length;s>i;i++){j.encodePacket(c[i],this.supportsBinary,function(n){try{v.ws.send(n)}catch(o){l("websocket closed before onclose event")}})}setTimeout(p,0)},d.prototype.onClose=function(){g.prototype.onClose.call(this)},d.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},d.prototype.uri=function(){var c=this.query||{},i=this.secure?"wss":"ws",o="";return this.port&&("wss"==i&&443!=this.port||"ws"==i&&80!=this.port)&&(o=":"+this.port),this.timestampRequests&&(c[this.timestampParam]=+new Date),this.supportsBinary||(c.b64=1),c=u.encode(c),c.length&&(c="?"+c),i+"://"+this.hostname+o+this.path+c},d.prototype.check=function(){return !(!f||"__initialize" in f&&this.name===d.prototype.name)}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,ws:35}],20:[function(c,f,g){var d=c("has-cors");f.exports=function(j){var k=j.xdomain,m=j.xscheme,l=j.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!k||d)){return new XMLHttpRequest}}catch(h){}try{if("undefined"!=typeof XDomainRequest&&!m&&l){return new XDomainRequest}}catch(h){}if(!k){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(h){}}}},{"has-cors":38}],21:[function(c,d,f){d.exports=function(g,h){var i=function(){};i.prototype=h.prototype,g.prototype=new i,g.prototype.constructor=g}},{}],22:[function(f,j,l){function h(){return"WebkitAppearance" in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function k(){var n=arguments,q=this.useColors;if(n[0]=(q?"%c":"")+this.namespace+(q?" %c":" ")+n[0]+(q?"%c ":" ")+"+"+l.humanize(this.diff),!q){return n}var p="color: "+this.color;n=[n[0],p,"color: inherit"].concat(Array.prototype.slice.call(n,1));var s=0,m=0;return n[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(s++,"%c"===e&&(m=s))}),n.splice(m,0,p),n}function d(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(i){try{null==i?localStorage.removeItem("debug"):localStorage.debug=i}catch(m){}}function c(){var i;try{i=localStorage.debug}catch(m){}return i}l=j.exports=f("./debug"),l.log=d,l.formatArgs=k,l.save=g,l.load=c,l.useColors=h,l.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],l.formatters.j=function(e){return JSON.stringify(e)},l.enable(c())},{"./debug":23}],23:[function(v,k,h){function d(){return h.colors[q++%h.colors.length]}function g(n){function p(){}function r(){var x=r,z=+new Date,u=z-(f||z);x.diff=u,x.prev=f,x.curr=z,f=z,null==x.useColors&&(x.useColors=h.useColors()),null==x.color&&x.useColors&&(x.color=d());var y=Array.prototype.slice.call(arguments);y[0]=h.coerce(y[0]),"string"!=typeof y[0]&&(y=["%o"].concat(y));var o=0;y[0]=y[0].replace(/%([a-z%])/g,function(B,t){if("%%"===B){return B}o++;var C=h.formatters[t];if("function"==typeof C){var s=y[o];B=C.call(x,s),y.splice(o,1),o--}return B}),"function"==typeof h.formatArgs&&(y=h.formatArgs.apply(x,y));var A=r.log||h.log||console.log.bind(console);A.apply(x,y)}p.enabled=!1,r.enabled=!0;var c=h.enabled(n)?r:p;return c.namespace=n,c}function j(c){h.save(c);for(var n=(c||"").split(/[\s,]+/),i=n.length,p=0;i>p;p++){n[p]&&(c=n[p].replace(/\*/g,".*?"),"-"===c[0]?h.skips.push(new RegExp("^"+c.substr(1)+"$")):h.names.push(new RegExp("^"+c+"$")))}}function w(){h.enable("")}function m(c){var n,i;for(n=0,i=h.skips.length;i>n;n++){if(h.skips[n].test(c)){return !1}}for(n=0,i=h.names.length;i>n;n++){if(h.names[n].test(c)){return !0}}return !1}function l(c){return c instanceof Error?c.stack||c.message:c}h=k.exports=g,h.coerce=l,h.disable=w,h.enable=j,h.enabled=m,h.humanize=v("ms"),h.names=[],h.skips=[],h.formatters={};var f,q=0},{ms:24}],24:[function(x,m,j){function d(c){var i=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(c);if(i){var o=parseFloat(i[1]),f=(i[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"y":return o*l;case"days":case"day":case"d":return o*w;case"hours":case"hour":case"h":return o*g;case"minutes":case"minute":case"m":return o*q;case"seconds":case"second":case"s":return o*v;case"ms":return o}}}function h(c){return c>=w?Math.round(c/w)+"d":c>=g?Math.round(c/g)+"h":c>=q?Math.round(c/q)+"m":c>=v?Math.round(c/v)+"s":c+"ms"}function k(c){return y(c,w,"day")||y(c,g,"hour")||y(c,q,"minute")||y(c,v,"second")||c+" ms"}function y(c,f,i){return f>c?void 0:1.5*f>c?Math.floor(c/f)+" "+i:Math.ceil(c/f)+" "+i+"s"}var v=1000,q=60*v,g=60*q,w=24*g,l=365.25*w;m.exports=function(c,f){return f=f||{},"string"==typeof c?d(c):f["long"]?k(c):h(c)}},{}],25:[function(c,d,f){(function(H){function x(g,i){var h="b"+f.packets[g.type]+g.data.data;return i(h)}function A(l,u,p){if(!u){return f.encodeBase64Packet(l,p)}var v=l.data,h=new Uint8Array(v),m=new Uint8Array(1+v.byteLength);m[0]=B[l.type];for(var g=0;g<h.length;g++){m[g+1]=h[g]}return p(m.buffer)}function D(g,i,h){if(!i){return f.encodeBase64Packet(g,h)}var l=new FileReader;return l.onload=function(){g.data=l.result,f.encodePacket(g,i,!0,h)},l.readAsArrayBuffer(g.data)}function t(g,l,i){if(!l){return f.encodeBase64Packet(g,i)}if(F){return D(g,l,i)}var m=new Uint8Array(1);m[0]=B[g.type];var h=new k([m.buffer,g.data]);return i(h)}function L(h,p,v){for(var m=new Array(h.length),u=E(h.length,v),g=function(e,r,i){p(r,function(o,s){m[e]=s,i(o,m)})},l=0;l<h.length;l++){g(l,h[l],u)}}var J=c("./keys"),z=c("has-binary"),q=c("arraybuffer.slice"),G=c("base64-arraybuffer"),E=c("after"),C=c("utf8"),I=navigator.userAgent.match(/Android/i),j=/PhantomJS/i.test(navigator.userAgent),F=I||j;f.protocol=3;var B=f.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},n=J(B),K={type:"error",data:"parser error"},k=c("blob");f.encodePacket=function(h,o,g,e){"function"==typeof o&&(e=o,o=!1),"function"==typeof g&&(e=g,g=null);var m=void 0===h.data?void 0:h.data.buffer||h.data;if(H.ArrayBuffer&&m instanceof ArrayBuffer){return A(h,o,e)}if(k&&m instanceof H.Blob){return t(h,o,e)}if(m&&m.base64){return x(h,e)}var l=B[h.type];return void 0!==h.data&&(l+=g?C.encode(String(h.data)):String(h.data)),e(""+l)},f.encodeBase64Packet=function(y,e){var h="b"+f.packets[y.type];if(k&&y.data instanceof k){var l=new FileReader;return l.onload=function(){var i=l.result.split(",")[1];e(h+i)},l.readAsDataURL(y.data)}var M;try{M=String.fromCharCode.apply(null,new Uint8Array(y.data))}catch(v){for(var m=new Uint8Array(y.data),g=new Array(m.length),w=0;w<m.length;w++){g[w]=m[w]}M=String.fromCharCode.apply(null,g)}return h+=H.btoa(M),e(h)},f.decodePacket=function(l,u,p){if("string"==typeof l||void 0===l){if("b"==l.charAt(0)){return f.decodeBase64Packet(l.substr(1),u)}if(p){try{l=C.decode(l)}catch(v){return K}}var h=l.charAt(0);return Number(h)==h&&n[h]?l.length>1?{type:n[h],data:l.substring(1)}:{type:n[h]}:K}var m=new Uint8Array(l),h=m[0],g=q(l,1);return k&&"blob"===u&&(g=new k([g])),{type:n[h],data:g}},f.decodeBase64Packet=function(e,i){var g=n[e.charAt(0)];if(!H.ArrayBuffer){return{type:g,data:{base64:!0,data:e.substr(1)}}}var h=G.decode(e.substr(1));return"blob"===i&&k&&(h=new k([h])),{type:g,data:h}},f.encodePayload=function(h,p,m){function u(e){return e.length+":"+e}function g(e,i){f.encodePacket(e,l?p:!1,!0,function(o){i(null,u(o))})}"function"==typeof p&&(m=p,p=null);var l=z(h);return p&&l?k&&!F?f.encodePayloadAsBlob(h,m):f.encodePayloadAsArrayBuffer(h,m):h.length?void L(h,g,function(i,o){return m(o.join(""))}):m("0:")},f.decodePayload=function(O,w,g){if("string"!=typeof O){return f.decodePayloadAsBinary(O,w,g)}"function"==typeof w&&(g=w,w=null);var l;if(""==O){return g(K,0,1)}for(var m,P,M="",y=0,h=O.length;h>y;y++){var N=O.charAt(y);if(":"!=N){M+=N}else{if(""==M||M!=(m=Number(M))){return g(K,0,1)}if(P=O.substr(y+1,m),M!=P.length){return g(K,0,1)}if(P.length){if(l=f.decodePacket(P,w,!0),K.type==l.type&&K.data==l.data){return g(K,0,1)}var v=g(l,y+m,h);if(!1===v){return}}y+=m,M=""}}return""!=M?g(K,0,1):void 0},f.encodePayloadAsArrayBuffer=function(g,i){function h(l,m){f.encodePacket(l,!0,!0,function(e){return m(null,e)})}return g.length?void L(g,h,function(l,s){var m=s.reduce(function(o,r){var u;return u="string"==typeof r?r.length:r.byteLength,o+u.toString().length+u+2},0),p=new Uint8Array(m),e=0;return s.forEach(function(u){var y="string"==typeof u,M=u;if(y){for(var w=new Uint8Array(u.length),v=0;v<u.length;v++){w[v]=u.charCodeAt(v)}M=w.buffer}y?p[e++]=0:p[e++]=1;for(var o=M.byteLength.toString(),v=0;v<o.length;v++){p[e++]=parseInt(o[v])}p[e++]=255;for(var w=new Uint8Array(M),v=0;v<w.length;v++){p[e++]=w[v]}}),i(p.buffer)}):i(new ArrayBuffer(0))},f.encodePayloadAsBlob=function(g,i){function h(l,m){f.encodePacket(l,!0,!0,function(u){var N=new Uint8Array(1);if(N[0]=1,"string"==typeof u){for(var w=new Uint8Array(u.length),y=0;y<u.length;y++){w[y]=u.charCodeAt(y)}u=w.buffer,N[0]=0}for(var p=u instanceof ArrayBuffer?u.byteLength:u.size,v=p.toString(),e=new Uint8Array(v.length+1),y=0;y<v.length;y++){e[y]=parseInt(v[y])}if(e[v.length]=255,k){var M=new k([N.buffer,e.buffer,u]);m(null,M)}})}L(g,h,function(e,l){return i(new k(l))})},f.decodePayloadAsBinary=function(T,O,g){"function"==typeof O&&(g=O,O=null);for(var u=T,w=[],U=!1;u.byteLength>0;){for(var S=new Uint8Array(u),Q=0===S[0],m="",N=1;255!=S[N];N++){if(m.length>310){U=!0;break}m+=S[N]}if(U){return g(K,0,1)}u=q(u,2+m.length),m=parseInt(m);var M=q(u,0,m);if(Q){try{M=String.fromCharCode.apply(null,new Uint8Array(M))}catch(v){var P=new Uint8Array(M);M="";for(var N=0;N<P.length;N++){M+=String.fromCharCode(P[N])}}}w.push(M),u=q(u,m)}var R=w.length;w.forEach(function(e,h){g(f.decodePacket(e,O,!0),h,R)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":26,after:27,"arraybuffer.slice":28,"base64-arraybuffer":29,blob:30,"has-binary":36,utf8:31}],26:[function(c,d,f){d.exports=Object.keys||function(g){var i=[],j=Object.prototype.hasOwnProperty;for(var h in g){j.call(g,h)&&i.push(h)}return i}},{}],27:[function(c,f,h){function d(k,m,o){function l(e,i){if(l.count<=0){throw new Error("after called too many times")}--l.count,e?(j=!0,m(e),m=o):0!==l.count||j||m(null,i)}var j=!1;return o=o||g,l.count=k,0===k?m():l}function g(){}f.exports=d},{}],28:[function(c,d,f){d.exports=function(j,m,q){var l=j.byteLength;if(m=m||0,q=q||l,j.slice){return j.slice(m,q)}if(0>m&&(m+=l),0>q&&(q+=l),q>l&&(q=l),m>=l||m>=q||0===l){return new ArrayBuffer(0)}for(var p=new Uint8Array(j),h=new Uint8Array(q-m),k=m,g=0;q>k;k++,g++){h[g]=p[k]}return h.buffer}},{}],29:[function(c,d,f){!function(e){f.encode=function(j){var l,h=new Uint8Array(j),k=h.length,g="";for(l=0;k>l;l+=3){g+=e[h[l]>>2],g+=e[(3&h[l])<<4|h[l+1]>>4],g+=e[(15&h[l+1])<<2|h[l+2]>>6],g+=e[63&h[l+2]]}return k%3===2?g=g.substring(0,g.length-1)+"=":k%3===1&&(g=g.substring(0,g.length-2)+"=="),g},f.decode=function(q){var k,g,j,l,x,v=0.75*q.length,t=q.length,h=0;"="===q[q.length-1]&&(v--,"="===q[q.length-2]&&v--);var w=new ArrayBuffer(v),m=new Uint8Array(w);for(k=0;t>k;k+=4){g=e.indexOf(q[k]),j=e.indexOf(q[k+1]),l=e.indexOf(q[k+2]),x=e.indexOf(q[k+3]),m[h++]=g<<2|j>>4,m[h++]=(15&j)<<4|l>>2,m[h++]=(3&l)<<6|63&x}return w}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],30:[function(c,d,f){(function(h){function p(i){for(var s=0;s<i.length;s++){var v=i[s];if(v.buffer instanceof ArrayBuffer){var q=v.buffer;if(v.byteLength!==q.byteLength){var u=new Uint8Array(v.byteLength);u.set(new Uint8Array(q,v.byteOffset,v.byteLength)),q=u.buffer}i[s]=q}}}function k(i,q){q=q||{};var n=new g;p(i);for(var s=0;s<i.length;s++){n.append(i[s])}return q.type?n.getBlob(q.type):n.getBlob()}function l(i,n){return p(i),new Blob(i,n||{})}var g=h.BlobBuilder||h.WebKitBlobBuilder||h.MSBlobBuilder||h.MozBlobBuilder,j=function(){try{var i=new Blob(["hi"]);return 2===i.size}catch(n){return !1}}(),e=j&&function(){try{var i=new Blob([new Uint8Array([1,2])]);return 2===i.size}catch(n){return !1}}(),m=g&&g.prototype.append&&g.prototype.getBlob;d.exports=function(){return j?e?h.Blob:l:m?k:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(d,f,c){(function(g){!function(E){function I(k){for(var m,s,l=[],p=0,h=k.length;h>p;){m=k.charCodeAt(p++),m>=55296&&56319>=m&&h>p?(s=k.charCodeAt(p++),56320==(64512&s)?l.push(((1023&m)<<10)+(1023&s)+65536):(l.push(m),p--)):l.push(m)}return l}function t(h){for(var k,m=h.length,i=-1,l="";++i<m;){k=h[i],k>65535&&(k-=65536,l+=n(k>>>10&1023|55296),k=56320|1023&k),l+=n(k)}return l}function P(h){if(h>=55296&&57343>=h){throw Error("Lone surrogate U+"+h.toString(16).toUpperCase()+" is not a scalar value")}}function N(h,i){return n(h>>i&63|128)}function D(h){if(0==(4294967168&h)){return n(h)}var i="";return 0==(4294965248&h)?i=n(h>>6&31|192):0==(4294901760&h)?(P(h),i=n(h>>12&15|224),i+=N(h,6)):0==(4292870144&h)&&(i=n(h>>18&7|240),i+=N(h,12),i+=N(h,6)),i+=n(63&h|128)}function r(h){for(var l,p=I(h),k=p.length,m=-1,i="";++m<k;){l=p[m],i+=D(l)}return i}function L(){if(O>=q){throw Error("Invalid byte index")}var h=255&F[O];if(O++,128==(192&h)){return 63&h}throw Error("Invalid continuation byte")}function J(){var h,k,m,i,l;if(O>q){throw Error("Invalid byte index")}if(O==q){return !1}if(h=255&F[O],O++,0==(128&h)){return h}if(192==(224&h)){var k=L();if(l=(31&h)<<6|k,l>=128){return l}throw Error("Invalid continuation byte")}if(224==(240&h)){if(k=L(),m=L(),l=(15&h)<<12|k<<6|m,l>=2048){return P(l),l}throw Error("Invalid continuation byte")}if(240==(248&h)&&(k=L(),m=L(),i=L(),l=(15&h)<<18|k<<12|m<<6|i,l>=65536&&1114111>=l)){return l}throw Error("Invalid UTF-8 detected")}function G(h){F=I(h),q=F.length,O=0;for(var i,k=[];(i=J())!==!1;){k.push(i)}return t(k)}var M="object"==typeof c&&c,e="object"==typeof f&&f&&f.exports==M&&f,K="object"==typeof g&&g;(K.global===K||K.window===K)&&(E=K);var F,q,O,n=String.fromCharCode,H={version:"2.0.0",encode:r,decode:G};if("function"==typeof a&&"object"==typeof a.amd&&a.amd){a(function(){return H})}else{if(M&&!M.nodeType){if(e){e.exports=H}else{var j={},C=j.hasOwnProperty;for(var z in H){C.call(H,z)&&(M[z]=H[z])}}}else{E.utf8=H}}}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(c,d,f){(function(h){var m=/^[\],:{}\s]*$/,k=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,l=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,g=/(?:^|:|,)(?:\s*\[)+/g,j=/^\s+/,e=/\s+$/;d.exports=function(i){return"string"==typeof i&&i?(i=i.replace(j,"").replace(e,""),h.JSON&&JSON.parse?JSON.parse(i):m.test(i.replace(k,"@").replace(l,"]").replace(g,""))?new Function("return "+i)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(c,d,f){f.encode=function(g){var h="";for(var i in g){g.hasOwnProperty(i)&&(h.length&&(h+="&"),h+=encodeURIComponent(i)+"="+encodeURIComponent(g[i]))}return h},f.decode=function(h){for(var k={},m=h.split("&"),j=0,l=m.length;l>j;j++){var g=m[j].split("=");k[decodeURIComponent(g[0])]=decodeURIComponent(g[1])}return k}},{}],34:[function(c,f,h){var d=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];f.exports=function(l){var o=l,q=l.indexOf("["),k=l.indexOf("]");-1!=q&&-1!=k&&(l=l.substring(0,q)+l.substring(q,k).replace(/:/g,";")+l.substring(k,l.length));for(var m=d.exec(l||""),j={},p=14;p--;){j[g[p]]=m[p]||""}return -1!=q&&-1!=k&&(j.source=o,j.host=j.host.substring(1,j.host.length-1).replace(/;/g,":"),j.authority=j.authority.replace("[","").replace("]","").replace(/;/g,":"),j.ipv6uri=!0),j}},{}],35:[function(d,g,j){function f(i,l,m){var k;return k=l?new c(i,l):new c(i)}var h=function(){return this}(),c=h.WebSocket||h.MozWebSocket;g.exports=c?f:null,c&&(f.prototype=c.prototype)},{}],36:[function(c,d,f){(function(h){function e(i){function j(l){if(!l){return !1}if(h.Buffer&&h.Buffer.isBuffer(l)||h.ArrayBuffer&&l instanceof ArrayBuffer||h.Blob&&l instanceof Blob||h.File&&l instanceof File){return !0}if(g(l)){for(var m=0;m<l.length;m++){if(j(l[m])){return !0}}}else{if(l&&"object"==typeof l){l.toJSON&&(l=l.toJSON());for(var k in l){if(Object.prototype.hasOwnProperty.call(l,k)&&j(l[k])){return !0}}}}return !1}return j(i)}var g=c("isarray");d.exports=e}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:37}],37:[function(c,d,f){d.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],38:[function(c,f,h){var d=c("global");try{f.exports="XMLHttpRequest" in d&&"withCredentials" in new d.XMLHttpRequest}catch(g){f.exports=!1}},{global:39}],39:[function(c,d,f){d.exports=function(){return this}()},{}],40:[function(c,f,g){var d=[].indexOf;f.exports=function(h,i){if(d){return h.indexOf(i)}for(var j=0;j<h.length;++j){if(h[j]===i){return j}}return -1}},{}],41:[function(c,f,g){var d=Object.prototype.hasOwnProperty;g.keys=Object.keys||function(h){var i=[];for(var j in h){d.call(h,j)&&i.push(j)}return i},g.values=function(h){var i=[];for(var j in h){d.call(h,j)&&i.push(h[j])}return i},g.merge=function(h,i){for(var j in i){d.call(i,j)&&(h[j]=i[j])}return h},g.length=function(e){return g.keys(e).length},g.isEmpty=function(e){return 0==g.length(e)}},{}],42:[function(c,f,h){var d=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];f.exports=function(k){for(var l=d.exec(k||""),m={},j=14;j--;){m[g[j]]=l[j]||""}return m}},{}],43:[function(c,d,f){(function(h){var g=c("isarray"),i=c("./is-buffer");f.deconstructPacket=function(k){function m(p){if(!p){return p}if(i(p)){var n={_placeholder:!0,num:o.length};return o.push(p),n}if(g(p)){for(var q=new Array(p.length),e=0;e<p.length;e++){q[e]=m(p[e])}return q}if("object"==typeof p&&!(p instanceof Date)){var q={};for(var r in p){q[r]=m(p[r])}return q}return p}var o=[],j=k.data,l=k;return l.data=m(j),l.attachments=o.length,{packet:l,buffers:o}},f.reconstructPacket=function(j,k){function l(m){if(m&&m._placeholder){var p=k[m.num];return p}if(g(m)){for(var e=0;e<m.length;e++){m[e]=l(m[e])}return m}if(m&&"object"==typeof m){for(var n in m){m[n]=l(m[n])}return m}return m}return j.data=l(j.data),j.attachments=void 0,j},f.removeBlobs=function(k,m){function j(o,v,s){if(!o){return o}if(h.Blob&&o instanceof Blob||h.File&&o instanceof File){l++;var n=new FileReader;n.onload=function(){s?s[v]=this.result:e=this.result,--l||m(e)},n.readAsArrayBuffer(o)}else{if(g(o)){for(var r=0;r<o.length;r++){j(o[r],r,o)}}else{if(o&&"object"==typeof o&&!i(o)){for(var q in o){j(o[q],q,o)}}}}}var l=0,e=k;j(e),l||m(e)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":45,isarray:46}],44:[function(D,y,m){function g(){}function k(c){var f="",d=!1;return f+=c.type,(m.BINARY_EVENT==c.type||m.BINARY_ACK==c.type)&&(f+=c.attachments,f+="-"),c.nsp&&"/"!=c.nsp&&(d=!0,f+=c.nsp),null!=c.id&&(d&&(f+=",",d=!1),f+=c.id),null!=c.data&&(d&&(f+=","),f+=x.stringify(c.data)),C("encoded %j as %s",c,f),f}function v(c,d){function f(h){var o=q.deconstructPacket(h),l=k(o.packet),e=o.buffers;e.unshift(l),d(e)}q.removeBlobs(c,f)}function E(){this.reconstructor=null}function B(f){var n={},l=0;if(n.type=Number(f.charAt(0)),null==m.types[n.type]){return j()}if(m.BINARY_EVENT==n.type||m.BINARY_ACK==n.type){for(var p="";"-"!=f.charAt(++l)&&(p+=f.charAt(l),l!=f.length);){}if(p!=Number(p)||"-"!=f.charAt(l)){throw new Error("Illegal attachments")}n.attachments=Number(p)}if("/"==f.charAt(l+1)){for(n.nsp="";++l;){var d=f.charAt(l);if(","==d){break}if(n.nsp+=d,l==f.length){break}}}else{n.nsp="/"}var h=f.charAt(l+1);if(""!==h&&Number(h)==h){for(n.id="";++l;){var d=f.charAt(l);if(null==d||Number(d)!=d){--l;break}if(n.id+=f.charAt(l),l==f.length){break}}n.id=Number(n.id)}if(f.charAt(++l)){try{n.data=x.parse(f.substr(l))}catch(c){return j()}}return C("decoded %s as %j",f,n),n}function A(c){this.reconPack=c,this.buffers=[]}function j(c){return{type:m.ERROR,data:"parser error"}}var C=D("debug")("socket.io-parser"),x=D("json3"),w=(D("isarray"),D("component-emitter")),q=D("./binary"),z=D("./is-buffer");m.protocol=4,m.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],m.CONNECT=0,m.DISCONNECT=1,m.EVENT=2,m.ACK=3,m.ERROR=4,m.BINARY_EVENT=5,m.BINARY_ACK=6,m.Encoder=g,m.Decoder=E,g.prototype.encode=function(c,f){if(C("encoding packet %j",c),m.BINARY_EVENT==c.type||m.BINARY_ACK==c.type){v(c,f)}else{var d=k(c);f([d])}},w(E.prototype),E.prototype.add=function(c){var d;if("string"==typeof c){d=B(c),m.BINARY_EVENT==d.type||m.BINARY_ACK==d.type?(this.reconstructor=new A(d),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",d)):this.emit("decoded",d)}else{if(!z(c)&&!c.base64){throw new Error("Unknown type: "+c)}if(!this.reconstructor){throw new Error("got binary data when not reconstructing a packet")}d=this.reconstructor.takeBinaryData(c),d&&(this.reconstructor=null,this.emit("decoded",d))}},E.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},A.prototype.takeBinaryData=function(c){if(this.buffers.push(c),this.buffers.length==this.reconPack.attachments){var d=q.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),d}return null},A.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":43,"./is-buffer":45,"component-emitter":9,debug:10,isarray:46,json3:47}],45:[function(c,d,f){(function(e){function g(h){return e.Buffer&&e.Buffer.isBuffer(h)||e.ArrayBuffer&&h instanceof ArrayBuffer}d.exports=g}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(c,d,f){d.exports=c(37)},{}],47:[function(d,f,c){!function(ar){function ai(v){if(ai[v]!==ae){return ai[v]}var s;if("bug-string-char-index"==v){s="a"!="a"[0]}else{if("json"==v){s=ai("json-stringify")&&ai("json-parse")}else{var g,k='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==v){var n=ad.stringify,u="function"==typeof n&&aq;if(u){(g=function(){return 1}).toJSON=g;try{u="0"===n(0)&&"0"===n(new Number)&&'""'==n(new String)&&n(aw)===ae&&n(ae)===ae&&n()===ae&&"1"===n(g)&&"[1]"==n([g])&&"[null]"==n([ae])&&"null"==n(null)&&"[null,null,null]"==n([ae,aw,null])&&n({a:[g,!0,!1,null,"\x00\b\n\f\r	"]})==k&&"1"===n(null,g)&&"[\n 1,\n 2\n]"==n([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==n(new Date(-8640000000000000))&&'"+275760-09-13T00:00:00.000Z"'==n(new Date(8640000000000000))&&'"-000001-01-01T00:00:00.000Z"'==n(new Date(-62198755200000))&&'"1969-12-31T23:59:59.999Z"'==n(new Date(-1))}catch(j){u=!1}}s=u}if("json-parse"==v){var q=ad.parse;if("function"==typeof q){try{if(0===q("0")&&!q(!1)){g=q(k);var m=5==g.a.length&&1===g.a[0];if(m){try{m=!q('"	"')}catch(j){}if(m){try{m=1!==q("01")}catch(j){}}if(m){try{m=1!==q("1.")}catch(j){}}}}}catch(j){m=!1}}s=m}}}return ai[v]=!!s}var ah,an,ae,aw={}.toString,au="function"==typeof a&&a.amd,ag="object"==typeof JSON&&JSON,ad="object"==typeof c&&c&&!c.nodeType&&c;ad&&ag?(ad.stringify=ag.stringify,ad.parse=ag.parse):ad=ar.JSON=ag||{};var aq=new Date(-3509827334573292);try{aq=-109252==aq.getUTCFullYear()&&0===aq.getUTCMonth()&&1===aq.getUTCDate()&&10==aq.getUTCHours()&&37==aq.getUTCMinutes()&&6==aq.getUTCSeconds()&&708==aq.getUTCMilliseconds()}catch(ao){}if(!ai("json")){var ak="[object Function]",at="[object Date]",Z="[object Number]",ap="[object String]",aj="[object Array]",ac="[object Boolean]",av=ai("bug-string-char-index");if(!aq){var ab=Math.floor,al=[0,31,59,90,120,151,181,212,243,273,304,334],aa=function(g,h){return al[h]+365*(g-1970)+ab((g-1969+(h=+(h>1)))/4)-ab((g-1901+h)/100)+ab((g-1601+h)/400)}}(ah={}.hasOwnProperty)||(ah=function(g){var h,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=aw?ah=function(j){var k=this.__proto__,l=j in (this.__proto__=null,this);return this.__proto__=k,l}:(h=i.constructor,ah=function(e){var j=(this.constructor||h).prototype;return e in this&&!(e in j&&this[e]===j[e])}),i=null,ah.call(this,g)});var Y={"boolean":1,number:1,string:1,undefined:1},X=function(g,h){var i=typeof g[h];return"object"==i?!!g[h]:!Y[i]};if(an=function(g,j){var l,i,h,k=0;(l=function(){this.valueOf=0}).prototype.valueOf=0,i=new l;for(h in i){ah.call(i,h)&&k++}return l=i=null,k?an=2==k?function(o,q){var s,p={},m=aw.call(o)==ak;for(s in o){m&&"prototype"==s||ah.call(p,s)||!(p[s]=1)||!ah.call(o,s)||q(s)}}:function(o,q){var s,p,m=aw.call(o)==ak;for(s in o){m&&"prototype"==s||!ah.call(o,s)||(p="constructor"===s)||q(s)}(p||ah.call(o,s="constructor"))&&q(s)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],an=function(o,q){var v,m,p=aw.call(o)==ak,u=!p&&"function"!=typeof o.constructor&&X(o,"hasOwnProperty")?o.hasOwnProperty:ah;for(v in o){p&&"prototype"==v||!u.call(o,v)||q(v)}for(m=i.length;v=i[--m];u.call(o,v)&&q(v)){}}),an(g,j)},!ai("json-stringify")){var W={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},z="000000",Q=function(g,h){return(z+(h||0)).slice(-g)},t="\\u00",am=function(h){var l,p='"',k=0,m=h.length,g=m>10&&av;for(g&&(l=h.split(""));m>k;k++){var j=h.charCodeAt(k);switch(j){case 8:case 9:case 10:case 12:case 13:case 34:case 92:p+=W[j];break;default:if(32>j){p+=t+Q(2,j.toString(16));break}p+=g?l[k]:av?h.charAt(k):h[k]}}return p+'"'},ax=function(x,aG,aB,I,aH,aA,w){var aF,aE,aC,aI,aD,az,ay,E,j,i,o,m,v,s,g,L;try{aF=aG[x]}catch(y){}if("object"==typeof aF&&aF){if(aE=aw.call(aF),aE!=at||ah.call(aF,"toJSON")){"function"==typeof aF.toJSON&&(aE!=Z&&aE!=ap&&aE!=aj||ah.call(aF,"toJSON"))&&(aF=aF.toJSON(x))}else{if(aF>-1/0&&1/0>aF){if(aa){for(aD=ab(aF/86400000),aC=ab(aD/365.2425)+1970-1;aa(aC+1,0)<=aD;aC++){}for(aI=ab((aD-aa(aC,0))/30.42);aa(aC,aI+1)<=aD;aI++){}aD=1+aD-aa(aC,aI),az=(aF%86400000+86400000)%86400000,ay=ab(az/3600000)%24,E=ab(az/60000)%60,j=ab(az/1000)%60,i=az%1000}else{aC=aF.getUTCFullYear(),aI=aF.getUTCMonth(),aD=aF.getUTCDate(),ay=aF.getUTCHours(),E=aF.getUTCMinutes(),j=aF.getUTCSeconds(),i=aF.getUTCMilliseconds()}aF=(0>=aC||aC>=10000?(0>aC?"-":"+")+Q(6,0>aC?-aC:aC):Q(4,aC))+"-"+Q(2,aI+1)+"-"+Q(2,aD)+"T"+Q(2,ay)+":"+Q(2,E)+":"+Q(2,j)+"."+Q(3,i)+"Z"}else{aF=null}}}if(aB&&(aF=aB.call(aG,x,aF)),null===aF){return"null"}if(aE=aw.call(aF),aE==ac){return""+aF}if(aE==Z){return aF>-1/0&&1/0>aF?""+aF:"null"}if(aE==ap){return am(""+aF)}if("object"==typeof aF){for(s=w.length;s--;){if(w[s]===aF){throw TypeError()}}if(w.push(aF),o=[],g=aA,aA+=aH,aE==aj){for(v=0,s=aF.length;s>v;v++){m=ax(v,aF,aB,I,aH,aA,w),o.push(m===ae?"null":m)}L=o.length?aH?"[\n"+aA+o.join(",\n"+aA)+"\n"+g+"]":"["+o.join(",")+"]":"[]"}else{an(I||aF,function(h){var k=ax(h,aF,aB,I,aH,aA,w);k!==ae&&o.push(am(h)+":"+(aH?" ":"")+k)}),L=o.length?aH?"{\n"+aA+o.join(",\n"+aA)+"\n"+g+"}":"{"+o.join(",")+"}":"{}"}return w.pop(),L}};ad.stringify=function(w,m,k){var g,j,l,x;if("function"==typeof m||"object"==typeof m&&m){if((x=aw.call(m))==ak){j=m}else{if(x==aj){l={};for(var q,h=0,v=m.length;v>h;q=m[h++],x=aw.call(q),(x==ap||x==Z)&&(l[q]=1)){}}}}if(k){if((x=aw.call(k))==Z){if((k-=k%1)>0){for(g="",k>10&&(k=10);g.length<k;g+=" "){}}}else{x==ap&&(g=k.length<=10?k:k.slice(0,10))}}return ax("",(q={},q[""]=w,q),j,l,g,"",[])}}if(!ai("json-parse")){var G,F,J=String.fromCharCode,H={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},r=function(){throw G=F=null,SyntaxError()},af=function(){for(var h,l,p,k,m,g=F,j=g.length;j>G;){switch(m=g.charCodeAt(G)){case 9:case 10:case 13:case 32:G++;break;case 123:case 125:case 91:case 93:case 58:case 44:return h=av?g.charAt(G):g[G],G++,h;case 34:for(h="@",G++;j>G;){if(m=g.charCodeAt(G),32>m){r()}else{if(92==m){switch(m=g.charCodeAt(++G)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:h+=H[m],G++;break;case 117:for(l=++G,p=G+4;p>G;G++){m=g.charCodeAt(G),m>=48&&57>=m||m>=97&&102>=m||m>=65&&70>=m||r()}h+=J("0x"+g.slice(l,G));break;default:r()}}else{if(34==m){break}for(m=g.charCodeAt(G),l=G;m>=32&&92!=m&&34!=m;){m=g.charCodeAt(++G)}h+=g.slice(l,G)}}}if(34==g.charCodeAt(G)){return G++,h}r();default:if(l=G,45==m&&(k=!0,m=g.charCodeAt(++G)),m>=48&&57>=m){for(48==m&&(m=g.charCodeAt(G+1),m>=48&&57>=m)&&r(),k=!1;j>G&&(m=g.charCodeAt(G),m>=48&&57>=m);G++){}if(46==g.charCodeAt(G)){for(p=++G;j>p&&(m=g.charCodeAt(p),m>=48&&57>=m);p++){}p==G&&r(),G=p}if(m=g.charCodeAt(G),101==m||69==m){for(m=g.charCodeAt(++G),(43==m||45==m)&&G++,p=G;j>p&&(m=g.charCodeAt(p),m>=48&&57>=m);p++){}p==G&&r(),G=p}return +g.slice(l,G)}if(k&&r(),"true"==g.slice(G,G+4)){return G+=4,!0}if("false"==g.slice(G,G+5)){return G+=5,!1}if("null"==g.slice(G,G+4)){return G+=4,null}r()}}return"$"},V=function(g){var h,i;if("$"==g&&r(),"string"==typeof g){if("@"==(av?g.charAt(0):g[0])){return g.slice(1)}if("["==g){for(h=[];g=af(),"]"!=g;i||(i=!0)){i&&(","==g?(g=af(),"]"==g&&r()):r()),","==g&&r(),h.push(V(g))}return h}if("{"==g){for(h={};g=af(),"}"!=g;i||(i=!0)){i&&(","==g?(g=af(),"}"==g&&r()):r()),(","==g||"string"!=typeof g||"@"!=(av?g.charAt(0):g[0])||":"!=af())&&r(),h[g.slice(1)]=V(af())}return h}r()}return g},M=function(g,i,j){var h=K(g,i,j);h===ae?delete g[i]:g[i]=h},K=function(g,i,k){var h,j=g[i];if("object"==typeof j&&j){if(aw.call(j)==aj){for(h=j.length;h--;){M(j,h,k)}}else{an(j,function(e){M(j,e,k)})}}return k.call(g,i,j)};ad.parse=function(g,i){var j,h;return G=0,F=""+g,j=V(af()),"$"!=af()&&r(),G=F=null,i&&aw.call(i)==ak?K((h={},h[""]=j,h),"",i):j}}}au&&a(function(){return ad})}(this)},{}],48:[function(c,f,g){function d(h,j){var k=[];j=j||0;for(var i=j||0;i<h.length;i++){k[i-j]=h[i]}return k}f.exports=d},{}]},{},[1])(1)});function log(a){if(goEasy_debug){var b=(new Date).formatDate("yy-MM-dd hh:mm:ss.S");goEasy_logs.push(b+" "+a+"\n")}}function getCookie(b){var c,a=new RegExp("(^| )"+b+"=([^;]*)(;|$)");return(c=document.cookie.match(a))?unescape(c[2]):null}function setCookie(c,d){var b=30,a=new Date;a.setTime(a.getTime()+24*b*60*60*1000),document.cookie=c+"="+escape(d)+";expires="+a.toGMTString()}function GoEasyArray(){Array.apply(this)}function GoEasy(b){if(log("GoEasy() Create GoEasy object:"+JSON.stringify(b)),this._isEmpty(b.appkey)){return void ("undefined"!=typeof b.onConnectFailed&&b.onConnectFailed({code:400,content:"appkey is required"}))}this._copyConfig(b);var c=this._subServerHost.replace("://","://"+goEasyDomainNumber.number()),a=c+":"+this._subServerPort;this.socket=io.connect(a),this._callbackEvents(b)}var goEasy_logs=[],goEasy_debug=!1;!function(a){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=a()}else{if("function"==typeof define&&define.amd){define([],a)}else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.uuid=a()}}}(function(){return function a(g,c,b){function f(j,i){if(!c[j]){if(!g[j]){var l="function"==typeof require&&require;if(!i&&l){return l(j,!0)}if(e){return e(j,!0)}var h=new Error("Cannot find module '"+j+"'");throw h.code="MODULE_NOT_FOUND",h}var k=c[j]={exports:{}};g[j][0].call(k.exports,function(n){var m=g[j][1][n];return f(m?m:n)},k,k.exports,a,g,c,b)}return c[j].exports}for(var e="function"==typeof require&&require,d=0;d<b.length;d++){f(b[d])}return f}({1:[function(f,h,c){var b=f("./v1"),g=f("./v4"),d=g;d.v1=b,d.v4=g,h.exports=d},{"./v1":4,"./v4":5}],2:[function(f,h,c){function b(l,m){var k=m||0,j=g;return j[l[k++]]+j[l[k++]]+j[l[k++]]+j[l[k++]]+"-"+j[l[k++]]+j[l[k++]]+"-"+j[l[k++]]+j[l[k++]]+"-"+j[l[k++]]+j[l[k++]]+"-"+j[l[k++]]+j[l[k++]]+j[l[k++]]+j[l[k++]]+j[l[k++]]+j[l[k++]]}for(var g=[],d=0;256>d;++d){g[d]=(d+256).toString(16).substr(1)}h.exports=b},{}],3:[function(c,d,b){(function(j){var g,f=j.crypto||j.msCrypto;if(f&&f.getRandomValues){var k=new Uint8Array(16);g=function(){return f.getRandomValues(k),k}}if(!g){var h=new Array(16);g=function(){for(var i,l=0;16>l;l++){0===(3&l)&&(i=4294967296*Math.random()),h[l]=i>>>((3&l)<<3)&255}return h}}d.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(j,g,q){function h(B,r,E){var w=r&&E||0,d=r||[];B=B||{};var F=void 0!==B.clockseq?B.clockseq:l,u=void 0!==B.msecs?B.msecs:(new Date).getTime(),A=void 0!==B.nsecs?B.nsecs:k+1,x=u-m+(A-k)/10000;if(0>x&&void 0===B.clockseq&&(F=F+1&16383),(0>x||u>m)&&void 0===B.nsecs&&(A=0),A>=10000){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}m=u,k=A,l=F,u+=12219292800000;var D=(10000*(268435455&u)+A)%4294967296;d[w++]=D>>>24&255,d[w++]=D>>>16&255,d[w++]=D>>>8&255,d[w++]=255&D;var C=u/4294967296*10000&268435455;d[w++]=C>>>8&255,d[w++]=255&C,d[w++]=C>>>24&15|16,d[w++]=C>>>16&255,d[w++]=F>>>8|128,d[w++]=255&F;for(var z=B.node||p,c=0;6>c;++c){d[w+c]=z[c]}return r?r:b(d)}var f=j("./lib/rng"),b=j("./lib/bytesToUuid"),v=f(),p=[1|v[0],v[1],v[2],v[3],v[4],v[5]],l=16383&(v[6]<<8|v[7]),m=0,k=0;g.exports=h},{"./lib/bytesToUuid":2,"./lib/rng":3}],5:[function(f,h,c){function b(o,p,l){var k=p&&l||0;"string"==typeof o&&(p="binary"==o?new Array(16):null,o=null),o=o||{};var m=o.random||(o.rng||g)();if(m[6]=15&m[6]|64,m[8]=63&m[8]|128,p){for(var j=0;16>j;++j){p[k+j]=m[j]}}return p||d(m)}var g=f("./lib/rng"),d=f("./lib/bytesToUuid");h.exports=b},{"./lib/bytesToUuid":2,"./lib/rng":3}]},{},[1])(1)}),Date.prototype.formatDate=function(b){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in c){c.hasOwnProperty(a)&&new RegExp("("+a+")").test(b)&&(b=b.replace(RegExp.$1,1==RegExp.$1.length?c[a]:("00"+c[a]).substr((""+c[a]).length)))}return b};var GoEasyDomainNumber=function(){currentNumber=this.initialCurrentNumber()};GoEasyDomainNumber.prototype={maxNumber:10,number:function(){return currentNumber},initialCurrentNumber:function(){return currentNumber=parseInt(getCookie("goeasyNode")),currentNumber>0&&currentNumber<this.maxNumber?currentNumber+=1:currentNumber=1,setCookie("goeasyNode",currentNumber),currentNumber}};var goEasyDomainNumber=new GoEasyDomainNumber;GoEasyArray.prototype=new Array,GoEasyArray.prototype.indexOfGuid=function(a){for(var b=0;b<this.length;b++){if(this[b]==a){return b}}return -1},GoEasyArray.prototype.unshiftGuid=function(b){var c=!1,a=this.indexOfGuid(b);for(a>-1&&(c=!0,this.splice(a,1)),this.unshift(b);this.length>100;){this.pop()}return c},GoEasy.prototype={debug:!1,socket:null,authorizeResult:null,channels:[],_subServerHost:"https://www.goeasy.io",_subServerPort:"9000",networkStatus:"initial",subscribeBuffer:[],maxRetries:3,receivedGuids:new GoEasyArray,_copyConfig:function(a){this._appkey=a.appkey,this._isEmpty(a.userId)?(this._userId="anonymous-"+Math.floor(100000*Math.random()+1),a.userId=this._userId):this._userId=this._trim(a.userId),this._isEmpty(a.username)?(this._username="",a.username=""):this._username=this._trim(a.username),1==a.debug&&(this.debug=!0)},subscribe:function(a){if(log("subscribe() subscribe:"+JSON.stringify(a)),this._isEmpty(a.channel)){return log("subscribe() 'channel' is required."),void ("undefined"!=typeof a.onFailed&&a.onFailed({code:400,content:"channel is required"}))}this.subscribeBuffer[a.channel]=a,log("subscribe() add subscription into subscribeBuffer:"+JSON.stringify(this.subscribeBuffer[a.channel]));var b=this;null!=b.authorizeResult&&"connected"==b.networkStatus&&(a.checking=!0,b.doSubscribeAndCheckAck(a))},doSubscribe:function(b){log("doSubscribe() with subscription:"+JSON.stringify(b));var c=this;if(200==c.authorizeResult.code){if(this._isEmpty(b.channel)){log("doSubscribe() subscribe failed with empty channel"),c.sendlogs(),b.finish=!0}else{var a={channel:b.channel,sid:c.authorizeResult.sid};log("doSubscribe() emit subscribe params:"+JSON.stringify(a)),c.socket.emit("subscribe",a,function(d){log("doSubscribe() receive subscribe ack:"+JSON.stringify(d)),1!=b.finish&&(b.finish=!0,delete c.subscribeBuffer[b.channel],log("doSubscribe() delete subscription from subscribeBuffer:"+JSON.stringify(b)),200==d.resultCode?(c.channels[b.channel]=b,"undefined"!=typeof b.onSuccess&&b.onSuccess()):"undefined"!=typeof b.onFailed&&b.onFailed({code:d.resultCode,content:d.content}))})}}else{log("doSubscribe() return with authorize code:"+c.authorizeResult.code)}},doSubscribeAndCheckAck:function(b){log("doSubscribeAndCheckAck():"+JSON.stringify(b)),b.finish=!1;var c=this;c.doSubscribe(b);var a=window.setInterval(function(){b.finish||"connected"!=c.networkStatus?(log("doSubscribeAndCheckAck() clean doSubscribeAndCheckAck:"+JSON.stringify(b)),b.checking=!1,window.clearInterval(a)):(log("doSubscribeAndCheckAck() retry doSubscribe:"+JSON.stringify(b)),c.doSubscribe(b))},1300)},unsubscribe:function(f){function h(){200==a.authorizeResult.code?a.socket.emit("unsubscribe",{sid:a.authorizeResult.sid,channel:f.channel},function(e){g=!0,200==e.resultCode?(delete a.channels[f.channel],log("doUnsubscribe() delete from channels:"+JSON.stringify(f)),"undefined"!=typeof f.onSuccess&&f.onSuccess()):"undefined"!=typeof f.onFailed&&f.onFailed({code:e.resultCode,content:e.content})}):(g=!0,"undefined"!=typeof f.onFailed&&f.onFailed({code:a.authorizeResult.code,content:a.authorizeResult.content}))}function b(){h();var e=window.setInterval(function(){!g&&"connected"==a.networkStatus&&0>d?(d++,h()):d==a.maxRetries?(window.clearInterval(e),"undefined"!=typeof f.onFailed&&f.onFailed({code:408,content:"Server unreachable or timeout"})):window.clearInterval(e)},1000)}if(this._isEmpty(f.channel)){return this.log("'channel' is required."),void ("undefined"!=typeof f.onFailed&&f.onFailed({code:400,content:"channel is required"}))}if("undefined"==typeof this.channels[f.channel]){return this.log("'channel' is not subscribed."),void ("undefined"!=typeof f.onFailed&&f.onFailed({code:400,content:"channel["+f.channel+"] is not subscribed"}))}var a=this,g=!1,d=0;if(null!=this.authorizeResult&&"connected"==a.networkStatus){b()}else{var c=window.setInterval(function(){null!=a.authorizeResult&&"connected"==a.networkStatus?(window.clearInterval(c),b()):(d++,d==a.maxRetries&&(window.clearInterval(c),"undefined"!=typeof f.onFailed&&f.onFailed({code:408,content:"Server unreachable or timeout"})))},1000)}},publish:function(f){function h(e){200==a.authorizeResult.code?a.socket.emit("publish",{sid:a.authorizeResult.sid,channel:f.channel,content:f.message,guid:e,retried:d},function(i){g=!0,200==i.resultCode?"undefined"!=typeof f.onSuccess&&f.onSuccess():"undefined"!=typeof f.onFailed&&f.onFailed({code:i.resultCode,content:i.content})}):(g=!0,"undefined"!=typeof f.onFailed&&f.onFailed({code:a.authorizeResult.code,content:a.authorizeResult.content}))}function b(){var e=a.uuid_goeasy();h(e);var i=window.setInterval(function(){!g&&d<a.maxRetries?(d++,h(e)):d==a.maxRetries?(window.clearInterval(i),"undefined"!=typeof f.onFailed&&f.onFailed({code:408,content:"Server unreachable or timeout"})):window.clearInterval(i)},1000)}if(this._isEmpty(f.channel)){return this.log("'channel' is required."),void ("undefined"!=typeof f.onFailed&&f.onFailed({code:400,content:"channel is required"}))}if(this._isEmpty(f.message)){return this.log("'message' is required."),void ("undefined"!=typeof f.onFailed&&f.onFailed({code:400,content:"message is required"}))}var a=this,g=!1,d=0;if(null!=this.authorizeResult&&"connected"==a.networkStatus){b()}else{var c=window.setInterval(function(){null!=a.authorizeResult&&"connected"==a.networkStatus?(window.clearInterval(c),b()):(d++,d==a.maxRetries&&(window.clearInterval(c),"undefined"!=typeof f.onFailed&&f.onFailed({code:408,content:"Server unreachable or timeout"})))},1000)}},_callbackEvents:function(a){var b=this;this.socket.on("message",function(f,d){f.enableAck&&d&&d(f);var c=f.channel;b.receivedGuids.unshiftGuid(f.guid)||"undefined"!=typeof b.channels[c].onMessage&&b.channels[c].onMessage(f)}),this.socket.on("connect",function(){function d(){log("doAuthorize() emit authorize params:"+JSON.stringify(c)),b._isEmpty(c.artifactVersion)&&b.sendlogs(),b.socket.emit("authorize",c,function(h){if(log("doAuthorize() received authorize ack:"+JSON.stringify(h)),!f){if(f=!0,null==b.authorizeResult&&(b.authorizeResult={}),b.authorizeResult.code=h.resultCode,b.authorizeResult.content=h.content,200==h.resultCode){if(null==b.authorizeResult.sid){b.authorizeResult.sid=h.sid}else{if(b.authorizeResult.sid!=h.sid){b.authorizeResult.sid=h.sid;for(var g in b.channels){b.channels.hasOwnProperty(g)&&(log("doAuthorize() sid expired and will call doSubscribeAndCheckAck from channels:"+JSON.stringify(b.channels[g])),b.doSubscribeAndCheckAck(b.channels[g]))}}}for(var j in b.subscribeBuffer){b.subscribeBuffer.hasOwnProperty(j)&&(log("doAuthorize() will doSubscribeAndCheckAck from subscribeBuffer:"+JSON.stringify(b.subscribeBuffer[j])),b.doSubscribeAndCheckAck(b.subscribeBuffer[j]))}"undefined"!=typeof a.onConnected&&a.onConnected()}else{"undefined"!=typeof a.onConnectFailed&&a.onConnectFailed({code:h.resultCode,content:h.content})}}})}b.networkStatus="connected";var c={appkey:b._appkey,userId:b._userId,username:b._username,startMillis:millis,artifactVersion:goEasy_V};null!=b.authorizeResult&&(c.sid=b.authorizeResult.sid);var f=!1;d();var e=window.setInterval(function(){f||"connected"!=b.networkStatus?window.clearInterval(e):d()},1300)},this.socket.on("connect_error",function(c){"undefined"!=typeof a.onConnectFailed&&a.onConnectFailed({code:408,content:c})})),this.socket.on("disconnect",function(){b.networkStatus="disconnected",b.authorizeResult.code=408,b.authorizeResult.content="Server unreachable or timeout","undefined"!=typeof a.onDisconnected&&a.onDisconnected()})},_isEmpty:function(a){return"undefined"==typeof a||null==a||0==this._trim(a).length},_trim:function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},log:function(a){window.console&&this.debug&&console.log(a)},uuid_goeasy:function(){return uuid.v1()},sendlogs:function(){goEasy_debug&&this.socket.emit("log",{logs:goEasy_logs})}};