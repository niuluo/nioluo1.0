/*!
 * FullCalendar v3.1.0
 * Docs & License: http://fullcalendar.io/
 * (c) 2016 Adam Shaw
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","moment"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"),require("moment"))}else{a(jQuery,moment)}}})(function(bv,a4){var x=bv.fullCalendar={version:"3.1.0",internalApiVersion:7};var Y=x.views={};bv.fn.fullCalendar=function(bL){var bK=Array.prototype.slice.call(arguments,1);var bM=this;this.each(function(bP,bN){var bO=bv(bN);var bR=bO.data("fullCalendar");var bQ;if(typeof bL==="string"){if(bR&&bv.isFunction(bR[bL])){bQ=bR[bL].apply(bR,bK);if(!bP){bM=bQ}if(bL==="destroy"){bO.removeData("fullCalendar")}}}else{if(!bR){bR=new v(bO,bL);bO.data("fullCalendar",bR);bR.render()}}});return bM};var ab=["header","footer","buttonText","buttonIcons","themeButtonIcons"];function aR(bK){return bG(bK,ab)}x.intersectRanges=f;x.applyAll=y;x.debounce=bb;x.isInt=bz;x.htmlEscape=aJ;x.cssToStr=K;x.proxy=aD;x.capitaliseFirstLetter=o;function ar(bL,bK){if(bK.left){bL.css({"border-left-width":1,"margin-left":bK.left-1})}if(bK.right){bL.css({"border-right-width":1,"margin-right":bK.right-1})}}function H(bK){bK.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function bw(){bv("body").addClass("fc-not-allowed")}function ap(){bv("body").removeClass("fc-not-allowed")}function Z(bP,bO,bL){var bM=Math.floor(bO/bP.length);var bK=Math.floor(bO-bM*(bP.length-1));var bQ=[];var bR=[];var bN=[];var bS=0;l(bP);bP.each(function(bU,bV){var bW=bU===bP.length-1?bK:bM;var bT=bv(bV).outerHeight(true);if(bT<bW){bQ.push(bV);bR.push(bT);bN.push(bv(bV).height())}else{bS+=bT}});if(bL){bO-=bS;bM=Math.floor(bO/bQ.length);bK=Math.floor(bO-bM*(bQ.length-1))}bv(bQ).each(function(bV,bW){var bY=bV===bQ.length-1?bK:bM;var bU=bR[bV];var bX=bN[bV];var bT=bY-(bU-bX);if(bU<bY){bv(bW).height(bT)}})}function l(bK){bK.height("")}function T(bK){var bL=0;bK.find("> *").each(function(bN,bO){var bM=bv(bO).outerWidth();if(bM>bL){bL=bM}});bL++;bK.width(bL);return bL}function r(bK,bN){var bL=bK.add(bN);var bM;bL.css({position:"relative",left:-1});bM=bK.outerHeight()-bN.outerHeight();bL.css({position:"",left:""});return bM}x.getOuterRect=an;x.getClientRect=B;x.getContentRect=ai;x.getScrollbarWidths=a;function bn(bL){var bK=bL.css("position"),bM=bL.parents().filter(function(){var bN=bv(this);return(/(auto|scroll)/).test(bN.css("overflow")+bN.css("overflow-y")+bN.css("overflow-x"))}).eq(0);return bK==="fixed"||!bM.length?bv(bL[0].ownerDocument||document):bM}function an(bL,bK){var bO=bL.offset();var bN=bO.left-(bK?bK.left:0);var bM=bO.top-(bK?bK.top:0);return{left:bN,right:bN+bL.outerWidth(),top:bM,bottom:bM+bL.outerHeight()}}function B(bM,bK){var bP=bM.offset();var bL=a(bM);var bO=bP.left+bC(bM,"border-left-width")+bL.left-(bK?bK.left:0);var bN=bP.top+bC(bM,"border-top-width")+bL.top-(bK?bK.top:0);return{left:bO,right:bO+bM[0].clientWidth,top:bN,bottom:bN+bM[0].clientHeight}}function ai(bL,bK){var bO=bL.offset();var bN=bO.left+bC(bL,"border-left-width")+bC(bL,"padding-left")-(bK?bK.left:0);var bM=bO.top+bC(bL,"border-top-width")+bC(bL,"padding-top")-(bK?bK.top:0);return{left:bN,right:bN+bL.width(),top:bM,bottom:bM+bL.height()}}function a(bK){var bM=bK.innerWidth()-bK[0].clientWidth;var bL={left:0,right:0,top:0,bottom:bK.innerHeight()-bK[0].clientHeight};if(bm()&&bK.css("direction")=="rtl"){bL.left=bM}else{bL.right=bM}return bL}var E=null;function bm(){if(E===null){E=az()}return E}function az(){var bL=bv("<div><div/></div>").css({position:"absolute",top:-1000,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body");var bM=bL.children();var bK=bM.offset().left>bL.offset().left;bL.remove();return bK}function bC(bK,bL){return parseFloat(bK.css(bL))||0}x.preventDefault=bB;function bF(bK){return bK.which==1&&!bK.ctrlKey}function R(bK){if(bK.pageX!==undefined){return bK.pageX}var bL=bK.originalEvent.touches;if(bL){return bL[0].pageX}}function Q(bK){if(bK.pageY!==undefined){return bK.pageY}var bL=bK.originalEvent.touches;if(bL){return bL[0].pageY}}function aO(bK){return/^touch/.test(bK.type)}function A(bK){bK.addClass("fc-unselectable").on("selectstart",bB)}function bB(bK){bK.preventDefault()}function p(bK){if(window.addEventListener){window.addEventListener("scroll",bK,true);return true}return false}function a9(bK){if(window.removeEventListener){window.removeEventListener("scroll",bK,true);return true}return false}x.intersectRects=c;function c(bL,bK){var bM={left:Math.max(bL.left,bK.left),right:Math.min(bL.right,bK.right),top:Math.max(bL.top,bK.top),bottom:Math.min(bL.bottom,bK.bottom)};if(bM.left<bM.right&&bM.top<bM.bottom){return bM}return false}function aG(bK,bL){return{left:Math.min(Math.max(bK.left,bL.left),bL.right),top:Math.min(Math.max(bK.top,bL.top),bL.bottom)}}function aU(bK){return{left:(bK.left+bK.right)/2,top:(bK.top+bK.bottom)/2}}function bu(bL,bK){return{left:bL.left-bK.left,top:bL.top-bK.top}}x.parseFieldSpecs=aB;x.compareByFieldSpecs=bd;x.compareByFieldSpec=z;x.flexibleCompare=L;function aB(bK){var bO=[];var bN=[];var bM,bL;if(typeof bK==="string"){bN=bK.split(/\s*,\s*/)}else{if(typeof bK==="function"){bN=[bK]}else{if(bv.isArray(bK)){bN=bK}}}for(bM=0;bM<bN.length;bM++){bL=bN[bM];if(typeof bL==="string"){bO.push(bL.charAt(0)=="-"?{field:bL.substring(1),order:-1}:{field:bL,order:1})}else{if(typeof bL==="function"){bO.push({func:bL})}}}return bO}function bd(bN,bM,bO){var bK;var bL;for(bK=0;bK<bO.length;bK++){bL=z(bN,bM,bO[bK]);if(bL){return bL}}return 0}function z(bM,bK,bL){if(bL.func){return bL.func(bM,bK)}return L(bM[bL.field],bK[bL.field])*(bL.order||1)}function L(bL,bK){if(!bL&&!bK){return 0}if(bK==null){return -1}if(bL==null){return 1}if(bv.type(bL)==="string"||bv.type(bK)==="string"){return String(bL).localeCompare(String(bK))}return bL-bK}function f(bS,bL){var bO=bS.start;var bM=bS.end;var bR=bL.start;var bP=bL.end;var bQ,bT;var bK,bN;if(bM>bR&&bO<bP){if(bO>=bR){bQ=bO.clone();bK=true}else{bQ=bR.clone();bK=false}if(bM<=bP){bT=bM.clone();bN=true}else{bT=bP.clone();bN=false}return{start:bQ,end:bT,isStart:bK,isEnd:bN}}}x.computeIntervalUnit=ay;x.divideRangeByDuration=n;x.divideDurationByDuration=D;x.multiplyDuration=aq;x.durationHasTime=ac;var aN=["sun","mon","tue","wed","thu","fri","sat"];var aF=["year","month","week","day","hour","minute","second","millisecond"];function g(bL,bK){return a4.duration({days:bL.clone().stripTime().diff(bK.clone().stripTime(),"days"),ms:bL.time()-bK.time()})}function ae(bL,bK){return a4.duration({days:bL.clone().stripTime().diff(bK.clone().stripTime(),"days")})}function e(bL,bK,bM){return a4.duration(Math.round(bL.diff(bK,bM,true)),bM)}function ay(bO,bK){var bL,bM;var bN;for(bL=0;bL<aF.length;bL++){bM=aF[bL];bN=at(bM,bO,bK);if(bN>=1&&bz(bN)){break}}return bM}function at(bL,bM,bK){if(bK!=null){return bK.diff(bM,bL,true)}else{if(a4.isDuration(bM)){return bM.as(bL)}else{return bM.end.diff(bM.start,bL,true)}}}function n(bN,bL,bM){var bK;if(ac(bM)){return(bL-bN)/bM}bK=bM.asMonths();if(Math.abs(bK)>=1&&bz(bK)){return bL.diff(bN,"months",true)/bK}return bL.diff(bN,"days",true)/bM.asDays()}function D(bM,bL){var bK,bN;if(ac(bM)||ac(bL)){return bM/bL}bK=bM.asMonths();bN=bL.asMonths();if(Math.abs(bK)>=1&&bz(bK)&&Math.abs(bN)>=1&&bz(bN)){return bK/bN}return bM.asDays()/bL.asDays()}function aq(bL,bM){var bK;if(ac(bL)){return a4.duration(bL*bM)}bK=bL.asMonths();if(Math.abs(bK)>=1&&bz(bK)){return a4.duration({months:bK*bM})}return a4.duration({days:bL.asDays()*bM})}function ac(bK){return Boolean(bK.hours()||bK.minutes()||bK.seconds()||bK.milliseconds())}function i(bK){return Object.prototype.toString.call(bK)==="[object Date]"||bK instanceof Date}function ad(bK){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(bK)}x.log=function(){var bK=window.console;if(bK&&bK.log){return bK.log.apply(bK,arguments)}};x.warn=function(){var bK=window.console;if(bK&&bK.warn){return bK.warn.apply(bK,arguments)}else{return x.log.apply(x,arguments)}};var aL={}.hasOwnProperty;function bG(bS,bO){var bR={};var bN,bK;var bQ;var bM,bL;var bP;if(bO){for(bN=0;bN<bO.length;bN++){bK=bO[bN];bQ=[];for(bM=bS.length-1;bM>=0;bM--){bL=bS[bM][bK];if(typeof bL==="object"){bQ.unshift(bL)}else{if(bL!==undefined){bR[bK]=bL;break}}}if(bQ.length){bR[bK]=bG(bQ)}}}for(bN=bS.length-1;bN>=0;bN--){bP=bS[bN];for(bK in bP){if(!(bK in bR)){bR[bK]=bP[bK]}}}return bR}function U(bK){var bL=function(){};bL.prototype=bK;return new bL()}x.createObject=U;function u(bM,bL){for(var bK in bM){if(ag(bM,bK)){bL[bK]=bM[bK]}}}function ag(bL,bK){return aL.call(bL,bK)}function bp(bK){return/undefined|null|boolean|number|string/.test(bv.type(bK))}function y(bN,bO,bL){if(bv.isFunction(bN)){bN=[bN]}if(bN){var bM;var bK;for(bM=0;bM<bN.length;bM++){bK=bN[bM].apply(bO,bL)||bK}return bK}}function V(){for(var bK=0;bK<arguments.length;bK++){if(arguments[bK]!==undefined){return arguments[bK]}}}function aJ(bK){return(bK+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function aH(bK){return bK.replace(/&.*?;/g,"")}function K(bL){var bK=[];bv.each(bL,function(bM,bN){if(bN!=null){bK.push(bM+":"+bN)}});return bK.join(";")}function a5(bK){var bL=[];bv.each(bK,function(bM,bN){if(bN!=null){bL.push(bM+'="'+aJ(bN)+'"')}});return bL.join(" ")}function o(bK){return bK.charAt(0).toUpperCase()+bK.slice(1)}function X(bL,bK){return bL-bK}function bz(bK){return bK%1===0}function aD(bL,bK){var bM=bL[bK];return function(){return bM.apply(bL,arguments)}}function bb(bM,bO,bL){var bR,bQ,bK,bP,bS;var bN=function(){var bT=+new Date()-bP;if(bT<bO){bR=setTimeout(bN,bO-bT)}else{bR=null;if(!bL){bS=bM.apply(bK,bQ);bK=bQ=null}}};return function(){bK=this;bQ=arguments;bP=+new Date();var bT=bL&&!bR;if(!bR){bR=setTimeout(bN,bO)}if(bT){bS=bM.apply(bK,bQ);bK=bQ=null}return bS}}var bI=/^\s*\d{4}-\d\d$/;var ax=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;var ao=a4.fn;var aA=bv.extend({},ao);var M=a4.momentProperties;M.push("_fullCalendar");M.push("_ambigTime");M.push("_ambigZone");x.moment=function(){return bh(arguments)};x.moment.utc=function(){var bK=bh(arguments,true);if(bK.hasTime()){bK.utc()}return bK};x.moment.parseZone=function(){return bh(arguments,true,true)};function bh(bQ,bP,bO){var bS=bQ[0];var bN=bQ.length==1&&typeof bS==="string";var bM;var bR;var bK;var bL;if(a4.isMoment(bS)||i(bS)||bS===undefined){bL=a4.apply(null,bQ)}else{bM=false;bR=false;if(bN){if(bI.test(bS)){bS+="-01";bQ=[bS];bM=true;bR=true}else{if((bK=ax.exec(bS))){bM=!bK[5];bR=true}}}else{if(bv.isArray(bS)){bR=true}}if(bP||bM){bL=a4.utc.apply(a4,bQ)}else{bL=a4.apply(null,bQ)}if(bM){bL._ambigTime=true;bL._ambigZone=true}else{if(bO){if(bR){bL._ambigZone=true}else{if(bN){bL.utcOffset(bS)}}}}}bL._fullCalendar=true;return bL}ao.week=ao.weeks=function(bL){var bK=this._locale._fullCalendar_weekCalc;if(bL==null&&typeof bK==="function"){return bK(this)}else{if(bK==="ISO"){return aA.isoWeek.apply(this,arguments)}}return aA.week.apply(this,arguments)};ao.time=function(bL){if(!this._fullCalendar){return aA.time.apply(this,arguments)}if(bL==null){return a4.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()})}else{this._ambigTime=false;if(!a4.isDuration(bL)&&!a4.isMoment(bL)){bL=a4.duration(bL)}var bK=0;if(a4.isDuration(bL)){bK=Math.floor(bL.asDays())*24}return this.hours(bK+bL.hours()).minutes(bL.minutes()).seconds(bL.seconds()).milliseconds(bL.milliseconds())}};ao.stripTime=function(){if(!this._ambigTime){this.utc(true);this.set({hours:0,minutes:0,seconds:0,ms:0});this._ambigTime=true;this._ambigZone=true}return this};ao.hasTime=function(){return !this._ambigTime};ao.stripZone=function(){var bK;if(!this._ambigZone){bK=this._ambigTime;this.utc(true);this._ambigTime=bK||false;this._ambigZone=true}return this};ao.hasZone=function(){return !this._ambigZone};ao.local=function(bK){aA.local.call(this,this._ambigZone||bK);this._ambigTime=false;this._ambigZone=false;return this};ao.utc=function(bK){aA.utc.call(this,bK);this._ambigTime=false;this._ambigZone=false;return this};ao.utcOffset=function(bK){if(bK!=null){this._ambigTime=false;this._ambigZone=false}return aA.utcOffset.apply(this,arguments)};ao.format=function(){if(this._fullCalendar&&arguments[0]){return m(this,arguments[0])}if(this._ambigTime){return ah(this,"YYYY-MM-DD")}if(this._ambigZone){return ah(this,"YYYY-MM-DD[T]HH:mm:ss")}return aA.format.apply(this,arguments)};ao.toISOString=function(){if(this._ambigTime){return ah(this,"YYYY-MM-DD")}if(this._ambigZone){return ah(this,"YYYY-MM-DD[T]HH:mm:ss")}return aA.toISOString.apply(this,arguments)};function ah(bL,bK){return aA.format.call(bL,bK)}function m(bL,bK){return a3(bL,af(bK))}function a3(bK,bN){var bM="";var bL;for(bL=0;bL<bN.length;bL++){bM+=bo(bK,bN[bL])}return bM}var al={t:function(bK){return ah(bK,"a").charAt(0)},T:function(bK){return ah(bK,"A").charAt(0)}};function bo(bL,bK){var bM;var bN;if(typeof bK==="string"){return bK}else{if((bM=bK.token)){if(al[bM]){return al[bM](bL)}return ah(bL,bM)}else{if(bK.maybe){bN=a3(bL,bK.maybe);if(bN.match(/[1-9]/)){return bN}}}}return""}function bk(bP,bN,bK,bO,bL){var bM;bP=x.moment.parseZone(bP);bN=x.moment.parseZone(bN);bM=bP.localeData();bK=bM.longDateFormat(bK)||bK;bO=bO||" - ";return bD(bP,bN,af(bK),bO,bL)}x.formatRange=bk;function bD(bZ,bY,bR,bQ,bL){var bP=bZ.clone().stripZone();var bM=bY.clone().stripZone();var bV;var bX;var bO="";var bK;var bT="";var bW;var bU="";var bS="";var bN="";for(bX=0;bX<bR.length;bX++){bV=ak(bZ,bY,bP,bM,bR[bX]);if(bV===false){break}bO+=bV}for(bK=bR.length-1;bK>bX;bK--){bV=ak(bZ,bY,bP,bM,bR[bK]);if(bV===false){break}bT=bV+bT}for(bW=bX;bW<=bK;bW++){bU+=bo(bZ,bR[bW]);bS+=bo(bY,bR[bW])}if(bU||bS){if(bL){bN=bS+bQ+bU}else{bN=bU+bQ+bS}}return bO+bN+bT}var k={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};function ak(bQ,bO,bP,bN,bK){var bL;var bM;if(typeof bK==="string"){return bK}else{if((bL=bK.token)){bM=k[bL.charAt(0)];if(bM&&bP.isSame(bN,bM)){return ah(bQ,bL)}}}return false}var bE={};function af(bK){if(bK in bE){return bE[bK]}return(bE[bK]=s(bK))}function s(bL){var bN=[];var bK=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;var bM;while((bM=bK.exec(bL))){if(bM[1]){bN.push(bM[1])}else{if(bM[2]){bN.push({maybe:s(bM[2])})}else{if(bM[3]){bN.push({token:bM[3]})}else{if(bM[5]){bN.push(bM[5])}}}}}return bN}var aC={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};x.queryMostGranularFormatUnit=function(bK){var bP=af(bK);var bM,bL;var bN;var bO;for(bM=0;bM<bP.length;bM++){bL=bP[bM];if(bL.token){bN=aC[bL.token.charAt(0)];if(bN){if(!bO||bN.value>bO.value){bO=bN}}}}if(bO){return bO.unit}return null};x.Class=au;function au(){}au.extend=function(){var bK=arguments.length;var bM;var bL;for(bM=0;bM<bK;bM++){bL=arguments[bM];if(bM<bK-1){aT(this,bL)}}return aW(this,bL||{})};au.mixin=function(bK){aT(this,bK)};function aW(bL,bK){var bM;if(ag(bK,"constructor")){bM=bK.constructor}if(typeof bM!=="function"){bM=bK.constructor=function(){bL.apply(this,arguments)}}bM.prototype=U(bL.prototype);u(bK,bM.prototype);u(bL,bM);return bM}function aT(bL,bK){u(bK,bL.prototype)}function br(bN){var bK=bv.Deferred();var bM=bK.promise();if(typeof bN==="function"){bN(function(bO){if(br.immediate){bM._value=bO}bK.resolve(bO)},function(){bK.reject()})}if(br.immediate){var bL=bM.then;bM.then=function(bQ,bO){var bP=bM.state();if(bP==="resolved"){if(typeof bQ==="function"){return br.resolve(bQ(bM._value))}}else{if(bP==="rejected"){if(typeof bO==="function"){bO();return bM}}}return bL.call(bM,bQ,bO)}}return bM}x.Promise=br;br.immediate=true;br.resolve=function(bL){if(bL&&typeof bL.resolve==="function"){return bL.promise()}if(bL&&typeof bL.then==="function"){return bL}else{var bK=bv.Deferred().resolve(bL);var bN=bK.promise();if(br.immediate){var bM=bN.then;bN._value=bL;bN.then=function(bP,bO){if(typeof bP==="function"){return br.resolve(bP(bL))}return bM.call(bN,bP,bO)}}return bN}};br.reject=function(){return bv.Deferred().reject().promise()};br.all=function(bK){var bO=false;var bM;var bN,bL;if(br.immediate){bO=true;bM=[];for(bN=0;bN<bK.length;bN++){bL=bK[bN];if(bL&&typeof bL.state==="function"&&bL.state()==="resolved"&&("_value" in bL)){bM.push(bL._value)}else{if(bL&&typeof bL.then==="function"){bO=false;break}else{bM.push(bL)}}}}if(bO){return br.resolve(bM)}else{return bv.when.apply(bv.when,bK).then(function(){return bv.when(bv.makeArray(arguments))})}};function bj(bK){var bM=[];function bL(bN){return new br(function(bP){var bO=function(){br.resolve(bN()).then(bP).then(function(){bM.shift();if(bM.length){bM[0]()}})};bM.push(bO);if(bM.length===1){bO()}})}this.add=typeof bK==="number"?bb(bL,bK):bL;this.addQuickly=bL}x.TaskQueue=bj;var w=x.EmitterMixin={on:function(bK,bL){bv(this).on(bK,this._prepareIntercept(bL));return this},one:function(bK,bL){bv(this).one(bK,this._prepareIntercept(bL));return this},_prepareIntercept:function(bK){var bL=function(bN,bM){return bK.apply(bM.context||this,bM.args||[])};if(!bK.guid){bK.guid=bv.guid++}bL.guid=bK.guid;return bL},off:function(bK,bL){bv(this).off(bK,bL);return this},trigger:function(bL){var bK=Array.prototype.slice.call(arguments,1);bv(this).triggerHandler(bL,{args:bK});return this},triggerWith:function(bM,bL,bK){bv(this).triggerHandler(bM,{context:bL,args:bK});return this}};var am=x.ListenerMixin=(function(){var bK=0;var bL={listenerId:null,listenTo:function(bN,bM,bP){if(typeof bM==="object"){for(var bO in bM){if(bM.hasOwnProperty(bO)){this.listenTo(bN,bO,bM[bO])}}}else{if(typeof bM==="string"){bN.on(bM+"."+this.getListenerNamespace(),bv.proxy(bP,this))}}},stopListeningTo:function(bM,bN){bM.off((bN||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){if(this.listenerId==null){this.listenerId=bK++}return"_listener"+this.listenerId}};return bL})();var a7={isIgnoringMouse:false,delayUnignoreMouse:null,initMouseIgnoring:function(bK){this.delayUnignoreMouse=bb(aD(this,"unignoreMouse"),bK||1000)},tempIgnoreMouse:function(){this.isIgnoringMouse=true;this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=false}};var aX=au.extend(am,{isHidden:true,options:null,el:null,margin:10,constructor:function(bK){this.options=bK||{}},show:function(){if(this.isHidden){if(!this.el){this.render()}this.el.show();this.position();this.isHidden=false;this.trigger("show")}},hide:function(){if(!this.isHidden){this.el.hide();this.isHidden=true;this.trigger("hide")}},render:function(){var bL=this;var bK=this.options;this.el=bv('<div class="fc-popover"/>').addClass(bK.className||"").css({top:0,left:0}).append(bK.content).appendTo(bK.parentEl);this.el.on("click",".fc-close",function(){bL.hide()});if(bK.autoHide){this.listenTo(bv(document),"mousedown",this.documentMousedown)}},documentMousedown:function(bK){if(this.el&&!bv(bK.target).closest(this.el).length){this.hide()}},removeElement:function(){this.hide();if(this.el){this.el.remove();this.el=null}this.stopListeningTo(bv(document),"mousedown")},position:function(){var bU=this.options;var bQ=this.el.offsetParent().offset();var bK=this.el.outerWidth();var bS=this.el.outerHeight();var bR=bv(window);var bP=bn(this.el);var bL;var bN;var bT;var bO;var bM;bO=bU.top||0;if(bU.left!==undefined){bM=bU.left}else{if(bU.right!==undefined){bM=bU.right-bK}else{bM=0}}if(bP.is(window)||bP.is(document)){bP=bR;bL=0;bN=0}else{bT=bP.offset();bL=bT.top;bN=bT.left}bL+=bR.scrollTop();bN+=bR.scrollLeft();if(bU.viewportConstrain!==false){bO=Math.min(bO,bL+bP.outerHeight()-bS-this.margin);bO=Math.max(bO,bL+this.margin);bM=Math.min(bM,bN+bP.outerWidth()-bK-this.margin);bM=Math.max(bM,bN+this.margin)}this.el.css({top:bO-bQ.top,left:bM-bQ.left})},trigger:function(bK){if(this.options[bK]){this.options[bK].apply(this,Array.prototype.slice.call(arguments,1))}}});var aj=x.CoordCache=au.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:false,isVertical:false,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(bK){this.els=bv(bK.els);this.isHorizontal=bK.isHorizontal;this.isVertical=bK.isVertical;this.forcedOffsetParentEl=bK.offsetParent?bv(bK.offsetParent):null},build:function(){var bK=this.forcedOffsetParentEl;if(!bK&&this.els.length>0){bK=this.els.eq(0).offsetParent()}this.origin=bK?bK.offset():null;this.boundingRect=this.queryBoundingRect();if(this.isHorizontal){this.buildElHorizontals()}if(this.isVertical){this.buildElVerticals()}},clear:function(){this.origin=null;this.boundingRect=null;this.lefts=null;this.rights=null;this.tops=null;this.bottoms=null},ensureBuilt:function(){if(!this.origin){this.build()}},buildElHorizontals:function(){var bL=[];var bK=[];this.els.each(function(bM,bP){var bO=bv(bP);var bQ=bO.offset().left;var bN=bO.outerWidth();bL.push(bQ);bK.push(bQ+bN)});this.lefts=bL;this.rights=bK},buildElVerticals:function(){var bK=[];var bL=[];this.els.each(function(bN,bP){var bO=bv(bP);var bQ=bO.offset().top;var bM=bO.outerHeight();bK.push(bQ);bL.push(bQ+bM)});this.tops=bK;this.bottoms=bL},getHorizontalIndex:function(bM){this.ensureBuilt();var bO=this.lefts;var bN=this.rights;var bK=bO.length;var bL;for(bL=0;bL<bK;bL++){if(bM>=bO[bL]&&bM<bN[bL]){return bL}}},getVerticalIndex:function(bM){this.ensureBuilt();var bN=this.tops;var bO=this.bottoms;var bK=bN.length;var bL;for(bL=0;bL<bK;bL++){if(bM>=bN[bL]&&bM<bO[bL]){return bL}}},getLeftOffset:function(bK){this.ensureBuilt();return this.lefts[bK]},getLeftPosition:function(bK){this.ensureBuilt();return this.lefts[bK]-this.origin.left},getRightOffset:function(bK){this.ensureBuilt();return this.rights[bK]},getRightPosition:function(bK){this.ensureBuilt();return this.rights[bK]-this.origin.left},getWidth:function(bK){this.ensureBuilt();return this.rights[bK]-this.lefts[bK]},getTopOffset:function(bK){this.ensureBuilt();return this.tops[bK]},getTopPosition:function(bK){this.ensureBuilt();return this.tops[bK]-this.origin.top},getBottomOffset:function(bK){this.ensureBuilt();return this.bottoms[bK]},getBottomPosition:function(bK){this.ensureBuilt();return this.bottoms[bK]-this.origin.top},getHeight:function(bK){this.ensureBuilt();return this.bottoms[bK]-this.tops[bK]},queryBoundingRect:function(){var bK;if(this.els.length>0){bK=bn(this.els.eq(0));if(!bK.is(document)){return B(bK)}}return null},isPointInBounds:function(bL,bK){return this.isLeftInBounds(bL)&&this.isTopInBounds(bK)},isLeftInBounds:function(bK){return !this.boundingRect||(bK>=this.boundingRect.left&&bK<this.boundingRect.right)},isTopInBounds:function(bK){return !this.boundingRect||(bK>=this.boundingRect.top&&bK<this.boundingRect.bottom)}});var bi=x.DragListener=au.extend(am,a7,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:false,isDistanceSurpassed:false,isDelayEnded:false,isDragging:false,isTouch:false,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(bK){this.options=bK||{};this.handleTouchScrollProxy=aD(this,"handleTouchScroll");this.initMouseIgnoring(500)},startInteraction:function(bM,bL){var bK=aO(bM);if(bM.type==="mousedown"){if(this.isIgnoringMouse){return}else{if(!bF(bM)){return}else{bM.preventDefault()}}}if(!this.isInteracting){bL=bL||{};this.delay=V(bL.delay,this.options.delay,0);this.minDistance=V(bL.distance,this.options.distance,0);this.subjectEl=this.options.subjectEl;this.isInteracting=true;this.isTouch=bK;this.isDelayEnded=false;this.isDistanceSurpassed=false;this.originX=R(bM);this.originY=Q(bM);this.scrollEl=bn(bv(bM.target));this.bindHandlers();this.initAutoScroll();this.handleInteractionStart(bM);this.startDelay(bM);if(!this.minDistance){this.handleDistanceSurpassed(bM)}}},handleInteractionStart:function(bK){this.trigger("interactionStart",bK)},endInteraction:function(bK,bL){if(this.isInteracting){this.endDrag(bK);if(this.delayTimeoutId){clearTimeout(this.delayTimeoutId);this.delayTimeoutId=null}this.destroyAutoScroll();this.unbindHandlers();this.isInteracting=false;this.handleInteractionEnd(bK,bL);if(this.isTouch){this.tempIgnoreMouse()}}},handleInteractionEnd:function(bK,bL){this.trigger("interactionEnd",bK,bL||false)},bindHandlers:function(){var bL=this;var bK=1;if(this.isTouch){this.listenTo(bv(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(bM){if(bK){bK--}else{bL.endInteraction(bM,true)}}});if(!p(this.handleTouchScrollProxy)&&this.scrollEl){this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)}}else{this.listenTo(bv(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction})}this.listenTo(bv(document),{selectstart:bB,contextmenu:bB})},unbindHandlers:function(){this.stopListeningTo(bv(document));a9(this.handleTouchScrollProxy);if(this.scrollEl){this.stopListeningTo(this.scrollEl,"scroll")}},startDrag:function(bL,bK){this.startInteraction(bL,bK);if(!this.isDragging){this.isDragging=true;this.handleDragStart(bL)}},handleDragStart:function(bK){this.trigger("dragStart",bK)},handleMove:function(bN){var bM=R(bN)-this.originX;var bK=Q(bN)-this.originY;var bO=this.minDistance;var bL;if(!this.isDistanceSurpassed){bL=bM*bM+bK*bK;if(bL>=bO*bO){this.handleDistanceSurpassed(bN)}}if(this.isDragging){this.handleDrag(bM,bK,bN)}},handleDrag:function(bL,bK,bM){this.trigger("drag",bL,bK,bM);this.updateAutoScroll(bM)},endDrag:function(bK){if(this.isDragging){this.isDragging=false;this.handleDragEnd(bK)}},handleDragEnd:function(bK){this.trigger("dragEnd",bK)},startDelay:function(bK){var bL=this;if(this.delay){this.delayTimeoutId=setTimeout(function(){bL.handleDelayEnd(bK)},this.delay)}else{this.handleDelayEnd(bK)}},handleDelayEnd:function(bK){this.isDelayEnded=true;if(this.isDistanceSurpassed){this.startDrag(bK)}},handleDistanceSurpassed:function(bK){this.isDistanceSurpassed=true;if(this.isDelayEnded){this.startDrag(bK)}},handleTouchMove:function(bK){if(this.isDragging){bK.preventDefault()}this.handleMove(bK)},handleMouseMove:function(bK){this.handleMove(bK)},handleTouchScroll:function(bK){if(!this.isDragging){this.endInteraction(bK,true)}},trigger:function(bK){if(this.options[bK]){this.options[bK].apply(this,Array.prototype.slice.call(arguments,1))}if(this["_"+bK]){this["_"+bK].apply(this,Array.prototype.slice.call(arguments,1))}}});bi.mixin({isAutoScroll:false,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var bK=this.scrollEl;this.isAutoScroll=this.options.scroll&&bK&&!bK.is(window)&&!bK.is(document);if(this.isAutoScroll){this.listenTo(bK,"scroll",bb(this.handleDebouncedScroll,100))}},destroyAutoScroll:function(){this.endAutoScroll();if(this.isAutoScroll){this.stopListeningTo(this.scrollEl,"scroll")}},computeScrollBounds:function(){if(this.isAutoScroll){this.scrollBounds=an(this.scrollEl)}},updateAutoScroll:function(bQ){var bM=this.scrollSensitivity;var bK=this.scrollBounds;var bL,bN;var bR,bS;var bP=0;var bO=0;if(bK){bL=(bM-(Q(bQ)-bK.top))/bM;bN=(bM-(bK.bottom-Q(bQ)))/bM;bR=(bM-(R(bQ)-bK.left))/bM;bS=(bM-(bK.right-R(bQ)))/bM;if(bL>=0&&bL<=1){bP=bL*this.scrollSpeed*-1}else{if(bN>=0&&bN<=1){bP=bN*this.scrollSpeed}}if(bR>=0&&bR<=1){bO=bR*this.scrollSpeed*-1}else{if(bS>=0&&bS<=1){bO=bS*this.scrollSpeed}}}this.setScrollVel(bP,bO)},setScrollVel:function(bL,bK){this.scrollTopVel=bL;this.scrollLeftVel=bK;this.constrainScrollVel();if((this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId){this.scrollIntervalId=setInterval(aD(this,"scrollIntervalFunc"),this.scrollIntervalMs)}},constrainScrollVel:function(){var bK=this.scrollEl;if(this.scrollTopVel<0){if(bK.scrollTop()<=0){this.scrollTopVel=0}}else{if(this.scrollTopVel>0){if(bK.scrollTop()+bK[0].clientHeight>=bK[0].scrollHeight){this.scrollTopVel=0}}}if(this.scrollLeftVel<0){if(bK.scrollLeft()<=0){this.scrollLeftVel=0}}else{if(this.scrollLeftVel>0){if(bK.scrollLeft()+bK[0].clientWidth>=bK[0].scrollWidth){this.scrollLeftVel=0}}}},scrollIntervalFunc:function(){var bL=this.scrollEl;var bK=this.scrollIntervalMs/1000;if(this.scrollTopVel){bL.scrollTop(bL.scrollTop()+this.scrollTopVel*bK)}if(this.scrollLeftVel){bL.scrollLeft(bL.scrollLeft()+this.scrollLeftVel*bK)}this.constrainScrollVel();if(!this.scrollTopVel&&!this.scrollLeftVel){this.endAutoScroll()}},endAutoScroll:function(){if(this.scrollIntervalId){clearInterval(this.scrollIntervalId);this.scrollIntervalId=null;this.handleScrollEnd()}},handleDebouncedScroll:function(){if(!this.scrollIntervalId){this.handleScrollEnd()}},handleScrollEnd:function(){}});var av=bi.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(bL,bK){bi.call(this,bK);this.component=bL},handleInteractionStart:function(bO){var bL=this.subjectEl;var bM;var bN;var bK;this.computeCoords();if(bO){bN={left:R(bO),top:Q(bO)};bK=bN;if(bL){bM=an(bL);bK=aG(bK,bM)}this.origHit=this.queryHit(bK.left,bK.top);if(bL&&this.options.subjectCenter){if(this.origHit){bM=c(this.origHit,bM)||bM}bK=aU(bM)}this.coordAdjust=bu(bK,bN)}else{this.origHit=null;this.coordAdjust=null}bi.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits();this.computeScrollBounds()},handleDragStart:function(bK){var bL;bi.prototype.handleDragStart.apply(this,arguments);bL=this.queryHit(R(bK),Q(bK));if(bL){this.handleHitOver(bL)}},handleDrag:function(bL,bK,bM){var bN;bi.prototype.handleDrag.apply(this,arguments);bN=this.queryHit(R(bM),Q(bM));if(!bA(bN,this.hit)){if(this.hit){this.handleHitOut()}if(bN){this.handleHitOver(bN)}}},handleDragEnd:function(){this.handleHitDone();bi.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(bL){var bK=bA(bL,this.origHit);this.hit=bL;this.trigger("hitOver",this.hit,bK,this.origHit)},handleHitOut:function(){if(this.hit){this.trigger("hitOut",this.hit);this.handleHitDone();this.hit=null}},handleHitDone:function(){if(this.hit){this.trigger("hitDone",this.hit)}},handleInteractionEnd:function(){bi.prototype.handleInteractionEnd.apply(this,arguments);this.origHit=null;this.hit=null;this.component.releaseHits()},handleScrollEnd:function(){bi.prototype.handleScrollEnd.apply(this,arguments);this.computeCoords()},queryHit:function(bL,bK){if(this.coordAdjust){bL+=this.coordAdjust.left;bK+=this.coordAdjust.top}return this.component.queryHit(bL,bK)}});function bA(bL,bK){if(!bL&&!bK){return true}if(bL&&bK){return bL.component===bK.component&&aw(bL,bK)&&aw(bK,bL)}return false}function aw(bK,bL){for(var bM in bK){if(!/^(component|left|right|top|bottom)$/.test(bM)){if(bK[bM]!==bL[bM]){return false}}}return true}var ba=au.extend(am,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:false,isHidden:false,isAnimating:false,constructor:function(bK,bL){this.options=bL=bL||{};this.sourceEl=bK;this.parentEl=bL.parentEl?bv(bL.parentEl):bK.parent()},start:function(bK){if(!this.isFollowing){this.isFollowing=true;this.y0=Q(bK);this.x0=R(bK);this.topDelta=0;this.leftDelta=0;if(!this.isHidden){this.updatePosition()}if(aO(bK)){this.listenTo(bv(document),"touchmove",this.handleMove)}else{this.listenTo(bv(document),"mousemove",this.handleMove)}}},stop:function(bL,bO){var bN=this;var bM=this.options.revertDuration;function bK(){bN.isAnimating=false;bN.removeElement();bN.top0=bN.left0=null;if(bO){bO()}}if(this.isFollowing&&!this.isAnimating){this.isFollowing=false;this.stopListeningTo(bv(document));if(bL&&bM&&!this.isHidden){this.isAnimating=true;this.el.animate({top:this.top0,left:this.left0},{duration:bM,complete:bK})}else{bK()}}},getEl:function(){var bK=this.el;if(!bK){bK=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex});bK.addClass("fc-unselectable");bK.appendTo(this.parentEl)}return bK},removeElement:function(){if(this.el){this.el.remove();this.el=null}},updatePosition:function(){var bL;var bK;this.getEl();if(this.top0===null){bL=this.sourceEl.offset();bK=this.el.offsetParent().offset();this.top0=bL.top-bK.top;this.left0=bL.left-bK.left}this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(bK){this.topDelta=Q(bK)-this.y0;this.leftDelta=R(bK)-this.x0;if(!this.isHidden){this.updatePosition()}},hide:function(){if(!this.isHidden){this.isHidden=true;if(this.el){this.el.hide()}}},show:function(){if(this.isHidden){this.isHidden=false;this.updatePosition();this.getEl().show()}}});var aE=x.Grid=au.extend(am,a7,{hasDayInteractions:true,view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(bK){this.view=bK;this.isRTL=bK.opt("isRTL");this.elsByFill={};this.dayDragListener=this.buildDayDragListener();this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return true},computeDisplayEventEnd:function(){return true},setRange:function(bK){this.start=bK.start.clone();this.end=bK.end.clone();this.rangeUpdated();this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var bL=this.view;var bK;var bM;this.eventTimeFormat=bL.opt("eventTimeFormat")||bL.opt("timeFormat")||this.computeEventTimeFormat();bK=bL.opt("displayEventTime");if(bK==null){bK=this.computeDisplayEventTime()}bM=bL.opt("displayEventEnd");if(bM==null){bM=this.computeDisplayEventEnd()}this.displayEventTime=bK;this.displayEventEnd=bM},spanToSegs:function(bK){},diffDates:function(bL,bK){if(this.largeUnit){return e(bL,bK,this.largeUnit)}else{return g(bL,bK)}},prepareHits:function(){},releaseHits:function(){},queryHit:function(bL,bK){},getHitSpan:function(bK){},getHitEl:function(bK){},setElement:function(bK){this.el=bK;if(this.hasDayInteractions){A(bK);this.bindDayHandler("touchstart",this.dayTouchStart);this.bindDayHandler("mousedown",this.dayMousedown)}this.bindSegHandlers();this.bindGlobalHandlers()},bindDayHandler:function(bK,bL){var bM=this;this.el.on(bK,function(bN){if(!bv(bN.target).is(bM.segSelector+","+bM.segSelector+" *,.fc-more,a[data-goto]")){return bL.call(bM,bN)}})},removeElement:function(){this.unbindGlobalHandlers();this.clearDragListeners();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(bv(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(bv(document))},dayMousedown:function(bK){if(!this.isIgnoringMouse){this.dayDragListener.startInteraction(bK,{})}},dayTouchStart:function(bL){var bK=this.view;var bM=bK.opt("selectLongPressDelay");if(bK.isSelected||bK.selectedEvent){this.tempIgnoreMouse()}if(bM==null){bM=bK.opt("longPressDelay")}this.dayDragListener.startInteraction(bL,{delay:bM})},buildDayDragListener:function(){var bP=this;var bL=this.view;var bK=bL.opt("selectable");var bM;var bO;var bN=new av(this,{scroll:bL.opt("dragScroll"),interactionStart:function(){bM=bN.origHit;bO=null},dragStart:function(){bL.unselect()},hitOver:function(bR,bQ,bS){if(bS){if(!bQ){bM=null}if(bK){bO=bP.computeSelection(bP.getHitSpan(bS),bP.getHitSpan(bR));if(bO){bP.renderSelection(bO)}else{if(bO===false){bw()}}}}},hitOut:function(){bM=null;bO=null;bP.unrenderSelection()},hitDone:function(){ap()},interactionEnd:function(bQ,bR){if(!bR){if(bM&&!bP.isIgnoringMouse){bL.triggerDayClick(bP.getHitSpan(bM),bP.getHitEl(bM),bQ)}if(bO){bL.reportSelection(bO,bQ)}}}});return bN},clearDragListeners:function(){this.dayDragListener.endInteraction();if(this.segDragListener){this.segDragListener.endInteraction()}if(this.segResizeListener){this.segResizeListener.endInteraction()}if(this.externalDragListener){this.externalDragListener.endInteraction()}},renderEventLocationHelper:function(bL,bK){var bM=this.fabricateHelperEvent(bL,bK);return this.renderHelper(bM,bK)},fabricateHelperEvent:function(bL,bK){var bM=bK?U(bK.event):{};bM.start=bL.start.clone();bM.end=bL.end?bL.end.clone():null;bM.allDay=null;this.view.calendar.normalizeEventDates(bM);bM.className=(bM.className||[]).concat("fc-helper");if(!bK){bM.editable=false}return bM},renderHelper:function(bL,bK){},unrenderHelper:function(){},renderSelection:function(bK){this.renderHighlight(bK)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(bM,bK){var bL=this.computeSelectionSpan(bM,bK);if(bL&&!this.view.calendar.isSelectionSpanAllowed(bL)){return false}return bL},computeSelectionSpan:function(bL,bK){var bM=[bL.start,bL.end,bK.start,bK.end];bM.sort(X);return{start:bM[0].clone(),end:bM[3].clone()}},renderHighlight:function(bK){this.renderFill("highlight",this.spanToSegs(bK))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(bK){},unrenderNowIndicator:function(){},renderFill:function(bL,bK){},unrenderFill:function(bL){var bK=this.elsByFill[bL];if(bK){bK.remove();delete this.elsByFill[bL]}},renderFillSegEls:function(bP,bL){var bQ=this;var bK=this[bP+"SegEl"];var bO="";var bN=[];var bM;if(bL.length){for(bM=0;bM<bL.length;bM++){bO+=this.fillSegHtml(bP,bL[bM])}bv(bO).each(function(bS,bU){var bR=bL[bS];var bT=bv(bU);if(bK){bT=bK.call(bQ,bR,bT)}if(bT){bT=bv(bT);if(bT.is(bQ.fillSegTag)){bR.el=bT;bN.push(bR)}}})}return bN},fillSegTag:"div",fillSegHtml:function(bO,bK){var bP=this[bO+"SegClasses"];var bL=this[bO+"SegCss"];var bN=bP?bP.call(this,bK):[];var bM=K(bL?bL.call(this,bK):{});return"<"+this.fillSegTag+(bN.length?' class="'+bN.join(" ")+'"':"")+(bM?' style="'+bM+'"':"")+" />"},getDayClasses:function(bM,bO){var bK=this.view;var bL=bK.calendar.getNow();var bN=["fc-"+aN[bM.day()]];if(bK.intervalDuration.as("months")==1&&bM.month()!=bK.intervalStart.month()){bN.push("fc-other-month")}if(bM.isSame(bL,"day")){bN.push("fc-today");if(bO!==true){bN.push(bK.highlightStateClass)}}else{if(bM<bL){bN.push("fc-past")}else{bN.push("fc-future")}}return bN}});aE.mixin({segSelector:".fc-event-container > *",mousedOverSeg:null,isDraggingSeg:false,isResizingSeg:false,isDraggingExternal:false,segs:null,renderEvents:function(bN){var bM=[];var bK=[];var bL;for(bL=0;bL<bN.length;bL++){(W(bN[bL])?bM:bK).push(bN[bL])}this.segs=[].concat(this.renderBgEvents(bM),this.renderFgEvents(bK))},renderBgEvents:function(bL){var bK=this.eventsToSegs(bL);return this.renderBgSegs(bK)||bK},renderFgEvents:function(bL){var bK=this.eventsToSegs(bL);return this.renderFgSegs(bK)||bK},unrenderEvents:function(){this.handleSegMouseout();this.clearDragListeners();this.unrenderFgSegs();this.unrenderBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(bK){},unrenderFgSegs:function(){},renderFgSegEls:function(bM,bL){var bK=this.view;var bP="";var bO=[];var bN;if(bM.length){for(bN=0;bN<bM.length;bN++){bP+=this.fgSegHtml(bM[bN],bL)}bv(bP).each(function(bR,bT){var bQ=bM[bR];var bS=bK.resolveEventEl(bQ.event,bv(bT));if(bS){bS.data("fc-seg",bQ);bQ.el=bS;bO.push(bQ)}})}return bO},fgSegHtml:function(bL,bK){},renderBgSegs:function(bK){return this.renderFill("bgEvent",bK)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(bK,bL){return this.view.resolveEventEl(bK.event,bL)},bgEventSegClasses:function(bK){var bL=bK.event;var bM=bL.source||{};return["fc-bgevent"].concat(bL.className,bM.className||[])},bgEventSegCss:function(bK){return{"background-color":this.getSegSkinCss(bK)["background-color"]}},businessHoursSegClasses:function(bK){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(bL,bK){return this.eventsToSegs(this.buildBusinessHourEvents(bL,bK))},buildBusinessHourEvents:function(bL,bK){var bN=this.view.calendar;var bM;if(bK==null){bK=bN.options.businessHours}bM=bN.computeBusinessHourEvents(bL,bK);if(!bM.length&&bK){bM=[bv.extend({},bJ,{start:this.view.end,end:this.view.end,dow:null})]}return bM},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(bK){this.bindSegHandlerToEl(bK,"touchstart",this.handleSegTouchStart);this.bindSegHandlerToEl(bK,"touchend",this.handleSegTouchEnd);this.bindSegHandlerToEl(bK,"mouseenter",this.handleSegMouseover);this.bindSegHandlerToEl(bK,"mouseleave",this.handleSegMouseout);this.bindSegHandlerToEl(bK,"mousedown",this.handleSegMousedown);this.bindSegHandlerToEl(bK,"click",this.handleSegClick)},bindSegHandlerToEl:function(bM,bK,bL){var bN=this;bM.on(bK,this.segSelector,function(bP){var bO=bv(this).data("fc-seg");if(bO&&!bN.isDraggingSeg&&!bN.isResizingSeg){return bL.call(bN,bO,bP)}})},handleSegClick:function(bK,bM){var bL=this.view.publiclyTrigger("eventClick",bK.el[0],bK.event,bM);if(bL===false){bM.preventDefault()}},handleSegMouseover:function(bK,bL){if(!this.isIgnoringMouse&&!this.mousedOverSeg){this.mousedOverSeg=bK;if(this.view.isEventResizable(bK.event)){bK.el.addClass("fc-allow-mouse-resize")}this.view.publiclyTrigger("eventMouseover",bK.el[0],bK.event,bL)}},handleSegMouseout:function(bK,bL){bL=bL||{};if(this.mousedOverSeg){bK=bK||this.mousedOverSeg;this.mousedOverSeg=null;if(this.view.isEventResizable(bK.event)){bK.el.removeClass("fc-allow-mouse-resize")}this.view.publiclyTrigger("eventMouseout",bK.el[0],bK.event,bL)}},handleSegMousedown:function(bK,bL){var bM=this.startSegResize(bK,bL,{distance:5});if(!bM&&this.view.isEventDraggable(bK.event)){this.buildSegDragListener(bK).startInteraction(bL,{distance:5})}},handleSegTouchStart:function(bR,bS){var bT=this.view;var bM=bR.event;var bP=bT.isEventSelected(bM);var bL=bT.isEventDraggable(bM);var bO=bT.isEventResizable(bM);var bQ=false;var bK;var bN;if(bP&&bO){bQ=this.startSegResize(bR,bS)}if(!bQ&&(bL||bO)){bN=bT.opt("eventLongPressDelay");if(bN==null){bN=bT.opt("longPressDelay")}bK=bL?this.buildSegDragListener(bR):this.buildSegSelectListener(bR);bK.startInteraction(bS,{delay:bP?0:bN})}this.tempIgnoreMouse()},handleSegTouchEnd:function(bK,bL){this.tempIgnoreMouse()},startSegResize:function(bK,bM,bL){if(bv(bM.target).is(".fc-resizer")){this.buildSegResizeListener(bK,bv(bM.target).is(".fc-start-resizer")).startInteraction(bM,bL);return true}return false},buildSegDragListener:function(bO){var bR=this;var bT=this.view;var bP=bT.calendar;var bN=bO.el;var bM=bO.event;var bS;var bL;var bQ;if(this.segDragListener){return this.segDragListener}var bK=this.segDragListener=new av(bT,{scroll:bT.opt("dragScroll"),subjectEl:bN,subjectCenter:true,interactionStart:function(bU){bO.component=bR;bS=false;bL=new ba(bO.el,{additionalClass:"fc-dragging",parentEl:bT.el,opacity:bK.isTouch?null:bT.opt("dragOpacity"),revertDuration:bT.opt("dragRevertDuration"),zIndex:2});bL.hide();bL.start(bU)},dragStart:function(bU){if(bK.isTouch&&!bT.isEventSelected(bM)){bT.selectEvent(bM)}bS=true;bR.handleSegMouseout(bO,bU);bR.segDragStart(bO,bU);bT.hideEvent(bM)},hitOver:function(bV,bU,bX){var bW;if(bO.hit){bX=bO.hit}bQ=bR.computeEventDrop(bX.component.getHitSpan(bX),bV.component.getHitSpan(bV),bM);if(bQ&&!bP.isEventSpanAllowed(bR.eventToSpan(bQ),bM)){bw();bQ=null}if(bQ&&(bW=bT.renderDrag(bQ,bO))){bW.addClass("fc-dragging");if(!bK.isTouch){bR.applyDragOpacity(bW)}bL.hide()}else{bL.show()}if(bU){bQ=null}},hitOut:function(){bT.unrenderDrag();bL.show();bQ=null},hitDone:function(){ap()},interactionEnd:function(bU){delete bO.component;bL.stop(!bQ,function(){if(bS){bT.unrenderDrag();bR.segDragStop(bO,bU)}if(bQ){bT.reportEventDrop(bM,bQ,bR.largeUnit,bN,bU)}else{bT.showEvent(bM)}});bR.segDragListener=null}});return bK},buildSegSelectListener:function(bL){var bO=this;var bK=this.view;var bN=bL.event;if(this.segDragListener){return this.segDragListener}var bM=this.segDragListener=new bi({dragStart:function(bP){if(bM.isTouch&&!bK.isEventSelected(bN)){bK.selectEvent(bN)}},interactionEnd:function(bP){bO.segDragListener=null}});return bM},segDragStart:function(bK,bL){this.isDraggingSeg=true;this.view.publiclyTrigger("eventDragStart",bK.el[0],bK.event,bL,{})},segDragStop:function(bK,bL){this.isDraggingSeg=false;this.view.publiclyTrigger("eventDragStop",bK.el[0],bK.event,bL,{})},computeEventDrop:function(bM,bR,bO){var bP=this.view.calendar;var bL=bM.start;var bK=bR.start;var bQ;var bN;if(bL.hasTime()===bK.hasTime()){bQ=this.diffDates(bK,bL);if(bO.allDay&&ac(bQ)){bN={start:bO.start.clone(),end:bP.getEventEnd(bO),allDay:false};bP.normalizeEventTimes(bN)}else{bN=S(bO)}bN.start.add(bQ);if(bN.end){bN.end.add(bQ)}}else{bN={start:bK.clone(),end:null,allDay:!bK.hasTime()}}return bN},applyDragOpacity:function(bL){var bK=this.view.opt("dragOpacity");if(bK!=null){bL.css("opacity",bK)}},externalDragStart:function(bN,bO){var bK=this.view;var bM;var bL;if(bK.opt("droppable")){bM=bv((bO?bO.item:null)||bN.target);bL=bK.opt("dropAccept");if(bv.isFunction(bL)?bL.call(bM[0],bM):bM.is(bL)){if(!this.isDraggingExternal){this.listenToExternalDrag(bM,bN,bO)}}}},listenToExternalDrag:function(bL,bN,bO){var bR=this;var bQ=this.view.calendar;var bP=N(bL);var bM;var bK=bR.externalDragListener=new av(this,{interactionStart:function(){bR.isDraggingExternal=true},hitOver:function(bS){bM=bR.computeExternalDrop(bS.component.getHitSpan(bS),bP);if(bM&&!bQ.isExternalSpanAllowed(bR.eventToSpan(bM),bM,bP.eventProps)){bw();bM=null}if(bM){bR.renderDrag(bM)}},hitOut:function(){bM=null},hitDone:function(){ap();bR.unrenderDrag()},interactionEnd:function(bS){if(bM){bR.view.reportExternalDrop(bP,bM,bL,bS,bO)}bR.isDraggingExternal=false;bR.externalDragListener=null}});bK.startDrag(bN)},computeExternalDrop:function(bK,bN){var bM=this.view.calendar;var bL={start:bM.applyTimezone(bK.start),end:null};if(bN.startTime&&!bL.start.hasTime()){bL.start.time(bN.startTime)}if(bN.duration){bL.end=bL.start.clone().add(bN.duration)}return bL},renderDrag:function(bL,bK){},unrenderDrag:function(){},buildSegResizeListener:function(bO,bL){var bR=this;var bT=this.view;var bP=bT.calendar;var bN=bO.el;var bM=bO.event;var bQ=bP.getEventEnd(bM);var bS;var bU;var bK=this.segResizeListener=new av(this,{scroll:bT.opt("dragScroll"),subjectEl:bN,interactionStart:function(){bS=false},dragStart:function(bV){bS=true;bR.handleSegMouseout(bO,bV);bR.segResizeStart(bO,bV)},hitOver:function(bX,bV,bZ){var bW=bR.getHitSpan(bZ);var bY=bR.getHitSpan(bX);bU=bL?bR.computeEventStartResize(bW,bY,bM):bR.computeEventEndResize(bW,bY,bM);if(bU){if(!bP.isEventSpanAllowed(bR.eventToSpan(bU),bM)){bw();bU=null}else{if(bU.start.isSame(bM.start.clone().stripZone())&&bU.end.isSame(bQ.clone().stripZone())){bU=null}}}if(bU){bT.hideEvent(bM);bR.renderEventResize(bU,bO)}},hitOut:function(){bU=null;bT.showEvent(bM)},hitDone:function(){bR.unrenderEventResize();ap()},interactionEnd:function(bV){if(bS){bR.segResizeStop(bO,bV)}if(bU){bT.reportEventResize(bM,bU,bR.largeUnit,bN,bV)}else{bT.showEvent(bM)}bR.segResizeListener=null}});return bK},segResizeStart:function(bK,bL){this.isResizingSeg=true;this.view.publiclyTrigger("eventResizeStart",bK.el[0],bK.event,bL,{})},segResizeStop:function(bK,bL){this.isResizingSeg=false;this.view.publiclyTrigger("eventResizeStop",bK.el[0],bK.event,bL,{})},computeEventStartResize:function(bK,bM,bL){return this.computeEventResize("start",bK,bM,bL)},computeEventEndResize:function(bK,bM,bL){return this.computeEventResize("end",bK,bM,bL)},computeEventResize:function(bL,bK,bR,bM){var bO=this.view.calendar;var bQ=this.diffDates(bR[bL],bK[bL]);var bP;var bN;bP={start:bM.start.clone(),end:bO.getEventEnd(bM),allDay:bM.allDay};if(bP.allDay&&ac(bQ)){bP.allDay=false;bO.normalizeEventTimes(bP)}bP[bL].add(bQ);if(!bP.start.isBefore(bP.end)){bN=this.minResizeDuration||(bM.allDay?bO.defaultAllDayEventDuration:bO.defaultTimedEventDuration);if(bL=="start"){bP.start=bP.end.clone().subtract(bN)}else{bP.end=bP.start.clone().add(bN)}}return bP},renderEventResize:function(bL,bK){},unrenderEventResize:function(){},getEventTimeText:function(bL,bK,bM){if(bK==null){bK=this.eventTimeFormat}if(bM==null){bM=this.displayEventEnd}if(this.displayEventTime&&bL.start.hasTime()){if(bM&&bL.end){return this.view.formatRange(bL,bK)}else{return bL.start.format(bK)}}return""},getSegClasses:function(bL,bN,bO){var bK=this.view;var bM=["fc-event",bL.isStart?"fc-start":"fc-not-start",bL.isEnd?"fc-end":"fc-not-end"].concat(this.getSegCustomClasses(bL));if(bN){bM.push("fc-draggable")}if(bO){bM.push("fc-resizable")}if(bK.isEventSelected(bL.event)){bM.push("fc-selected")}return bM},getSegCustomClasses:function(bK){var bL=bK.event;return[].concat(bL.className,bL.source?bL.source.className:[])},getSegSkinCss:function(bK){return{"background-color":this.getSegBackgroundColor(bK),"border-color":this.getSegBorderColor(bK),color:this.getSegTextColor(bK)}},getSegBackgroundColor:function(bK){return bK.event.backgroundColor||bK.event.color||this.getSegDefaultBackgroundColor(bK)},getSegDefaultBackgroundColor:function(bK){var bL=bK.event.source||{};return bL.backgroundColor||bL.color||this.view.opt("eventBackgroundColor")||this.view.opt("eventColor")},getSegBorderColor:function(bK){return bK.event.borderColor||bK.event.color||this.getSegDefaultBorderColor(bK)},getSegDefaultBorderColor:function(bK){var bL=bK.event.source||{};return bL.borderColor||bL.color||this.view.opt("eventBorderColor")||this.view.opt("eventColor")},getSegTextColor:function(bK){return bK.event.textColor||this.getSegDefaultTextColor(bK)},getSegDefaultTextColor:function(bK){var bL=bK.event.source||{};return bL.textColor||this.view.opt("eventTextColor")},eventToSegs:function(bK){return this.eventsToSegs([bK])},eventToSpan:function(bK){return this.eventToSpans(bK)[0]},eventToSpans:function(bL){var bK=this.eventToRange(bL);return this.eventRangeToSpans(bK,bL)},eventsToSegs:function(bL,bO){var bN=this;var bM=aS(bL);var bK=[];bv.each(bM,function(bS,bR){var bP=[];var bQ;for(bQ=0;bQ<bR.length;bQ++){bP.push(bN.eventToRange(bR[bQ]))}if(be(bR[0])){bP=bN.invertRanges(bP);for(bQ=0;bQ<bP.length;bQ++){bK.push.apply(bK,bN.eventRangeToSegs(bP[bQ],bR[0],bO))}}else{for(bQ=0;bQ<bP.length;bQ++){bK.push.apply(bK,bN.eventRangeToSegs(bP[bQ],bR[bQ],bO))}}});return bK},eventToRange:function(bL){var bM=this.view.calendar;var bN=bL.start.clone().stripZone();var bK=(bL.end?bL.end.clone():bM.getDefaultEventEnd(bL.allDay!=null?bL.allDay:!bL.start.hasTime(),bL.start)).stripZone();bM.localizeMoment(bN);bM.localizeMoment(bK);return{start:bN,end:bK}},eventRangeToSegs:function(bL,bO,bP){var bN=this.eventRangeToSpans(bL,bO);var bK=[];var bM;for(bM=0;bM<bN.length;bM++){bK.push.apply(bK,this.eventSpanToSegs(bN[bM],bO,bP))}return bK},eventRangeToSpans:function(bK,bL){return[bv.extend({},bK)]},eventSpanToSegs:function(bN,bO,bP){var bL=bP?bP(bN):this.spanToSegs(bN);var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];bK.event=bO;bK.eventStartMS=+bN.start;bK.eventDurationMS=bN.end-bN.start}return bL},invertRanges:function(bL){var bK=this.view;var bR=bK.start.clone();var bO=bK.end.clone();var bP=[];var bQ=bR;var bN,bM;bL.sort(h);for(bN=0;bN<bL.length;bN++){bM=bL[bN];if(bM.start>bQ){bP.push({start:bQ,end:bM.start})}bQ=bM.end}if(bQ<bO){bP.push({start:bQ,end:bO})}return bP},sortEventSegs:function(bK){bK.sort(aD(this,"compareEventSegs"))},compareEventSegs:function(bL,bK){return bL.eventStartMS-bK.eventStartMS||bK.eventDurationMS-bL.eventDurationMS||bK.event.allDay-bL.event.allDay||bd(bL.event,bK.event,this.view.eventOrderSpecs)}});function S(bK){return{start:bK.start.clone(),end:bK.end?bK.end.clone():null,allDay:bK.allDay}}x.pluckEventDateProps=S;function W(bL){var bK=bc(bL);return bK==="background"||bK==="inverse-background"}x.isBgEvent=W;function be(bK){return bc(bK)==="inverse-background"}function bc(bK){return V((bK.source||{}).rendering,bK.rendering)}function aS(bL){var bM={};var bK,bN;for(bK=0;bK<bL.length;bK++){bN=bL[bK];(bM[bN._id]||(bM[bN._id]=[])).push(bN)}return bM}function h(bL,bK){return bL.start-bK.start}x.dataAttrPrefix="";function N(bM){var bO=x.dataAttrPrefix;var bN;var bL;var bP;var bK;if(bO){bO+="-"}bN=bM.data(bO+"event")||null;if(bN){if(typeof bN==="object"){bN=bv.extend({},bN)}else{bN={}}bL=bN.start;if(bL==null){bL=bN.time}bP=bN.duration;bK=bN.stick;delete bN.start;delete bN.time;delete bN.duration;delete bN.stick}if(bL==null){bL=bM.data(bO+"start")}if(bL==null){bL=bM.data(bO+"time")}if(bP==null){bP=bM.data(bO+"duration")}if(bK==null){bK=bM.data(bO+"stick")}bL=bL!=null?a4.duration(bL):null;bP=bP!=null?a4.duration(bP):null;bK=Boolean(bK);return{eventProps:bN,startTime:bL,duration:bP,stick:bK}}var aV=x.DayTableMixin={breakOnWeeks:false,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){var bL=this.view;var bO=this.start.clone();var bP=-1;var bK=[];var bR=[];var bN;var bM;var bQ;while(bO.isBefore(this.end)){if(bL.isHiddenDay(bO)){bK.push(bP+0.5)}else{bP++;bK.push(bP);bR.push(bO.clone())}bO.add(1,"days")}if(this.breakOnWeeks){bM=bR[0].day();for(bN=1;bN<bR.length;bN++){if(bR[bN].day()==bM){break}}bQ=Math.ceil(bR.length/bN)}else{bQ=1;bN=bR.length}this.dayDates=bR;this.dayIndices=bK;this.daysPerRow=bN;this.rowCnt=bQ;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(bL,bK){return this.dayDates[this.getCellDayIndex(bL,bK)].clone()},getCellRange:function(bM,bL){var bN=this.getCellDate(bM,bL);var bK=bN.clone().add(1,"days");return{start:bN,end:bK}},getCellDayIndex:function(bL,bK){return bL*this.daysPerRow+this.getColDayIndex(bK)},getColDayIndex:function(bK){if(this.isRTL){return this.colCnt-1-bK}else{return bK}},getDateDayIndex:function(bM){var bK=this.dayIndices;var bL=bM.diff(this.start,"days");if(bL<0){return bK[0]-1}else{if(bL>=bK.length){return bK[bK.length-1]+1}else{return bK[bL]}}},computeColHeadFormat:function(){if(this.rowCnt>1||this.colCnt>10){return"ddd"}else{if(this.colCnt>1){return this.view.opt("dayOfMonthFormat")}else{return"dddd"}}},sliceRangeByRow:function(bN){var bS=this.daysPerRow;var bM=this.view.computeDayRange(bN);var bL=this.getDateDayIndex(bM.start);var bP=this.getDateDayIndex(bM.end.clone().subtract(1,"days"));var bK=[];var bU;var bQ,bR;var bT,bO;for(bU=0;bU<this.rowCnt;bU++){bQ=bU*bS;bR=bQ+bS-1;bT=Math.max(bL,bQ);bO=Math.min(bP,bR);bT=Math.ceil(bT);bO=Math.floor(bO);if(bT<=bO){bK.push({row:bU,firstRowDayIndex:bT-bQ,lastRowDayIndex:bO-bQ,isStart:bT===bL,isEnd:bO===bP})}}return bK},sliceRangeByDay:function(bO){var bT=this.daysPerRow;var bN=this.view.computeDayRange(bO);var bL=this.getDateDayIndex(bN.start);var bQ=this.getDateDayIndex(bN.end.clone().subtract(1,"days"));var bK=[];var bV;var bR,bS;var bM;var bU,bP;for(bV=0;bV<this.rowCnt;bV++){bR=bV*bT;bS=bR+bT-1;for(bM=bR;bM<=bS;bM++){bU=Math.max(bL,bM);bP=Math.min(bQ,bM);bU=Math.ceil(bU);bP=Math.floor(bP);if(bU<=bP){bK.push({row:bV,firstRowDayIndex:bU-bR,lastRowDayIndex:bP-bR,isStart:bU===bL,isEnd:bP===bQ})}}}return bK},renderHeadHtml:function(){var bK=this.view;return'<div class="fc-row '+bK.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var bM=[];var bL,bK;for(bL=0;bL<this.colCnt;bL++){bK=this.getCellDate(0,bL);bM.push(this.renderHeadDateCellHtml(bK))}return bM.join("")},renderHeadDateCellHtml:function(bM,bO,bK){var bL=this.view;var bN=["fc-day-header",bL.widgetHeaderClass];if(this.rowCnt===1){bN=bN.concat(this.getDayClasses(bM,true))}else{bN.push("fc-"+aN[bM.day()])}return'<th class="'+bN.join(" ")+'"'+(this.rowCnt===1?' data-date="'+bM.format("YYYY-MM-DD")+'"':"")+(bO>1?' colspan="'+bO+'"':"")+(bK?" "+bK:"")+">"+bL.buildGotoAnchorHtml({date:bM,forceOff:this.rowCnt>1||this.colCnt===1},aJ(bM.format(this.colHeadFormat)))+"</th>"},renderBgTrHtml:function(bK){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(bK))+this.renderBgCellsHtml(bK)+(this.isRTL?this.renderBgIntroHtml(bK):"")+"</tr>"},renderBgIntroHtml:function(bK){return this.renderIntroHtml()},renderBgCellsHtml:function(bN){var bM=[];var bL,bK;for(bL=0;bL<this.colCnt;bL++){bK=this.getCellDate(bN,bL);bM.push(this.renderBgCellHtml(bK))}return bM.join("")},renderBgCellHtml:function(bM,bK){var bL=this.view;var bN=this.getDayClasses(bM);bN.unshift("fc-day",bL.widgetContentClass);return'<td class="'+bN.join(" ")+'" data-date="'+bM.format("YYYY-MM-DD")+'"'+(bK?" "+bK:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(bL){var bK=this.renderIntroHtml();if(bK){if(this.isRTL){bL.append(bK)}else{bL.prepend(bK)}}}};var by=x.DayGrid=aE.extend(aV,{numbersVisible:false,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(bL){var bK=this.view;var bQ=this.rowCnt;var bN=this.colCnt;var bO="";var bP;var bM;for(bP=0;bP<bQ;bP++){bO+=this.renderDayRowHtml(bP,bL)}this.el.html(bO);this.rowEls=this.el.find(".fc-row");this.cellEls=this.el.find(".fc-day");this.rowCoordCache=new aj({els:this.rowEls,isVertical:true});this.colCoordCache=new aj({els:this.cellEls.slice(0,this.colCnt),isHorizontal:true});for(bP=0;bP<bQ;bP++){for(bM=0;bM<bN;bM++){bK.publiclyTrigger("dayRender",null,this.getCellDate(bP,bM),this.getCellEl(bP,bM))}}},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var bK=this.buildBusinessHourSegs(true);this.renderFill("businessHours",bK,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(bN,bL){var bK=this.view;var bM=["fc-row","fc-week",bK.widgetContentClass];if(bL){bM.push("fc-rigid")}return'<div class="'+bM.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(bN)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(bN)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(bK){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(bK))+this.renderNumberCellsHtml(bK)+(this.isRTL?this.renderNumberIntroHtml(bK):"")+"</tr>"},renderNumberIntroHtml:function(bK){return this.renderIntroHtml()},renderNumberCellsHtml:function(bN){var bM=[];var bL,bK;for(bL=0;bL<this.colCnt;bL++){bK=this.getCellDate(bN,bL);bM.push(this.renderNumberCellHtml(bK))}return bM.join("")},renderNumberCellHtml:function(bK){var bN="";var bM;var bL;if(!this.view.dayNumbersVisible&&!this.view.cellWeekNumbersVisible){return"<td/>"}bM=this.getDayClasses(bK);bM.unshift("fc-day-top");if(this.view.cellWeekNumbersVisible){if(bK._locale._fullCalendar_weekCalc==="ISO"){bL=1}else{bL=bK._locale.firstDayOfWeek()}}bN+='<td class="'+bM.join(" ")+'" data-date="'+bK.format()+'">';if(this.view.cellWeekNumbersVisible&&(bK.day()==bL)){bN+=this.view.buildGotoAnchorHtml({date:bK,type:"week"},{"class":"fc-week-number"},bK.format("w"))}if(this.view.dayNumbersVisible){bN+=this.view.buildGotoAnchorHtml(bK,{"class":"fc-day-number"},bK.date())}bN+="</td>";return bN},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return this.colCnt==1},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(bN){var bL=this.sliceRangeByRow(bN);var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];if(this.isRTL){bK.leftCol=this.daysPerRow-1-bK.lastRowDayIndex;bK.rightCol=this.daysPerRow-1-bK.firstRowDayIndex}else{bK.leftCol=bK.firstRowDayIndex;bK.rightCol=bK.lastRowDayIndex}}return bL},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();this.rowCoordCache.clear()},queryHit:function(bM,bL){if(this.colCoordCache.isLeftInBounds(bM)&&this.rowCoordCache.isTopInBounds(bL)){var bK=this.colCoordCache.getHorizontalIndex(bM);var bN=this.rowCoordCache.getVerticalIndex(bL);if(bN!=null&&bK!=null){return this.getCellHit(bN,bK)}}},getHitSpan:function(bK){return this.getCellRange(bK.row,bK.col)},getHitEl:function(bK){return this.getCellEl(bK.row,bK.col)},getCellHit:function(bL,bK){return{row:bL,col:bK,component:this,left:this.colCoordCache.getLeftOffset(bK),right:this.colCoordCache.getRightOffset(bK),top:this.rowCoordCache.getTopOffset(bL),bottom:this.rowCoordCache.getBottomOffset(bL)}},getCellEl:function(bL,bK){return this.cellEls.eq(bL*this.colCnt+bK)},renderDrag:function(bL,bK){this.renderHighlight(this.eventToSpan(bL));if(bK&&bK.component!==this){return this.renderEventLocationHelper(bL,bK)}},unrenderDrag:function(){this.unrenderHighlight();this.unrenderHelper()},renderEventResize:function(bL,bK){this.renderHighlight(this.eventToSpan(bL));return this.renderEventLocationHelper(bL,bK)},unrenderEventResize:function(){this.unrenderHighlight();this.unrenderHelper()},renderHelper:function(bO,bM){var bK=[];var bL=this.eventToSegs(bO);var bN;bL=this.renderFgSegEls(bL);bN=this.renderSegRows(bL);this.rowEls.each(function(bT,bR){var bQ=bv(bR);var bS=bv('<div class="fc-helper-skeleton"><table/></div>');var bP;if(bM&&bM.row===bT){bP=bM.el.position().top}else{bP=bQ.find(".fc-content-skeleton tbody").position().top}bS.css("top",bP).find("table").append(bN[bT].tbodyEl);bQ.append(bS);bK.push(bS[0])});return(this.helperEls=bv(bK))},unrenderHelper:function(){if(this.helperEls){this.helperEls.remove();this.helperEls=null}},fillSegTag:"td",renderFill:function(bP,bL,bO){var bM=[];var bN,bK;var bQ;bL=this.renderFillSegEls(bP,bL);for(bN=0;bN<bL.length;bN++){bK=bL[bN];bQ=this.renderFillRow(bP,bK,bO);this.rowEls.eq(bK.row).append(bQ);bM.push(bQ[0])}this.elsByFill[bP]=bv(bM);return bL},renderFillRow:function(bN,bK,bM){var bL=this.colCnt;var bQ=bK.leftCol;var bP=bK.rightCol+1;var bR;var bO;bM=bM||bN.toLowerCase();bR=bv('<div class="fc-'+bM+'-skeleton"><table><tr/></table></div>');bO=bR.find("tr");if(bQ>0){bO.append('<td colspan="'+bQ+'"/>')}bO.append(bK.el.attr("colspan",bP-bQ));if(bP<bL){bO.append('<td colspan="'+(bL-bP)+'"/>')}this.bookendCells(bO);return bR}});by.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover();aE.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return aE.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(bK){var bL=bv.grep(bK,function(bM){return bM.event.allDay});return aE.prototype.renderBgSegs.call(this,bL)},renderFgSegs:function(bK){var bL;bK=this.renderFgSegEls(bK);bL=this.rowStructs=this.renderSegRows(bK);this.rowEls.each(function(bM,bN){bv(bN).find(".fc-content-skeleton > table").append(bL[bM].tbodyEl)});return bK},unrenderFgSegs:function(){var bL=this.rowStructs||[];var bK;while((bK=bL.pop())){bK.tbodyEl.remove()}this.rowStructs=null},renderSegRows:function(bL){var bM=[];var bK;var bN;bK=this.groupSegRows(bL);for(bN=0;bN<bK.length;bN++){bM.push(this.renderSegRow(bN,bK[bN]))}return bM},fgSegHtml:function(bR,bM){var bU=this.view;var bL=bR.event;var bK=bU.isEventDraggable(bL);var bP=!bM&&bL.allDay&&bR.isStart&&bU.isEventResizableFromStart(bL);var bO=!bM&&bL.allDay&&bR.isEnd&&bU.isEventResizableFromEnd(bL);var bQ=this.getSegClasses(bR,bK,bP||bO);var bV=K(this.getSegSkinCss(bR));var bT="";var bN;var bS;bQ.unshift("fc-day-grid-event","fc-h-event");if(bR.isStart){bN=this.getEventTimeText(bL);if(bN){bT='<span class="fc-time">'+aJ(bN)+"</span>"}}bS='<span class="fc-title">'+(aJ(bL.title||"")||"&nbsp;")+"</span>";return'<a class="'+bQ.join(" ")+'"'+(bL.url?' href="'+aJ(bL.url)+'"':"")+(bV?' style="'+bV+'"':"")+'><div class="fc-content">'+(this.isRTL?bS+" "+bT:bT+" "+bS)+"</div>"+(bP?'<div class="fc-resizer fc-start-resizer" />':"")+(bO?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(bZ,b0){var bX=this.colCnt;var bT=this.buildSegLevels(b0);var bK=Math.max(1,bT.length);var bS=bv("<tbody/>");var bO=[];var bU=[];var bM=[];var bR,bW;var bL;var bV;var bQ,bP;var bN;function bY(b1){while(bL<b1){bN=(bM[bR-1]||[])[bL];if(bN){bN.attr("rowspan",parseInt(bN.attr("rowspan")||1,10)+1)}else{bN=bv("<td/>");bV.append(bN)}bU[bR][bL]=bN;bM[bR][bL]=bN;bL++}}for(bR=0;bR<bK;bR++){bW=bT[bR];bL=0;bV=bv("<tr/>");bO.push([]);bU.push([]);bM.push([]);if(bW){for(bQ=0;bQ<bW.length;bQ++){bP=bW[bQ];bY(bP.leftCol);bN=bv('<td class="fc-event-container"/>').append(bP.el);if(bP.leftCol!=bP.rightCol){bN.attr("colspan",bP.rightCol-bP.leftCol+1)}else{bM[bR][bL]=bN}while(bL<=bP.rightCol){bU[bR][bL]=bN;bO[bR][bL]=bP;bL++}bV.append(bN)}}bY(bX);this.bookendCells(bV);bS.append(bV)}return{row:bZ,tbodyEl:bS,cellMatrix:bU,segMatrix:bO,segLevels:bT,segs:b0}},buildSegLevels:function(bL){var bO=[];var bN,bK;var bM;this.sortEventSegs(bL);for(bN=0;bN<bL.length;bN++){bK=bL[bN];for(bM=0;bM<bO.length;bM++){if(!F(bK,bO[bM])){break}}bK.level=bM;(bO[bM]||(bO[bM]=[])).push(bK)}for(bM=0;bM<bO.length;bM++){bO[bM].sort(aI)}return bO},groupSegRows:function(bL){var bK=[];var bM;for(bM=0;bM<this.rowCnt;bM++){bK.push([])}for(bM=0;bM<bL.length;bM++){bK[bL[bM].row].push(bL[bM])}return bK}});function F(bK,bN){var bL,bM;for(bL=0;bL<bN.length;bL++){bM=bN[bL];if(bM.leftCol<=bK.rightCol&&bM.rightCol>=bK.leftCol){return true}}return false}function aI(bL,bK){return bL.leftCol-bK.leftCol}by.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){if(this.segPopover){this.segPopover.hide()}},limitRows:function(bM){var bK=this.rowStructs||[];var bN;var bL;for(bN=0;bN<bK.length;bN++){this.unlimitRow(bN);if(!bM){bL=false}else{if(typeof bM==="number"){bL=bM}else{bL=this.computeRowLevelLimit(bN)}}if(bL!==false){this.limitRow(bN,bL)}}},computeRowLevelLimit:function(bR){var bM=this.rowEls.eq(bR);var bQ=bM.height();var bL=this.rowStructs[bR].tbodyEl.children();var bN,bP;var bK;function bO(bT,bS){bK=Math.max(bK,bv(bS).outerHeight())}for(bN=0;bN<bL.length;bN++){bP=bL.eq(bN).removeClass("fc-limited");bK=0;bP.find("> td > :first-child").each(bO);if(bP.position().top+bK>bQ){return bN}}return false},limitRow:function(bS,bW){var bY=this;var bM=this.rowStructs[bS];var bR=[];var bQ=0;var bK;var bP;var b3;var b1,b2;var b5;var bT;var bL;var bU,b4;var bO;var bZ;var bN,b0,bX;function bV(b6){while(bQ<b6){b5=bY.getCellSegs(bS,bQ,bW);if(b5.length){bU=bP[bW-1][bQ];bX=bY.renderMoreLink(bS,bQ,b5);b0=bv("<div/>").append(bX);bU.append(b0);bR.push(b0[0])}bQ++}}if(bW&&bW<bM.segLevels.length){bK=bM.segLevels[bW-1];bP=bM.cellMatrix;b3=bM.tbodyEl.children().slice(bW).addClass("fc-limited").get();for(b1=0;b1<bK.length;b1++){b2=bK[b1];bV(b2.leftCol);bL=[];bT=0;while(bQ<=b2.rightCol){b5=this.getCellSegs(bS,bQ,bW);bL.push(b5);bT+=b5.length;bQ++}if(bT){bU=bP[bW-1][b2.leftCol];b4=bU.attr("rowspan")||1;bO=[];for(bZ=0;bZ<bL.length;bZ++){bN=bv('<td class="fc-more-cell"/>').attr("rowspan",b4);b5=bL[bZ];bX=this.renderMoreLink(bS,b2.leftCol+bZ,[b2].concat(b5));b0=bv("<div/>").append(bX);bN.append(b0);bO.push(bN[0]);bR.push(bN[0])}bU.addClass("fc-limited").after(bv(bO));b3.push(bU[0])}}bV(this.colCnt);bM.moreEls=bv(bR);bM.limitedEls=bv(b3)}},unlimitRow:function(bL){var bK=this.rowStructs[bL];if(bK.moreEls){bK.moreEls.remove();bK.moreEls=null}if(bK.limitedEls){bK.limitedEls.removeClass("fc-limited");bK.limitedEls=null}},renderMoreLink:function(bN,bM,bL){var bO=this;var bK=this.view;return bv('<a class="fc-more"/>').text(this.getMoreLinkText(bL.length)).on("click",function(bT){var bW=bK.opt("eventLimitClick");var bQ=bO.getCellDate(bN,bM);var bU=bv(this);var bV=bO.getCellEl(bN,bM);var bP=bO.getCellSegs(bN,bM);var bR=bO.resliceDaySegs(bP,bQ);var bS=bO.resliceDaySegs(bL,bQ);if(typeof bW==="function"){bW=bK.publiclyTrigger("eventLimitClick",null,{date:bQ,dayEl:bV,moreEl:bU,segs:bR,hiddenSegs:bS},bT)}if(bW==="popover"){bO.showSegPopover(bN,bM,bU,bR)}else{if(typeof bW==="string"){bK.calendar.zoomTo(bQ,bW)}}})},showSegPopover:function(bS,bM,bQ,bK){var bN=this;var bP=this.view;var bL=bQ.parent();var bO;var bR;if(this.rowCnt==1){bO=bP.el}else{bO=this.rowEls.eq(bS)}bR={className:"fc-more-popover",content:this.renderSegPopoverContent(bS,bM,bK),parentEl:this.view.el,top:bO.offset().top,autoHide:true,viewportConstrain:bP.opt("popoverViewportConstrain"),hide:function(){if(bN.popoverSegs){var bT;for(var bU=0;bU<bN.popoverSegs.length;++bU){bT=bN.popoverSegs[bU];bP.publiclyTrigger("eventDestroy",bT.event,bT.event,bT.el)}}bN.segPopover.removeElement();bN.segPopover=null;bN.popoverSegs=null}};if(this.isRTL){bR.right=bL.offset().left+bL.outerWidth()+1}else{bR.left=bL.offset().left-1}this.segPopover=new aX(bR);this.segPopover.show();this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(bS,bL,bK){var bP=this.view;var bM=bP.opt("theme");var bQ=this.getCellDate(bS,bL).format(bP.opt("dayPopoverFormat"));var bO=bv('<div class="fc-header '+bP.widgetHeaderClass+'"><span class="fc-close '+(bM?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+aJ(bQ)+'</span><div class="fc-clear"/></div><div class="fc-body '+bP.widgetContentClass+'"><div class="fc-event-container"></div></div>');var bR=bO.find(".fc-event-container");var bN;bK=this.renderFgSegEls(bK,true);this.popoverSegs=bK;for(bN=0;bN<bK.length;bN++){this.prepareHits();bK[bN].hit=this.getCellHit(bS,bL);this.releaseHits();bR.append(bK[bN].el)}return bO},resliceDaySegs:function(bM,bK){var bO=bv.map(bM,function(bQ){return bQ.event});var bL=bK.clone();var bP=bL.clone().add(1,"days");var bN={start:bL,end:bP};bM=this.eventsToSegs(bO,function(bR){var bQ=f(bR,bN);return bQ?[bQ]:[]});this.sortEventSegs(bM);return bM},getMoreLinkText:function(bK){var bL=this.view.opt("eventLimitText");if(typeof bL==="function"){return bL(bK)}else{return"+"+bK+" "+bL}},getCellSegs:function(bP,bM,bN){var bO=this.rowStructs[bP].segMatrix;var bQ=bN||0;var bL=[];var bK;while(bQ<bO.length){bK=bO[bQ][bM];if(bK){bL.push(bK)}bQ++}return bL}});var j=x.TimeGrid=aE.extend(aV,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){aE.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.colEls=this.el.find(".fc-day");this.slatContainerEl=this.el.find(".fc-slats");this.slatEls=this.slatContainerEl.find("tr");this.colCoordCache=new aj({els:this.colEls,isHorizontal:true});this.slatCoordCache=new aj({els:this.slatEls,isVertical:true});this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){var bK=this.view;var bO=this.isRTL;var bN="";var bP=a4.duration(+this.minTime);var bM;var bL;var bQ;while(bP<this.maxTime){bM=this.start.clone().time(bP);bL=bz(D(bP,this.labelInterval));bQ='<td class="fc-axis fc-time '+bK.widgetContentClass+'" '+bK.axisStyleAttr()+">"+(bL?"<span>"+aJ(bM.format(this.labelFormat))+"</span>":"")+"</td>";bN+='<tr data-time="'+bM.format("HH:mm:ss")+'"'+(bL?"":' class="fc-minor"')+">"+(!bO?bQ:"")+'<td class="'+bK.widgetContentClass+'"/>'+(bO?bQ:"")+"</tr>";bP.add(this.slotDuration)}return bN},processOptions:function(){var bK=this.view;var bN=bK.opt("slotDuration");var bM=bK.opt("snapDuration");var bL;bN=a4.duration(bN);bM=bM?a4.duration(bM):bN;this.slotDuration=bN;this.snapDuration=bM;this.snapsPerSlot=bN/bM;this.minResizeDuration=bM;this.minTime=a4.duration(bK.opt("minTime"));this.maxTime=a4.duration(bK.opt("maxTime"));bL=bK.opt("slotLabelFormat");if(bv.isArray(bL)){bL=bL[bL.length-1]}this.labelFormat=bL||bK.opt("smallTimeFormat");bL=bK.opt("slotLabelInterval");this.labelInterval=bL?a4.duration(bL):this.computeLabelInterval(bN)},computeLabelInterval:function(bM){var bL;var bK;var bN;for(bL=aY.length-1;bL>=0;bL--){bK=a4.duration(aY[bL]);bN=D(bK,bM);if(bz(bN)&&bN>1){return bK}}return a4.duration(bM)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return true},prepareHits:function(){this.colCoordCache.build();this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(bL,bR){var bO=this.snapsPerSlot;var bU=this.colCoordCache;var bK=this.slatCoordCache;if(bU.isLeftInBounds(bL)&&bK.isTopInBounds(bR)){var bW=bU.getHorizontalIndex(bL);var bX=bK.getVerticalIndex(bR);if(bW!=null&&bX!=null){var bV=bK.getTopOffset(bX);var bS=bK.getHeight(bX);var bT=(bR-bV)/bS;var bM=Math.floor(bT*bO);var bQ=bX*bO+bM;var bP=bV+(bM/bO)*bS;var bN=bV+((bM+1)/bO)*bS;return{col:bW,snap:bQ,component:this,left:bU.getLeftOffset(bW),right:bU.getRightOffset(bW),top:bP,bottom:bN}}}},getHitSpan:function(bL){var bN=this.getCellDate(0,bL.col);var bM=this.computeSnapTime(bL.snap);var bK;bN.time(bM);bK=bN.clone().add(this.snapDuration);return{start:bN,end:bK}},getHitEl:function(bK){return this.colEls.eq(bK.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(bK){return a4.duration(this.minTime+this.snapDuration*bK)},spanToSegs:function(bM){var bK=this.sliceRangeByTimes(bM);var bL;for(bL=0;bL<bK.length;bL++){if(this.isRTL){bK[bL].col=this.daysPerRow-1-bK[bL].dayIndex}else{bK[bL].col=bK[bL].dayIndex}}return bK},sliceRangeByTimes:function(bN){var bM=[];var bL;var bP;var bK;var bO;for(bP=0;bP<this.daysPerRow;bP++){bK=this.dayDates[bP].clone();bO={start:bK.clone().time(this.minTime),end:bK.clone().time(this.maxTime)};bL=f(bN,bO);if(bL){bL.dayIndex=bP;bM.push(bL)}}return bM},updateSize:function(bK){this.slatCoordCache.build();if(bK){this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))}},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(bK,bL){return this.computeTimeTop(a4.duration(bK-bL.clone().stripTime()))},computeTimeTop:function(bO){var bK=this.slatEls.length;var bN=(bO-this.minTime)/this.slotDuration;var bM;var bL;bN=Math.max(0,bN);bN=Math.min(bK,bN);bM=Math.floor(bN);bM=Math.min(bM,bK-1);bL=bN-bM;return this.slatCoordCache.getTopPosition(bM)+this.slatCoordCache.getHeight(bM)*bL},renderDrag:function(bL,bK){if(bK){return this.renderEventLocationHelper(bL,bK)}else{this.renderHighlight(this.eventToSpan(bL))}},unrenderDrag:function(){this.unrenderHelper();this.unrenderHighlight()},renderEventResize:function(bL,bK){return this.renderEventLocationHelper(bL,bK)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(bL,bK){return this.renderHelperSegs(this.eventToSegs(bL),bK)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(bM){var bK=this.spanToSegs({start:bM,end:bM});var bO=this.computeDateTop(bM,bM);var bL=[];var bN;for(bN=0;bN<bK.length;bN++){bL.push(bv('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",bO).appendTo(this.colContainerEls.eq(bK[bN].col))[0])}if(bK.length>0){bL.push(bv('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",bO).appendTo(this.el.find(".fc-content-skeleton"))[0])}this.nowIndicatorEls=bv(bL)},unrenderNowIndicator:function(){if(this.nowIndicatorEls){this.nowIndicatorEls.remove();this.nowIndicatorEls=null}},renderSelection:function(bK){if(this.view.opt("selectHelper")){this.renderEventLocationHelper(bK)}else{this.renderHighlight(bK)}},unrenderSelection:function(){this.unrenderHelper();this.unrenderHighlight()},renderHighlight:function(bK){this.renderHighlightSegs(this.spanToSegs(bK))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});j.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var bM="";var bK;var bL;for(bK=0;bK<this.colCnt;bK++){bM+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>'}bL=bv('<div class="fc-content-skeleton"><table><tr>'+bM+"</tr></table></div>");this.colContainerEls=bL.find(".fc-content-col");this.helperContainerEls=bL.find(".fc-helper-container");this.fgContainerEls=bL.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=bL.find(".fc-bgevent-container");this.highlightContainerEls=bL.find(".fc-highlight-container");this.businessContainerEls=bL.find(".fc-business-container");this.bookendCells(bL.find("tr"));this.el.append(bL)},renderFgSegs:function(bK){bK=this.renderFgSegsIntoContainers(bK,this.fgContainerEls);this.fgSegs=bK;return bK},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(bL,bN){var bP=[];var bO,bK;var bM;bL=this.renderFgSegsIntoContainers(bL,this.helperContainerEls);for(bO=0;bO<bL.length;bO++){bK=bL[bO];if(bN&&bN.col===bK.col){bM=bN.el;bK.el.css({left:bM.css("left"),right:bM.css("right"),"margin-left":bM.css("margin-left"),"margin-right":bM.css("margin-right")})}bP.push(bK.el[0])}this.helperSegs=bL;return bv(bP)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(bK){bK=this.renderFillSegEls("bgEvent",bK);this.updateSegVerticals(bK);this.attachSegsByCol(this.groupSegsByCol(bK),this.bgContainerEls);this.bgSegs=bK;return bK},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(bK){bK=this.renderFillSegEls("highlight",bK);this.updateSegVerticals(bK);this.attachSegsByCol(this.groupSegsByCol(bK),this.highlightContainerEls);this.highlightSegs=bK},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(bK){bK=this.renderFillSegEls("businessHours",bK);this.updateSegVerticals(bK);this.attachSegsByCol(this.groupSegsByCol(bK),this.businessContainerEls);this.businessSegs=bK},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(bK){var bM=[];var bL;for(bL=0;bL<this.colCnt;bL++){bM.push([])}for(bL=0;bL<bK.length;bL++){bM[bK[bL].col].push(bK[bL])}return bM},attachSegsByCol:function(bO,bN){var bL;var bK;var bM;for(bL=0;bL<this.colCnt;bL++){bK=bO[bL];for(bM=0;bM<bK.length;bM++){bN.eq(bL).append(bK[bM].el)}}},unrenderNamedSegs:function(bM){var bK=this[bM];var bL;if(bK){for(bL=0;bL<bK.length;bL++){bK[bL].el.remove()}this[bM]=null}},renderFgSegsIntoContainers:function(bK,bM){var bN;var bL;bK=this.renderFgSegEls(bK);bN=this.groupSegsByCol(bK);for(bL=0;bL<this.colCnt;bL++){this.updateFgSegCoords(bN[bL])}this.attachSegsByCol(bN,bM);return bK},fgSegHtml:function(bS,bM){var bU=this.view;var bL=bS.event;var bK=bU.isEventDraggable(bL);var bQ=!bM&&bS.isStart&&bU.isEventResizableFromStart(bL);var bP=!bM&&bS.isEnd&&bU.isEventResizableFromEnd(bL);var bR=this.getSegClasses(bS,bK,bQ||bP);var bV=K(this.getSegSkinCss(bS));var bO;var bT;var bN;bR.unshift("fc-time-grid-event","fc-v-event");if(bU.isMultiDayEvent(bL)){if(bS.isStart||bS.isEnd){bO=this.getEventTimeText(bS);bT=this.getEventTimeText(bS,"LT");bN=this.getEventTimeText(bS,null,false)}}else{bO=this.getEventTimeText(bL);bT=this.getEventTimeText(bL,"LT");bN=this.getEventTimeText(bL,null,false)}return'<a class="'+bR.join(" ")+'"'+(bL.url?' href="'+aJ(bL.url)+'"':"")+(bV?' style="'+bV+'"':"")+'><div class="fc-content">'+(bO?'<div class="fc-time" data-start="'+aJ(bN)+'" data-full="'+aJ(bT)+'"><span>'+aJ(bO)+"</span></div>":"")+(bL.title?'<div class="fc-title">'+aJ(bL.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(bP?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(bK){this.computeSegVerticals(bK);this.assignSegVerticals(bK)},computeSegVerticals:function(bL){var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];bK.top=this.computeDateTop(bK.start,bK.start);bK.bottom=this.computeDateTop(bK.end,bK.start)}},assignSegVerticals:function(bL){var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];bK.el.css(this.generateSegVerticalCss(bK))}},generateSegVerticalCss:function(bK){return{top:bK.top,bottom:-bK.bottom}},updateFgSegCoords:function(bK){this.computeSegVerticals(bK);this.computeFgSegHorizontals(bK);this.assignSegVerticals(bK);this.assignFgSegHorizontals(bK)},computeFgSegHorizontals:function(bK){var bM;var bN;var bL;this.sortEventSegs(bK);bM=P(bK);b(bM);if((bN=bM[0])){for(bL=0;bL<bN.length;bL++){q(bN[bL])}for(bL=0;bL<bN.length;bL++){this.computeFgSegForwardBack(bN[bL],0,0)}}},computeFgSegForwardBack:function(bL,bN,bO){var bK=bL.forwardSegs;var bM;if(bL.forwardCoord===undefined){if(!bK.length){bL.forwardCoord=1}else{this.sortForwardSegs(bK);this.computeFgSegForwardBack(bK[0],bN+1,bO);bL.forwardCoord=bK[0].backwardCoord}bL.backwardCoord=bL.forwardCoord-(bL.forwardCoord-bO)/(bN+1);for(bM=0;bM<bK.length;bM++){this.computeFgSegForwardBack(bK[bM],0,bL.forwardCoord)}}},sortForwardSegs:function(bK){bK.sort(aD(this,"compareForwardSegs"))},compareForwardSegs:function(bL,bK){return bK.forwardPressure-bL.forwardPressure||(bL.backwardCoord||0)-(bK.backwardCoord||0)||this.compareEventSegs(bL,bK)},assignFgSegHorizontals:function(bL){var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];bK.el.css(this.generateFgSegHorizontalCss(bK));if(bK.bottom-bK.top<30){bK.el.addClass("fc-short")}}},generateFgSegHorizontalCss:function(bK){var bN=this.view.opt("slotEventOverlap");var bL=bK.backwardCoord;var bM=bK.forwardCoord;var bP=this.generateSegVerticalCss(bK);var bQ;var bO;if(bN){bM=Math.min(1,bL+(bM-bL)*2)}if(this.isRTL){bQ=1-bM;bO=bL}else{bQ=bL;bO=1-bM}bP.zIndex=bK.level+1;bP.left=bQ*100+"%";bP.right=bO*100+"%";if(bN&&bK.forwardPressure){bP[this.isRTL?"marginLeft":"marginRight"]=10*2}return bP}});function P(bL){var bO=[];var bN,bK;var bM;for(bN=0;bN<bL.length;bN++){bK=bL[bN];for(bM=0;bM<bO.length;bM++){if(!bt(bK,bO[bM]).length){break}}bK.level=bM;(bO[bM]||(bO[bM]=[])).push(bK)}return bO}function b(bO){var bN,bP;var bM,bK;var bL;for(bN=0;bN<bO.length;bN++){bP=bO[bN];for(bM=0;bM<bP.length;bM++){bK=bP[bM];bK.forwardSegs=[];for(bL=bN+1;bL<bO.length;bL++){bt(bK,bO[bL],bK.forwardSegs)}}}}function q(bL){var bK=bL.forwardSegs;var bO=0;var bN,bM;if(bL.forwardPressure===undefined){for(bN=0;bN<bK.length;bN++){bM=bK[bN];q(bM);bO=Math.max(bO,1+bM.forwardPressure)}bL.forwardPressure=bO}}function bt(bK,bN,bM){bM=bM||[];for(var bL=0;bL<bN.length;bL++){if(a1(bK,bN[bL])){bM.push(bN[bL])}}return bM}function a1(bL,bK){return bL.bottom>bK.top&&bL.top<bK.bottom}var aQ=x.View=au.extend(w,am,{type:null,name:null,title:null,calendar:null,options:null,el:null,isDateSet:false,isDateRendered:false,dateRenderQueue:null,isEventsBound:false,isEventsSet:false,isEventsRendered:false,eventRenderQueue:null,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:false,isSelected:false,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(bN,bM,bK,bL){this.calendar=bN;this.type=this.name=bM;this.options=bK;this.intervalDuration=bL||a4.duration(1,"day");this.nextDayThreshold=a4.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.isRTL=this.opt("isRTL");this.eventOrderSpecs=aB(this.opt("eventOrder"));this.dateRenderQueue=new bj();this.eventRenderQueue=new bj(this.opt("eventRenderWait"));this.initialize()},initialize:function(){},opt:function(bK){return this.options[bK]},publiclyTrigger:function(bK,bM){var bL=this.calendar;return bL.publiclyTrigger.apply(bL,[bK,bM||this].concat(Array.prototype.slice.call(arguments,2),[this]))},rejectOn:function(bK,bL){var bM=this;return new br(function(bP,bO){bM.one(bK,bO);function bN(){bM.off(bK,bO)}bL.then(function(bQ){bN();bP(bQ)},function(){bN();bO()})})},setRange:function(bK){bv.extend(this,bK);this.updateTitle()},computeRange:function(bM){var bP=ay(this.intervalDuration);var bN=bM.clone().startOf(bP);var bL=bN.clone().add(this.intervalDuration);var bO,bK;if(/year|month|week|day/.test(bP)){bN.stripTime();bL.stripTime()}else{if(!bN.hasTime()){bN=this.calendar.time(0)}if(!bL.hasTime()){bL=this.calendar.time(0)}}bO=bN.clone();bO=this.skipHiddenDays(bO);bK=bL.clone();bK=this.skipHiddenDays(bK,-1,true);return{intervalUnit:bP,intervalStart:bN,intervalEnd:bL,start:bO,end:bK}},computePrevDate:function(bK){return this.massageCurrentDate(bK.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(bK){return this.massageCurrentDate(bK.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(bK,bL){if(this.intervalDuration.as("days")<=1){if(this.isHiddenDay(bK)){bK=this.skipHiddenDays(bK,bL);bK.startOf("day")}}return bK},updateTitle:function(){this.title=this.computeTitle();this.calendar.setToolbarsTitle(this.title)},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){if(this.intervalUnit=="year"){return"YYYY"}else{if(this.intervalUnit=="month"){return this.opt("monthYearFormat")}else{if(this.intervalDuration.as("days")>1){return"ll"}else{return"LL"}}}},formatRange:function(bM,bL,bN){var bK=bM.end;if(!bK.hasTime()){bK=bK.clone().subtract(1)}return bk(bM.start,bK,bL,bN,this.opt("isRTL"))},getAllDayHtml:function(){return this.opt("allDayHtml")||aJ(this.opt("allDayText"))},buildGotoAnchorHtml:function(bP,bM,bK){var bL,bO,bQ;var bN;if(bv.isPlainObject(bP)){bL=bP.date;bO=bP.type;bQ=bP.forceOff}else{bL=bP}bL=x.moment(bL);bN={date:bL.format("YYYY-MM-DD"),type:bO||"day"};if(typeof bM==="string"){bK=bM;bM=null}bM=bM?" "+a5(bM):"";bK=bK||"";if(!bQ&&this.opt("navLinks")){return"<a"+bM+' data-goto="'+aJ(JSON.stringify(bN))+'">'+bK+"</a>"}else{return"<span"+bM+">"+bK+"</span>"}},setElement:function(bK){this.el=bK;this.bindGlobalHandlers();this.renderSkeleton()},removeElement:function(){this.unsetDate();this.unrenderSkeleton();this.unbindGlobalHandlers();this.el.remove()},renderSkeleton:function(){},unrenderSkeleton:function(){},setDate:function(bK){var bL=this.isDateSet;this.isDateSet=true;this.handleDate(bK,bL);this.trigger(bL?"dateReset":"dateSet",bK)},unsetDate:function(){if(this.isDateSet){this.isDateSet=false;this.handleDateUnset();this.trigger("dateUnset")}},handleDate:function(bK,bL){var bM=this;this.unbindEvents();this.requestDateRender(bK).then(function(){bM.bindEvents()})},handleDateUnset:function(){this.unbindEvents();this.requestDateUnrender()},requestDateRender:function(bK){var bL=this;return this.dateRenderQueue.add(function(){return bL.executeDateRender(bK)})},requestDateUnrender:function(){var bK=this;return this.dateRenderQueue.add(function(){return bK.executeDateUnrender()})},executeDateRender:function(bK){var bL=this;if(bK){this.captureInitialScroll()}else{this.captureScroll()}this.freezeHeight();return this.executeDateUnrender().then(function(){if(bK){bL.setRange(bL.computeRange(bK))}if(bL.render){bL.render()}bL.renderDates();bL.updateSize();bL.renderBusinessHours();bL.startNowIndicator();bL.thawHeight();bL.releaseScroll();bL.isDateRendered=true;bL.onDateRender();bL.trigger("dateRender")})},executeDateUnrender:function(){var bK=this;if(bK.isDateRendered){return this.requestEventsUnrender().then(function(){bK.unselect();bK.stopNowIndicator();bK.triggerUnrender();bK.unrenderBusinessHours();bK.unrenderDates();if(bK.destroy){bK.destroy()}bK.isDateRendered=false;bK.trigger("dateUnrender")})}else{return br.resolve()}},onDateRender:function(){this.triggerRender()},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.publiclyTrigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.publiclyTrigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(bv(document),"mousedown",this.handleDocumentMousedown);this.listenTo(bv(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(bv(document))},initThemingProps:function(){var bK=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=bK+"-widget-header";this.widgetContentClass=bK+"-widget-content";this.highlightStateClass=bK+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var bN=this;var bL;var bM;var bK;if(this.opt("nowIndicator")){bL=this.getNowIndicatorUnit();if(bL){bM=aD(this,"updateNowIndicator");this.initialNowDate=this.calendar.getNow();this.initialNowQueriedMs=+new Date();this.renderNowIndicator(this.initialNowDate);this.isNowIndicatorRendered=true;bK=this.initialNowDate.clone().startOf(bL).add(1,bL)-this.initialNowDate;this.nowIndicatorTimeoutID=setTimeout(function(){bN.nowIndicatorTimeoutID=null;bM();bK=+a4.duration(1,bL);bK=Math.max(100,bK);bN.nowIndicatorIntervalID=setInterval(bM,bK)},bK)}}},updateNowIndicator:function(){if(this.isNowIndicatorRendered){this.unrenderNowIndicator();this.renderNowIndicator(this.initialNowDate.clone().add(new Date()-this.initialNowQueriedMs))}},stopNowIndicator:function(){if(this.isNowIndicatorRendered){if(this.nowIndicatorTimeoutID){clearTimeout(this.nowIndicatorTimeoutID);this.nowIndicatorTimeoutID=null}if(this.nowIndicatorIntervalID){clearTimeout(this.nowIndicatorIntervalID);this.nowIndicatorIntervalID=null}this.unrenderNowIndicator();this.isNowIndicatorRendered=false}},getNowIndicatorUnit:function(){},renderNowIndicator:function(bK){},unrenderNowIndicator:function(){},updateSize:function(bK){if(bK){this.captureScroll()}this.updateHeight(bK);this.updateWidth(bK);this.updateNowIndicator();if(bK){this.releaseScroll()}},updateWidth:function(bK){},updateHeight:function(bK){var bL=this.calendar;this.setHeight(bL.getSuggestedViewHeight(),bL.isHeightAuto())},setHeight:function(bL,bK){},capturedScroll:null,capturedScrollDepth:0,captureScroll:function(){if(!(this.capturedScrollDepth++)){this.capturedScroll=this.isDateRendered?this.queryScroll():{};return true}return false},captureInitialScroll:function(bK){if(this.captureScroll()){this.capturedScroll.isInitial=true;if(bK){bv.extend(this.capturedScroll,bK)}else{this.capturedScroll.isComputed=true}}},releaseScroll:function(){var bK=this.capturedScroll;var bL=this.discardScroll();if(bK.isComputed){if(bL){bv.extend(bK,this.computeInitialScroll())}else{bK=null}}if(bK){if(bK.isInitial){this.hardSetScroll(bK)}else{this.setScroll(bK)}}},discardScroll:function(){if(!(--this.capturedScrollDepth)){this.capturedScroll=null;return true}return false},computeInitialScroll:function(){return{}},queryScroll:function(){return{}},hardSetScroll:function(bK){var bM=this;var bL=function(){bM.setScroll(bK)};bL();setTimeout(bL,0)},setScroll:function(bK){},freezeHeight:function(){this.calendar.freezeContentHeight()},thawHeight:function(){this.calendar.thawContentHeight()},bindEvents:function(){var bK=this;if(!this.isEventsBound){this.isEventsBound=true;this.rejectOn("eventsUnbind",this.requestEvents()).then(function(bL){bK.listenTo(bK.calendar,"eventsReset",bK.setEvents);bK.setEvents(bL)})}},unbindEvents:function(){if(this.isEventsBound){this.isEventsBound=false;this.stopListeningTo(this.calendar,"eventsReset");this.unsetEvents();this.trigger("eventsUnbind")}},setEvents:function(bK){var bL=this.isEventSet;this.isEventsSet=true;this.handleEvents(bK,bL);this.trigger(bL?"eventsReset":"eventsSet",bK)},unsetEvents:function(){if(this.isEventsSet){this.isEventsSet=false;this.handleEventsUnset();this.trigger("eventsUnset")}},whenEventsSet:function(){var bK=this;if(this.isEventsSet){return br.resolve(this.getCurrentEvents())}else{return new br(function(bL){bK.one("eventsSet",bL)})}},handleEvents:function(bK,bL){this.requestEventsRender(bK)},handleEventsUnset:function(){this.requestEventsUnrender()},requestEventsRender:function(bK){var bL=this;return this.eventRenderQueue.add(function(){return bL.executeEventsRender(bK)})},requestEventsUnrender:function(){var bK=this;if(this.isEventsRendered){return this.eventRenderQueue.addQuickly(function(){return bK.executeEventsUnrender()})}else{return br.resolve()}},requestCurrentEventsRender:function(){if(this.isEventsSet){this.requestEventsRender(this.getCurrentEvents())}else{return br.reject()}},executeEventsRender:function(bK){var bL=this;this.captureScroll();this.freezeHeight();return this.executeEventsUnrender().then(function(){bL.renderEvents(bK);bL.thawHeight();bL.releaseScroll();bL.isEventsRendered=true;bL.onEventsRender();bL.trigger("eventsRender")})},executeEventsUnrender:function(){if(this.isEventsRendered){this.onBeforeEventsUnrender();this.captureScroll();this.freezeHeight();if(this.destroyEvents){this.destroyEvents()}this.unrenderEvents();this.thawHeight();this.releaseScroll();this.isEventsRendered=false;this.trigger("eventsUnrender")}return br.resolve()},onEventsRender:function(){this.renderedEventSegEach(function(bK){this.publiclyTrigger("eventAfterRender",bK.event,bK.event,bK.el)});this.publiclyTrigger("eventAfterAllRender")},onBeforeEventsUnrender:function(){this.renderedEventSegEach(function(bK){this.publiclyTrigger("eventDestroy",bK.event,bK.event,bK.el)})},renderEvents:function(bK){},unrenderEvents:function(){},requestEvents:function(){return this.calendar.requestEvents(this.start,this.end)},getCurrentEvents:function(){return this.calendar.getPrunedEventCache()},resolveEventEl:function(bL,bK){var bM=this.publiclyTrigger("eventRender",bL,bL,bK);if(bM===false){bK=null}else{if(bM&&bM!==true){bK=bv(bM)}}return bK},showEvent:function(bK){this.renderedEventSegEach(function(bL){bL.el.css("visibility","")},bK)},hideEvent:function(bK){this.renderedEventSegEach(function(bL){bL.el.css("visibility","hidden")},bK)},renderedEventSegEach:function(bN,bM){var bK=this.getEventSegs();var bL;for(bL=0;bL<bK.length;bL++){if(!bM||bK[bL].event._id===bM._id){if(bK[bL].el){bN.call(this,bK[bL])}}}},getEventSegs:function(){return[]},isEventDraggable:function(bK){return this.isEventStartEditable(bK)},isEventStartEditable:function(bK){return V(bK.startEditable,(bK.source||{}).startEditable,this.opt("eventStartEditable"),this.isEventGenerallyEditable(bK))},isEventGenerallyEditable:function(bK){return V(bK.editable,(bK.source||{}).editable,this.opt("editable"))},reportEventDrop:function(bP,bO,bM,bL,bN){var bR=this.calendar;var bQ=bR.mutateEvent(bP,bO,bM);var bK=function(){bQ.undo();bR.reportEventChange()};this.triggerEventDrop(bP,bQ.dateDelta,bK,bL,bN);bR.reportEventChange()},triggerEventDrop:function(bN,bO,bK,bL,bM){this.publiclyTrigger("eventDrop",bL[0],bN,bO,bK,bM,{})},reportExternalDrop:function(bR,bO,bL,bN,bQ){var bP=bR.eventProps;var bK;var bM;if(bP){bK=bv.extend({},bP,bO);bM=this.calendar.renderEvent(bK,bR.stick)[0]}this.triggerExternalDrop(bM,bO,bL,bN,bQ)},triggerExternalDrop:function(bN,bM,bK,bL,bO){this.publiclyTrigger("drop",bK[0],bM.start,bL,bO);if(bN){this.publiclyTrigger("eventReceive",null,bN)}},renderDrag:function(bL,bK){},unrenderDrag:function(){},isEventResizableFromStart:function(bK){return this.opt("eventResizableFromStart")&&this.isEventResizable(bK)},isEventResizableFromEnd:function(bK){return this.isEventResizable(bK)},isEventResizable:function(bK){var bL=bK.source||{};return V(bK.durationEditable,bL.durationEditable,this.opt("eventDurationEditable"),bK.editable,bL.editable,this.opt("editable"))},reportEventResize:function(bO,bR,bM,bL,bN){var bQ=this.calendar;var bP=bQ.mutateEvent(bO,bR,bM);var bK=function(){bP.undo();bQ.reportEventChange()};this.triggerEventResize(bO,bP.durationDelta,bK,bL,bN);bQ.reportEventChange()},triggerEventResize:function(bO,bL,bK,bM,bN){this.publiclyTrigger("eventResize",bM[0],bO,bL,bK,bN,{})},select:function(bK,bL){this.unselect(bL);this.renderSelection(bK);this.reportSelection(bK,bL)},renderSelection:function(bK){},reportSelection:function(bK,bL){this.isSelected=true;this.triggerSelect(bK,bL)},triggerSelect:function(bK,bL){this.publiclyTrigger("select",null,this.calendar.applyTimezone(bK.start),this.calendar.applyTimezone(bK.end),bL)},unselect:function(bK){if(this.isSelected){this.isSelected=false;if(this.destroySelection){this.destroySelection()}this.unrenderSelection();this.publiclyTrigger("unselect",null,bK)}},unrenderSelection:function(){},selectEvent:function(bK){if(!this.selectedEvent||this.selectedEvent!==bK){this.unselectEvent();this.renderedEventSegEach(function(bL){bL.el.addClass("fc-selected")},bK);this.selectedEvent=bK}},unselectEvent:function(){if(this.selectedEvent){this.renderedEventSegEach(function(bK){bK.el.removeClass("fc-selected")},this.selectedEvent);this.selectedEvent=null}},isEventSelected:function(bK){return this.selectedEvent&&this.selectedEvent._id===bK._id},handleDocumentMousedown:function(bK){if(bF(bK)){this.processUnselect(bK)}},processUnselect:function(bK){this.processRangeUnselect(bK);this.processEventUnselect(bK)},processRangeUnselect:function(bK){var bL;if(this.isSelected&&this.opt("unselectAuto")){bL=this.opt("unselectCancel");if(!bL||!bv(bK.target).closest(bL).length){this.unselect(bK)}}},processEventUnselect:function(bK){if(this.selectedEvent){if(!bv(bK.target).closest(".fc-selected").length){this.unselectEvent()}}},triggerDayClick:function(bK,bM,bL){this.publiclyTrigger("dayClick",bM,this.calendar.applyTimezone(bK.start),bL)},initHiddenDays:function(){var bL=this.opt("hiddenDays")||[];var bN=[];var bK=0;var bM;if(this.opt("weekends")===false){bL.push(0,6)}for(bM=0;bM<7;bM++){if(!(bN[bM]=bv.inArray(bM,bL)!==-1)){bK++}}if(!bK){throw"invalid hiddenDays"}this.isHiddenDayHash=bN},isHiddenDay:function(bK){if(a4.isMoment(bK)){bK=bK.day()}return this.isHiddenDayHash[bK]},skipHiddenDays:function(bM,bN,bK){var bL=bM.clone();bN=bN||1;while(this.isHiddenDayHash[(bL.day()+(bK?bN:0)+7)%7]){bL.add(bN,"days")}return bL},computeDayRange:function(bL){var bO=bL.start.clone().stripTime();var bK=bL.end;var bN=null;var bM;if(bK){bN=bK.clone().stripTime();bM=+bK.time();if(bM&&bM>=this.nextDayThreshold){bN.add(1,"days")}}if(!bK||bN<=bO){bN=bO.clone().add(1,"days")}return{start:bO,end:bN}},isMultiDayEvent:function(bL){var bK=this.computeDayRange(bL);return bK.end.diff(bK.start,"days")>1}});var a6=x.Scroller=au.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(bK){bK=bK||{};this.overflowX=bK.overflowX||bK.overflow||"auto";this.overflowY=bK.overflowY||bK.overflow||"auto"},render:function(){this.el=this.renderEl();this.applyOverflow()},renderEl:function(){return(this.scrollEl=bv('<div class="fc-scroller"></div>'))},clear:function(){this.setHeight("auto");this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(bM){var bL=this.overflowX;var bK=this.overflowY;bM=bM||this.getScrollbarWidths();if(bL==="auto"){bL=(bM.top||bM.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth)?"scroll":"hidden"}if(bK==="auto"){bK=(bM.left||bM.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight)?"scroll":"hidden"}this.scrollEl.css({"overflow-x":bL,"overflow-y":bK})},setHeight:function(bK){this.scrollEl.height(bK)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(bK){this.scrollEl.scrollTop(bK)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return a(this.scrollEl)}});function bx(bK){this.items=bK||[]}bx.prototype.proxyCall=function(bK){var bL=Array.prototype.slice.call(arguments,1);var bM=[];this.items.forEach(function(bN){bM.push(bN[bK].apply(bN,bL))});return bM};function a0(bR,bK){var bZ=this;bZ.setToolbarOptions=bP;bZ.render=bM;bZ.removeElement=bU;bZ.updateTitle=bS;bZ.activateButton=bL;bZ.deactivateButton=bX;bZ.disableButton=bQ;bZ.enableButton=bT;bZ.getViewsWithButtons=bO;bZ.el=null;var bN;var bV=[];var bW;function bP(b0){bK=b0}function bM(){var b0=bK.layout;bW=bR.options.theme?"ui":"fc";if(b0){if(!bN){bN=this.el=bv("<div class='fc-toolbar "+bK.extraClasses+"'/>")}else{bN.empty()}bN.append(bY("left")).append(bY("right")).append(bY("center")).append('<div class="fc-clear"/>')}else{bU()}}function bU(){if(bN){bN.remove();bN=bZ.el=null}}function bY(b0){var b1=bv('<div class="fc-'+b0+'"/>');var b2=bK.layout[b0];if(b2){bv.each(b2.split(" "),function(b3){var b4=bv();var b5=true;var b6;bv.each(this.split(","),function(cb,ci){var ch;var ce;var cd;var cg;var cf;var b8;var ca;var b7;var b9;var cc;if(ci=="title"){b4=b4.add(bv("<h2>&nbsp;</h2>"));b5=false}else{if((ch=(bR.options.customButtons||{})[ci])){cd=function(cj){if(ch.click){ch.click.call(cc[0],cj)}};cg="";cf=ch.text}else{if((ce=bR.getViewSpec(ci))){cd=function(){bR.changeView(ci)};bV.push(ci);cg=ce.buttonTextOverride;cf=ce.buttonTextDefault}else{if(bR[ci]){cd=function(){bR[ci]()};cg=(bR.overrides.buttonText||{})[ci];cf=bR.options.buttonText[ci]}}}if(cd){b8=ch?ch.themeIcon:bR.options.themeButtonIcons[ci];ca=ch?ch.icon:bR.options.buttonIcons[ci];if(cg){b7=aJ(cg)}else{if(b8&&bR.options.theme){b7="<span class='ui-icon ui-icon-"+b8+"'></span>"}else{if(ca&&!bR.options.theme){b7="<span class='fc-icon fc-icon-"+ca+"'></span>"}else{b7=aJ(cf)}}}b9=["fc-"+ci+"-button",bW+"-button",bW+"-state-default"];cc=bv('<button type="button" class="'+b9.join(" ")+'">'+b7+"</button>").click(function(cj){if(!cc.hasClass(bW+"-state-disabled")){cd(cj);if(cc.hasClass(bW+"-state-active")||cc.hasClass(bW+"-state-disabled")){cc.removeClass(bW+"-state-hover")}}}).mousedown(function(){cc.not("."+bW+"-state-active").not("."+bW+"-state-disabled").addClass(bW+"-state-down")}).mouseup(function(){cc.removeClass(bW+"-state-down")}).hover(function(){cc.not("."+bW+"-state-active").not("."+bW+"-state-disabled").addClass(bW+"-state-hover")},function(){cc.removeClass(bW+"-state-hover").removeClass(bW+"-state-down")});b4=b4.add(cc)}}});if(b5){b4.first().addClass(bW+"-corner-left").end().last().addClass(bW+"-corner-right").end()}if(b4.length>1){b6=bv("<div/>");if(b5){b6.addClass("fc-button-group")}b6.append(b4);b1.append(b6)}else{b1.append(b4)}})}return b1}function bS(b0){if(bN){bN.find("h2").text(b0)}}function bL(b0){if(bN){bN.find(".fc-"+b0+"-button").addClass(bW+"-state-active")}}function bX(b0){if(bN){bN.find(".fc-"+b0+"-button").removeClass(bW+"-state-active")}}function bQ(b0){if(bN){bN.find(".fc-"+b0+"-button").prop("disabled",true).addClass(bW+"-state-disabled")}}function bT(b0){if(bN){bN.find(".fc-"+b0+"-button").prop("disabled",false).removeClass(bW+"-state-disabled")}}function bO(){return bV}}var v=x.Calendar=au.extend({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,options:null,viewSpecCache:null,view:null,header:null,footer:null,loadingLevel:0,constructor:I,initialize:function(){},populateOptionsHash:function(){var bK,bL;var bM,bN;bK=V(this.dynamicOverrides.locale,this.overrides.locale);bL=aa[bK];if(!bL){bK=v.defaults.locale;bL=aa[bK]||{}}bM=V(this.dynamicOverrides.isRTL,this.overrides.isRTL,bL.isRTL,v.defaults.isRTL);bN=bM?v.rtlDefaults:{};this.dirDefaults=bN;this.localeDefaults=bL;this.options=aR([v.defaults,bN,bL,this.overrides,this.dynamicOverrides]);aP(this.options)},getViewSpec:function(bK){var bL=this.viewSpecCache;return bL[bK]||(bL[bK]=this.buildViewSpec(bK))},getUnitViewSpec:function(bN){var bM;var bL;var bK;if(bv.inArray(bN,aF)!=-1){bM=this.header.getViewsWithButtons();bv.each(x.views,function(bO){bM.push(bO)});for(bL=0;bL<bM.length;bL++){bK=this.getViewSpec(bM[bL]);if(bK){if(bK.singleUnit==bN){return bK}}}}},buildViewSpec:function(bM){var bP=this.overrides.views||{};var bO=[];var bT=[];var bK=[];var bN=bM;var bS;var bR;var bL;var bQ;while(bN){bS=Y[bN];bR=bP[bN];bN=null;if(typeof bS==="function"){bS={"class":bS}}if(bS){bO.unshift(bS);bT.unshift(bS.defaults||{});bL=bL||bS.duration;bN=bN||bS.type}if(bR){bK.unshift(bR);bL=bL||bR.duration;bN=bN||bR.type}}bS=bG(bO);bS.type=bM;if(!bS["class"]){return false}if(bL){bL=a4.duration(bL);if(bL.valueOf()){bS.duration=bL;bQ=ay(bL);if(bL.as(bQ)===1){bS.singleUnit=bQ;bK.unshift(bP[bQ]||{})}}}bS.defaults=aR(bT);bS.overrides=aR(bK);this.buildViewSpecOptions(bS);this.buildViewSpecButtonText(bS,bM);return bS},buildViewSpecOptions:function(bK){bK.options=aR([v.defaults,bK.defaults,this.dirDefaults,this.localeDefaults,this.overrides,bK.overrides,this.dynamicOverrides]);aP(bK.options)},buildViewSpecButtonText:function(bL,bM){function bK(bN){var bO=bN.buttonText||{};return bO[bM]||(bL.buttonTextKey?bO[bL.buttonTextKey]:null)||(bL.singleUnit?bO[bL.singleUnit]:null)}bL.buttonTextOverride=bK(this.dynamicOverrides)||bK(this.overrides)||bL.overrides.buttonText;bL.buttonTextDefault=bK(this.localeDefaults)||bK(this.dirDefaults)||bL.defaults.buttonText||bK(v.defaults)||(bL.duration?this.humanizeDuration(bL.duration):null)||bM},instantiateView:function(bK){var bL=this.getViewSpec(bK);return new bL["class"](this,bK,bL.options,bL.duration)},isValidViewType:function(bK){return Boolean(this.getViewSpec(bK))},pushLoading:function(){if(!(this.loadingLevel++)){this.publiclyTrigger("loading",null,true,this.view)}},popLoading:function(){if(!(--this.loadingLevel)){this.publiclyTrigger("loading",null,false,this.view)}},buildSelectSpan:function(bL,bM){var bN=this.moment(bL).stripZone();var bK;if(bM){bK=this.moment(bM).stripZone()}else{if(bN.hasTime()){bK=bN.clone().add(this.defaultTimedEventDuration)}else{bK=bN.clone().add(this.defaultAllDayEventDuration)}}return{start:bN,end:bK}}});v.mixin(w);function I(bZ,cp){var cr=this;cr.render=cf;cr.destroy=cu;cr.rerenderEvents=bN;cr.changeView=b7;cr.select=ct;cr.unselect=bU;cr.prev=cd;cr.next=bL;cr.prevYear=cw;cr.nextYear=bK;cr.today=b1;cr.gotoDate=ce;cr.incrementDate=b4;cr.zoomTo=cB;cr.getDate=b6;cr.getCalendar=ci;cr.getView=cb;cr.option=cl;cr.publiclyTrigger=bP;cr.dynamicOverrides={};cr.viewSpecCache={};cr.optionHandlers={};cr.overrides=bv.extend({},cp);cr.populateOptionsHash();var cg;cr.bindOptions(["locale","monthNames","monthNamesShort","dayNames","dayNamesShort","firstDay","weekNumberCalculation"],function(cD,cH,cG,cK,cI,cF,cJ){if(cJ==="iso"){cJ="ISO"}cg=U(O(cD));if(cH){cg._months=cH}if(cG){cg._monthsShort=cG}if(cK){cg._weekdays=cK}if(cI){cg._weekdaysShort=cI}if(cF==null&&cJ==="ISO"){cF=1}if(cF!=null){var cE=U(cg._week);cE.dow=cF;cg._week=cE}if(cJ==="ISO"||cJ==="local"||typeof cJ==="function"){cg._fullCalendar_weekCalc=cJ}if(cz){ca(cz)}});cr.defaultAllDayEventDuration=a4.duration(cr.options.defaultAllDayEventDuration);cr.defaultTimedEventDuration=a4.duration(cr.options.defaultTimedEventDuration);cr.moment=function(){var cD;if(cr.options.timezone==="local"){cD=x.moment.apply(null,arguments);if(cD.hasTime()){cD.local()}}else{if(cr.options.timezone==="UTC"){cD=x.moment.utc.apply(null,arguments)}else{cD=x.moment.parseZone.apply(null,arguments)}}ca(cD);return cD};function ca(cD){cD._locale=cg}cr.localizeMoment=ca;cr.getIsAmbigTimezone=function(){return cr.options.timezone!=="local"&&cr.options.timezone!=="UTC"};cr.applyTimezone=function(cD){if(!cD.hasTime()){return cD.clone()}var cE=cr.moment(cD.toArray());var cG=cD.time()-cE.time();var cF;if(cG){cF=cE.clone().add(cG);if(cD.time()-cF.time()===0){cE=cF}}return cE};cr.getNow=function(){var cD=cr.options.now;if(typeof cD==="function"){cD=cD()}return cr.moment(cD)};cr.getEventEnd=function(cD){if(cD.end){return cD.end.clone()}else{return cr.getDefaultEventEnd(cD.allDay,cD.start)}};cr.getDefaultEventEnd=function(cE,cF){var cD=cF.clone();if(cE){cD.stripTime().add(cr.defaultAllDayEventDuration)}else{cD.add(cr.defaultTimedEventDuration)}if(cr.getIsAmbigTimezone()){cD.stripZone()}return cD};cr.humanizeDuration=function(cD){return cD.locale(cr.options.locale).humanize()};aM.call(cr);var cm=bZ[0];var b0;var bQ;var bX;var bW;var cC;var bV;var cq={};var bS;var cA;var cn=0;var cz;if(cr.options.defaultDate!=null){cz=cr.moment(cr.options.defaultDate).stripZone()}else{cz=cr.getNow()}function cf(){if(!bW){b9()}else{if(ck()){ch();b7()}}}function b9(){bZ.addClass("fc");bZ.on("click.fc","a[data-goto]",function(cI){var cJ=bv(this);var cH=cJ.data("goto");var cF=cr.moment(cH.date);var cE=cH.type;var cG=bV.opt("navLink"+o(cE)+"Click");if(typeof cG==="function"){cG(cF,cI)}else{if(typeof cG==="string"){cE=cG}cB(cF,cE)}});cr.bindOption("theme",function(cE){cC=cE?"ui":"fc";bZ.toggleClass("ui-widget",cE);bZ.toggleClass("fc-unthemed",!cE)});cr.bindOptions(["isRTL","locale"],function(cE){bZ.toggleClass("fc-ltr",!cE);bZ.toggleClass("fc-rtl",cE)});bW=bv("<div class='fc-view-container'/>").prependTo(bZ);var cD=cs();b0=new bx(cD);bQ=cr.header=cD[0];bX=cr.footer=cD[1];co();cy();b7(cr.options.defaultView);if(cr.options.handleWindowResize){cA=bb(bY,cr.options.windowResizeDelay);bv(window).resize(cA)}}function cu(){if(bV){bV.removeElement()}b0.proxyCall("removeElement");bW.remove();bZ.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");bZ.off(".fc");if(cA){bv(window).unbind("resize",cA)}}function ck(){return bZ.is(":visible")}function b7(cD,cF){cn++;var cE=bV&&cD&&bV.type!==cD;if(cE){bO();cj()}if(!bV&&cD){bV=cr.view=cq[cD]||(cq[cD]=cr.instantiateView(cD));bV.setElement(bv("<div class='fc-view fc-"+cD+"-view' />").appendTo(bW));b0.proxyCall("activateButton",cD)}if(bV){cz=bV.massageCurrentDate(cz);if(!bV.isDateSet||!(cz>=bV.intervalStart&&cz<bV.intervalEnd)){if(ck()){if(cF){bV.captureInitialScroll(cF)}bV.setDate(cz,cF);if(cF){bV.releaseScroll()}bT()}}}if(cE){cv()}cn--}function cj(){b0.proxyCall("deactivateButton",bV.type);bV.removeElement();bV=cr.view=null}function cc(){cn++;bO();var cD=bV.type;var cE=bV.queryScroll();cj();ch();b7(cD,cE);cv();cn--}cr.getSuggestedViewHeight=function(){if(bS===undefined){ch()}return bS};cr.isHeightAuto=function(){return cr.options.contentHeight==="auto"||cr.options.height==="auto"};function b2(cD){if(ck()){if(cD){bR()}cn++;bV.updateSize(true);cn--;return true}}function ch(){if(ck()){bR()}}function bR(){var cE=cr.options.contentHeight;var cD=cr.options.height;if(typeof cE==="number"){bS=cE}else{if(typeof cE==="function"){bS=cE()}else{if(typeof cD==="number"){bS=cD-bM()}else{if(typeof cD==="function"){bS=cD()-bM()}else{if(cD==="parent"){bS=bZ.parent().height()-bM()}else{bS=Math.round(bW.width()/Math.max(cr.options.aspectRatio,0.5))}}}}}}function bM(){return b0.items.reduce(function(cD,cE){var cF=cE.el?cE.el.outerHeight(true):0;return cD+cF},0)}function bY(cD){if(!cn&&cD.target===window&&bV.start){if(b2(true)){bV.publiclyTrigger("windowResize",cm)}}}function bN(){if(ck()){cr.reportEventChange()}}function cs(){return[new a0(cr,b8()),new a0(cr,cx())]}function b8(){return{extraClasses:"fc-header-toolbar",layout:cr.options.header}}function cx(){return{extraClasses:"fc-footer-toolbar",layout:cr.options.footer}}function co(){bQ.setToolbarOptions(b8());bQ.render();if(bQ.el){bZ.prepend(bQ.el)}}function cy(){bX.setToolbarOptions(cx());bX.render();if(bX.el){bZ.append(bX.el)}}cr.setToolbarsTitle=function(cD){b0.proxyCall("updateTitle",cD)};function bT(){var cD=cr.getNow();if(cD>=bV.intervalStart&&cD<bV.intervalEnd){b0.proxyCall("disableButton","today")}else{b0.proxyCall("enableButton","today")}}function ct(cD,cE){bV.select(cr.buildSelectSpan.apply(cr,arguments))}function bU(){if(bV){bV.unselect()}}function b1(){cz=cr.getNow();var cD=bv("#hideDate");if(cD.length>0){cD.val(cz.toString());cD.change()}b7()}function cd(){cz=bV.computePrevDate(cz);var cD=bv("#hideDate");if(cD.length>0){cD.val(cz.toString());cD.change()}b7()}function bL(){cz=bV.computeNextDate(cz);var cD=bv("#hideDate");if(cD.length>0){cD.val(cz);cD.change()}b7()}function cw(){cz.add(-1,"years");b7()}function bK(){cz.add(1,"years");b7()}function ce(cD){cz=cr.moment(cD).stripZone();b7()}function b4(cD){cz.add(a4.duration(cD));b7()}function cB(cE,cD){var cF;cD=cD||"day";cF=cr.getViewSpec(cD)||cr.getUnitViewSpec(cD);cz=cE.clone();b7(cF?cF.type:null)}function b6(){return cr.applyTimezone(cz)}cr.freezeContentHeight=bO;cr.thawContentHeight=cv;var b3=0;function bO(){if(!(b3++)){bW.css({width:"100%",height:bW.height(),overflow:"hidden"})}}function cv(){if(!(--b3)){bW.css({width:"",height:"",overflow:""})}}function ci(){return cr}function cb(){return bV}function cl(cD,cF){var cE;if(typeof cD==="string"){if(cF===undefined){return cr.options[cD]}else{cE={};cE[cD]=cF;b5(cE)}}else{if(typeof cD==="object"){b5(cD)}}}function b5(cF){var cD=0;var cE;for(cE in cF){cr.dynamicOverrides[cE]=cF[cE]}cr.viewSpecCache={};cr.populateOptionsHash();for(cE in cF){cr.triggerOptionHandlers(cE);cD++}if(cD===1){if(cE==="height"||cE==="contentHeight"||cE==="aspectRatio"){b2(true);return}else{if(cE==="defaultDate"){return}else{if(cE==="businessHours"){if(bV){bV.unrenderBusinessHours();bV.renderBusinessHours()}return}else{if(cE==="timezone"){cr.rezoneArrayEventSources();cr.refetchEvents();return}}}}}co();cy();cq={};cc()}function bP(cE,cF){var cD=Array.prototype.slice.call(arguments,2);cF=cF||cm;this.triggerWith(cE,cF,cD);if(cr.options[cE]){return cr.options[cE].apply(cF,cD)}}cr.initialize()}v.mixin({optionHandlers:null,bindOption:function(bK,bL){this.bindOptions([bK],bL)},bindOptions:function(bK,bN){var bL={func:bN,names:bK};var bM;for(bM=0;bM<bK.length;bM++){this.registerOptionHandlerObj(bK[bM],bL)}this.triggerOptionHandlerObj(bL)},registerOptionHandlerObj:function(bL,bK){(this.optionHandlers[bL]||(this.optionHandlers[bL]=[])).push(bK)},triggerOptionHandlers:function(bL){var bM=this.optionHandlers[bL]||[];var bK;for(bK=0;bK<bM.length;bK++){this.triggerOptionHandlerObj(bM[bK])}},triggerOptionHandlerObj:function(bM){var bL=bM.names;var bK=[];var bN;for(bN=0;bN<bL.length;bN++){bK.push(this.options[bL[bN]])}bM.func.apply(this,bK)}});v.defaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:false,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:true,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:false,isRTL:false,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},allDayText:"all-day",theme:false,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:0.75,dragRevertDuration:500,dragScroll:true,unselectAuto:true,dropAccept:"*",eventOrder:"title",eventLimit:false,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:true,windowResizeDelay:100,longPressDelay:1000};v.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};v.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var aa=x.locales={};x.datepickerLocale=function(bM,bL,bN){var bK=aa[bM]||(aa[bM]={});bK.isRTL=bN.isRTL;bK.weekNumberTitle=bN.weekHeader;bv.each(aK,function(bO,bP){bK[bO]=bP(bN)});if(bv.datepicker){bv.datepicker.regional[bL]=bv.datepicker.regional[bM]=bN;bv.datepicker.regional.en=bv.datepicker.regional[""];bv.datepicker.setDefaults(bN)}};x.locale=function(bL,bN){var bK;var bM;bK=aa[bL]||(aa[bL]={});if(bN){bK=aa[bL]=aR([bK,bN])}bM=O(bL);bv.each(a8,function(bO,bP){if(bK[bO]==null){bK[bO]=bP(bM,bK)}});v.defaults.locale=bL};var aK={buttonText:function(bK){return{prev:aH(bK.prevText),next:aH(bK.nextText),today:aH(bK.currentText)}},monthYearFormat:function(bK){return bK.showMonthAfterYear?"YYYY["+bK.yearSuffix+"] MMMM":"MMMM YYYY["+bK.yearSuffix+"]"}};var a8={dayOfMonthFormat:function(bL,bK){var bM=bL.longDateFormat("l");bM=bM.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,"");if(bK.isRTL){bM+=" ddd"}else{bM="ddd "+bM}return bM},mediumTimeFormat:function(bK){return bK.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(bK){return bK.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(bK){return bK.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(bK){return bK.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(bK){return bK.longDateFormat("LT").replace(/\s*a$/i,"")}};var bf={smallDayDateFormat:function(bK){return bK.isRTL?"D dd":"dd D"},weekFormat:function(bK){return bK.isRTL?"w[ "+bK.weekNumberTitle+"]":"["+bK.weekNumberTitle+" ]w"},smallWeekFormat:function(bK){return bK.isRTL?"w["+bK.weekNumberTitle+"]":"["+bK.weekNumberTitle+"]w"}};function aP(bK){bv.each(bf,function(bL,bM){if(bK[bL]==null){bK[bL]=bM(bK)}})}function O(bK){return a4.localeData(bK)||a4.localeData("en")}x.locale("en",v.englishDefaults);x.sourceNormalizers=[];x.sourceFetchers=[];var G={dataType:"json",cache:false};var aZ=1;function aM(){var cl=this;cl.requestEvents=b3;cl.reportEventChange=cr;cl.isFetchNeeded=bL;cl.fetchEvents=cu;cl.fetchEventSources=ck;cl.refetchEvents=bY;cl.refetchEventSources=cn;cl.getEventSources=b0;cl.getEventSourceById=cp;cl.addEventSource=bW;cl.removeEventSource=bQ;cl.removeEventSources=b6;cl.updateEvent=cf;cl.updateEvents=b7;cl.renderEvent=b5;cl.renderEvents=bP;cl.removeEvents=cs;cl.clientEvents=bX;cl.mutateEvent=bM;cl.normalizeEventDates=cc;cl.normalizeEventTimes=bV;var bS={events:[]};var cg=[bS];var bZ,b4;var b8=0;var b2=[];var ct;bv.each((cl.options.events?[cl.options.events]:[]).concat(cl.options.eventSources||[]),function(cw,cy){var cx=b9(cy);if(cx){cg.push(cx)}});function b3(cx,cw){if(!cl.options.lazyFetching||bL(cx,cw)){return cu(cx,cw)}else{return br.resolve(ct)}}function cr(){ct=cj(b2);cl.trigger("eventsReset",ct)}function cj(cy){var cw=[];var cx,cz;for(cx=0;cx<cy.length;cx++){cz=cy[cx];if(cz.start.clone().stripZone()<b4&&cl.getEventEnd(cz).stripZone()>bZ){cw.push(cz)}}return cw}cl.getEventCache=function(){return b2};cl.getPrunedEventCache=function(){return ct};function bL(cx,cw){return !bZ||cx<bZ||cw>b4}function cu(cx,cw){bZ=cx;b4=cw;return bY()}function bY(){return ck(cg,"reset")}function cn(cw){return ck(cq(cw))}function ck(cz,cy){var cw,cx;if(cy==="reset"){b2=[]}else{if(cy!=="add"){b2=bO(b2,cz)}}for(cw=0;cw<cz.length;cw++){cx=cz[cw];if(cx._status!=="pending"){b8++}cx._fetchId=(cx._fetchId||0)+1;cx._status="pending"}for(cw=0;cw<cz.length;cw++){cx=cz[cw];co(cx,cx._fetchId)}if(b8){return new br(function(cA){cl.one("eventsReceived",cA)})}else{return br.resolve(ct)}}function co(cw,cx){bU(cw,function(cC){var cB=bv.isArray(cw.events);var cA,cz;var cy;if(cx===cw._fetchId&&cw._status!=="rejected"){cw._status="resolved";if(cC){for(cA=0;cA<cC.length;cA++){cz=cC[cA];if(cB){cy=cz}else{cy=bR(cz,cw)}if(cy){b2.push.apply(b2,cv(cy))}}}bK()}})}function cm(cx){var cw=cx._status==="pending";cx._status="rejected";if(cw){bK()}}function bK(){b8--;if(!b8){cr(b2);cl.trigger("eventsReceived",ct)}}function bU(cw,cH){var cB;var cF=x.sourceFetchers;var cD;for(cB=0;cB<cF.length;cB++){cD=cF[cB].call(cl,cw,bZ.clone(),b4.clone(),cl.options.timezone,cH);if(cD===true){return}else{if(typeof cD=="object"){bU(cD,cH);return}}}var cJ=cw.events;if(cJ){if(bv.isFunction(cJ)){cl.pushLoading();cJ.call(cl,bZ.clone(),b4.clone(),cl.options.timezone,function(cL){cH(cL);cl.popLoading()})}else{if(bv.isArray(cJ)){cH(cJ)}else{cH()}}}else{var cx=cw.url;if(cx){var cI=cw.success;var cE=cw.error;var cy=cw.complete;var cK;if(bv.isFunction(cw.data)){cK=cw.data()}else{cK=cw.data}var cA=bv.extend({},cK||{});var cC=V(cw.startParam,cl.options.startParam);var cz=V(cw.endParam,cl.options.endParam);var cG=V(cw.timezoneParam,cl.options.timezoneParam);if(cC){cA[cC]=bZ.format()}if(cz){cA[cz]=b4.format()}if(cl.options.timezone&&cl.options.timezone!="local"){cA[cG]=cl.options.timezone}cl.pushLoading();bv.ajax(bv.extend({},G,cw,{data:cA,success:function(cM){cM=cM||[];var cL=y(cI,this,arguments);if(bv.isArray(cL)){cM=cL}cH(cM)},error:function(){y(cE,this,arguments);cH()},complete:function(){y(cy,this,arguments);cl.popLoading()}}))}else{cH()}}}function bW(cx){var cw=b9(cx);if(cw){cg.push(cw);ck([cw],"add")}}function b9(cz){var cx=x.sourceNormalizers;var cy;var cw;if(bv.isFunction(cz)||bv.isArray(cz)){cy={events:cz}}else{if(typeof cz==="string"){cy={url:cz}}else{if(typeof cz==="object"){cy=bv.extend({},cz)}}}if(cy){if(cy.className){if(typeof cy.className==="string"){cy.className=cy.className.split(/\s+/)}}else{cy.className=[]}if(bv.isArray(cy.events)){cy.origArray=cy.events;cy.events=bv.map(cy.events,function(cA){return bR(cA,cy)})}for(cw=0;cw<cx.length;cw++){cx[cw].call(cl,cy)}return cy}}function bQ(cw){bT(ca(cw))}function b6(cw){if(cw==null){bT(cg,true)}else{bT(cq(cw))}}function bT(cx,cw){var cy;for(cy=0;cy<cx.length;cy++){cm(cx[cy])}if(cw){cg=[];b2=[]}else{cg=bv.grep(cg,function(cz){for(cy=0;cy<cx.length;cy++){if(cz===cx[cy]){return false}}return true});b2=bO(b2,cx)}cr()}function b0(){return cg.slice(1)}function cp(cw){return bv.grep(cg,function(cx){return cx.id&&cx.id===cw})[0]}function cq(cx){if(!cx){cx=[]}else{if(!bv.isArray(cx)){cx=[cx]}}var cw=[];var cy;for(cy=0;cy<cx.length;cy++){cw.push.apply(cw,ca(cx[cy]))}return cw}function ca(cy){var cw,cx;for(cw=0;cw<cg.length;cw++){cx=cg[cw];if(cx===cy){return[cx]}}cx=cp(cy);if(cx){return[cx]}return bv.grep(cg,function(cz){return ce(cy,cz)})}function ce(cx,cw){return cx&&cw&&b1(cx)==b1(cw)}function b1(cw){return((typeof cw==="object")?(cw.origArray||cw.googleCalendarId||cw.url||cw.events):null)||cw}function bO(cw,cx){return bv.grep(cw,function(cz){for(var cy=0;cy<cx.length;cy++){if(cz.source===cx[cy]){return false}}return true})}function cf(cw){b7([cw])}function b7(cx){var cw,cy;for(cw=0;cw<cx.length;cw++){cy=cx[cw];cy.start=cl.moment(cy.start);if(cy.end){cy.end=cl.moment(cy.end)}else{cy.end=null}bM(cy,bN(cy))}cr()}function bN(cx){var cw={};bv.each(cx,function(cy,cz){if(ci(cy)){if(cz!==undefined&&bp(cz)){cw[cy]=cz}}});return cw}function ci(cw){return !/^_|^(id|allDay|start|end)$/.test(cw)}function b5(cx,cw){return bP([cx],cw)}function bP(cD,cw){var cx=[];var cC;var cz;var cA,cy,cB;for(cA=0;cA<cD.length;cA++){cz=bR(cD[cA]);if(cz){cC=cv(cz);for(cy=0;cy<cC.length;cy++){cB=cC[cy];if(!cB.source){if(cw){bS.events.push(cB);cB.source=bS}b2.push(cB)}}cx=cx.concat(cC)}}if(cx.length){cr()}return cx}function cs(cy){var cx;var cw;if(cy==null){cy=function(){return true}}else{if(!bv.isFunction(cy)){cx=cy+"";cy=function(cz){return cz._id==cx}}}b2=bv.grep(b2,cy,true);for(cw=0;cw<cg.length;cw++){if(bv.isArray(cg[cw].events)){cg[cw].events=bv.grep(cg[cw].events,cy,true)}}cr()}function bX(cw){if(bv.isFunction(cw)){return bv.grep(b2,cw)}else{if(cw!=null){cw+="";return bv.grep(b2,function(cx){return cx._id==cw})}}return b2}cl.rezoneArrayEventSources=function(){var cy;var cx;var cw;for(cy=0;cy<cg.length;cy++){cx=cg[cy].events;if(bv.isArray(cx)){for(cw=0;cw<cx.length;cw++){ch(cx[cw])}}}};function ch(cw){cw.start=cl.moment(cw.start);if(cw.end){cw.end=cl.moment(cw.end)}C(cw)}function bR(cx,cA){var cy={};var cB,cw;var cz;if(cl.options.eventDataTransform){cx=cl.options.eventDataTransform(cx)}if(cA&&cA.eventDataTransform){cx=cA.eventDataTransform(cx)}bv.extend(cy,cx);if(cA){cy.source=cA}cy._id=cx._id||(cx.id===undefined?"_fc"+aZ++:cx.id+"");if(cx.className){if(typeof cx.className=="string"){cy.className=cx.className.split(/\s+/)}else{cy.className=cx.className}}else{cy.className=[]}cB=cx.start||cx.date;cw=cx.end;if(ad(cB)){cB=a4.duration(cB)}if(ad(cw)){cw=a4.duration(cw)}if(cx.dow||a4.isDuration(cB)||a4.isDuration(cw)){cy.start=cB?a4.duration(cB):null;cy.end=cw?a4.duration(cw):null;cy._recurring=true}else{if(cB){cB=cl.moment(cB);if(!cB.isValid()){return false}}if(cw){cw=cl.moment(cw);if(!cw.isValid()){cw=null}}cz=cx.allDay;if(cz===undefined){cz=V(cA?cA.allDayDefault:undefined,cl.options.allDayDefault)}cb(cB,cw,cz,cy)}cl.normalizeEvent(cy);return cy}cl.buildEventFromInput=bR;function cb(cz,cw,cy,cx){cx.start=cz;cx.end=cw;cx.allDay=cy;cc(cx);C(cx)}function cc(cw){bV(cw);if(cw.end&&!cw.end.isAfter(cw.start)){cw.end=null}if(!cw.end){if(cl.options.forceEventDuration){cw.end=cl.getDefaultEventEnd(cw.allDay,cw.start)}else{cw.end=null}}}function bV(cw){if(cw.allDay==null){cw.allDay=!(cw.start.hasTime()||(cw.end&&cw.end.hasTime()))}if(cw.allDay){cw.start.stripTime();if(cw.end){cw.end.stripTime()}}else{if(!cw.start.hasTime()){cw.start=cl.applyTimezone(cw.start.time(0))}if(cw.end&&!cw.end.hasTime()){cw.end=cl.applyTimezone(cw.end.time(0))}}}function cv(cD,cG,cz){var cI=[];var cF;var cH;var cC;var cA;var cy,cE;var cx,cB;var cw;cG=cG||bZ;cz=cz||b4;if(cD){if(cD._recurring){if((cH=cD.dow)){cF={};for(cC=0;cC<cH.length;cC++){cF[cH[cC]]=true}}cA=cG.clone().stripTime();while(cA.isBefore(cz)){if(!cF||cF[cA.day()]){cy=cD.start;cE=cD.end;cx=cA.clone();cB=null;if(cy){cx=cx.time(cy)}if(cE){cB=cA.clone().time(cE)}cw=bv.extend({},cD);cb(cx,cB,!cy&&!cE,cw);cI.push(cw)}cA.add(1,"days")}}else{cI.push(cD)}}return cI}cl.expandEvent=cv;function bM(cx,cG,cy){var cB={};var cF;var cw;var cz;var cC;var cE;var cA;function cD(cH,cI){if(cy){return e(cH,cI,cy)}else{if(cG.allDay){return ae(cH,cI)}else{return g(cH,cI)}}}cG=cG||{};if(!cG.start){cG.start=cx.start.clone()}if(cG.end===undefined){cG.end=cx.end?cx.end.clone():null}if(cG.allDay==null){cG.allDay=cx.allDay}cc(cG);cF={start:cx._start.clone(),end:cx._end?cx._end.clone():cl.getDefaultEventEnd(cx._allDay,cx._start),allDay:cG.allDay};cc(cF);cw=cx._end!==null&&cG.end===null;cz=cD(cG.start,cF.start);if(cG.end){cC=cD(cG.end,cF.end);cE=cC.subtract(cz)}else{cE=null}bv.each(cG,function(cH,cI){if(ci(cH)){if(cI!==undefined){cB[cH]=cI}}});cA=cd(bX(cx._id),cw,cG.allDay,cz,cE,cB);return{dateDelta:cz,durationDelta:cE,undo:cA}}function cd(cA,cD,cC,cB,cy,cz){var cx=cl.getIsAmbigTimezone();var cw=[];if(cB&&!cB.valueOf()){cB=null}if(cy&&!cy.valueOf()){cy=null}bv.each(cA,function(cF,cH){var cE;var cG;cE={start:cH.start.clone(),end:cH.end?cH.end.clone():null,allDay:cH.allDay};bv.each(cz,function(cI){cE[cI]=cH[cI]});cG={start:cH._start,end:cH._end,allDay:cC};cc(cG);if(cD){cG.end=null}else{if(cy&&!cG.end){cG.end=cl.getDefaultEventEnd(cG.allDay,cG.start)}}if(cB){cG.start.add(cB);if(cG.end){cG.end.add(cB)}}if(cy){cG.end.add(cy)}if(cx&&!cG.allDay&&(cB||cy)){cG.start.stripZone();if(cG.end){cG.end.stripZone()}}bv.extend(cH,cz,cG);C(cH);cw.push(function(){bv.extend(cH,cE);C(cH)})});return function(){for(var cE=0;cE<cw.length;cE++){cw[cE]()}}}}v.prototype.normalizeEvent=function(bK){};v.prototype.spanContainsSpan=function(bM,bN){var bL=bM.start.clone().stripZone();var bK=this.getEventEnd(bM).stripZone();return bN.start>=bL&&bN.end<=bK};v.prototype.getPeerEvents=function(bO,bP){var bL=this.getEventCache();var bK=[];var bN,bM;for(bN=0;bN<bL.length;bN++){bM=bL[bN];if(!bP||bP._id!==bM._id){bK.push(bM)}}return bK};function C(bK){bK._allDay=bK.allDay;bK._start=bK.start.clone();bK._end=bK.end?bK.end.clone():null}v.prototype.isEventSpanAllowed=function(bL,bM){var bN=bM.source||{};var bO=V(bM.constraint,bN.constraint,this.options.eventConstraint);var bK=V(bM.overlap,bN.overlap,this.options.eventOverlap);return this.isSpanAllowed(bL,bO,bK,bM)&&(!this.options.eventAllow||this.options.eventAllow(bL,bM)!==false)};v.prototype.isExternalSpanAllowed=function(bL,bO,bN){var bK;var bM;if(bN){bK=bv.extend({},bN,bO);bM=this.expandEvent(this.buildEventFromInput(bK))[0]}if(bM){return this.isEventSpanAllowed(bL,bM)}else{return this.isSelectionSpanAllowed(bL)}};v.prototype.isSelectionSpanAllowed=function(bK){return this.isSpanAllowed(bK,this.options.selectConstraint,this.options.selectOverlap)&&(!this.options.selectAllow||this.options.selectAllow(bK)!==false)};v.prototype.isSpanAllowed=function(bT,bM,bR,bL){var bK;var bN;var bP;var bO,bS;var bQ;if(bM!=null){bK=this.constraintToEvents(bM);if(bK){bN=false;for(bO=0;bO<bK.length;bO++){if(this.spanContainsSpan(bK[bO],bT)){bN=true;break}}if(!bN){return false}}}bP=this.getPeerEvents(bT,bL);for(bO=0;bO<bP.length;bO++){bS=bP[bO];if(this.eventIntersectsRange(bS,bT)){if(bR===false){return false}else{if(typeof bR==="function"&&!bR(bS,bL)){return false}}if(bL){bQ=V(bS.overlap,(bS.source||{}).overlap);if(bQ===false){return false}if(typeof bQ==="function"&&!bQ(bL,bS)){return false}}}}return true};v.prototype.constraintToEvents=function(bK){if(bK==="businessHours"){return this.getCurrentBusinessHourEvents()}if(typeof bK==="object"){if(bK.start!=null){return this.expandEvent(this.buildEventFromInput(bK))}else{return null}}return this.clientEvents(bK)};v.prototype.eventIntersectsRange=function(bN,bM){var bL=bN.start.clone().stripZone();var bK=this.getEventEnd(bN).stripZone();return bM.start<bK&&bM.end>bL};var bJ={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};v.prototype.getCurrentBusinessHourEvents=function(bK){return this.computeBusinessHourEvents(bK,this.options.businessHours)};v.prototype.computeBusinessHourEvents=function(bK,bL){if(bL===true){return this.expandBusinessHourEvents(bK,[{}])}else{if(bv.isPlainObject(bL)){return this.expandBusinessHourEvents(bK,[bL])}else{if(bv.isArray(bL)){return this.expandBusinessHourEvents(bK,bL,true)}else{return[]}}}};v.prototype.expandBusinessHourEvents=function(bK,bM,bQ){var bL=this.getView();var bP=[];var bO,bN;for(bO=0;bO<bM.length;bO++){bN=bM[bO];if(bQ&&!bN.dow){continue}bN=bv.extend({},bJ,bN);if(bK){bN.start=null;bN.end=null}bP.push.apply(bP,this.expandEvent(this.buildEventFromInput(bN),bL.start,bL.end))}return bP};var bs=x.BasicView=aQ.extend({scroller:null,dayGridClass:by,dayGrid:null,dayNumbersVisible:false,colWeekNumbersVisible:false,cellWeekNumbersVisible:false,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid();this.scroller=new a6({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var bK=this.dayGridClass.extend(bg);return new bK(this)},setRange:function(bK){aQ.prototype.setRange.call(this,bK);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(bK)},computeRange:function(bL){var bK=aQ.prototype.computeRange.call(this,bL);if(/year|month/.test(bK.intervalUnit)){bK.start.startOf("week");bK.start=this.skipHiddenDays(bK.start);if(bK.end.weekday()){bK.end.add(1,"week").startOf("week");bK.end=this.skipHiddenDays(bK.end,-1,true)}}return bK},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1;if(this.opt("weekNumbers")){if(this.opt("weekNumbersWithinDays")){this.cellWeekNumbersVisible=true;this.colWeekNumbersVisible=false}else{this.cellWeekNumbersVisible=false;this.colWeekNumbersVisible=true}}this.dayGrid.numbersVisible=this.dayNumbersVisible||this.cellWeekNumbersVisible||this.colWeekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var bL=this.scroller.el.addClass("fc-day-grid-container");var bK=bv('<div class="fc-day-grid" />').appendTo(bL);this.el.find(".fc-body > tr > td").append(bL);this.dayGrid.setElement(bK);this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml());this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates();this.dayGrid.removeElement();this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){if(this.weekNumberWidth!==null){return'style="width:'+this.weekNumberWidth+'px"'}return""},hasRigidRows:function(){var bK=this.opt("eventLimit");return bK&&typeof bK!=="number"},updateWidth:function(){if(this.colWeekNumbersVisible){this.weekNumberWidth=T(this.el.find(".fc-week-number"))}},setHeight:function(bN,bK){var bL=this.opt("eventLimit");var bO;var bM;this.scroller.clear();H(this.headRowEl);this.dayGrid.removeSegPopover();if(bL&&typeof bL==="number"){this.dayGrid.limitRows(bL)}bO=this.computeScrollerHeight(bN);this.setGridHeight(bO,bK);if(bL&&typeof bL!=="number"){this.dayGrid.limitRows(bL)}if(!bK){this.scroller.setHeight(bO);bM=this.scroller.getScrollbarWidths();if(bM.left||bM.right){ar(this.headRowEl,bM);bO=this.computeScrollerHeight(bN);this.scroller.setHeight(bO)}this.scroller.lockOverflow(bM)}},computeScrollerHeight:function(bK){return bK-r(this.el,this.scroller.el)},setGridHeight:function(bL,bK){if(bK){l(this.dayGrid.rowEls)}else{Z(this.dayGrid.rowEls,bL,true)}},computeInitialScroll:function(){return{top:0}},queryScroll:function(){return{top:this.scroller.getScrollTop()}},setScroll:function(bK){this.scroller.setScrollTop(bK.top)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(bL,bK){return this.dayGrid.queryHit(bL,bK)},getHitSpan:function(bK){return this.dayGrid.getHitSpan(bK)},getHitEl:function(bK){return this.dayGrid.getHitEl(bK)},renderEvents:function(bK){this.dayGrid.renderEvents(bK);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(bL,bK){return this.dayGrid.renderDrag(bL,bK)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(bK){this.dayGrid.renderSelection(bK)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}});var bg={renderHeadIntroHtml:function(){var bK=this.view;if(bK.colWeekNumbersVisible){return'<th class="fc-week-number '+bK.widgetHeaderClass+'" '+bK.weekNumberStyleAttr()+"><span>"+aJ(bK.opt("weekNumberTitle"))+"</span></th>"}return""},renderNumberIntroHtml:function(bM){var bL=this.view;var bK=this.getCellDate(bM,0);if(bL.colWeekNumbersVisible){return'<td class="fc-week-number" '+bL.weekNumberStyleAttr()+">"+bL.buildGotoAnchorHtml({date:bK,type:"week",forceOff:this.colCnt===1},bK.format("w"))+"</td>"}return""},renderBgIntroHtml:function(){var bK=this.view;if(bK.colWeekNumbersVisible){return'<td class="fc-week-number '+bK.widgetContentClass+'" '+bK.weekNumberStyleAttr()+"></td>"}return""},renderIntroHtml:function(){var bK=this.view;if(bK.colWeekNumbersVisible){return'<td class="fc-week-number" '+bK.weekNumberStyleAttr()+"></td>"}return""}};var J=x.MonthView=bs.extend({computeRange:function(bL){var bK=bs.prototype.computeRange.call(this,bL);var bM;if(this.isFixedWeeks()){bM=Math.ceil(bK.end.diff(bK.start,"weeks",true));bK.end.add(6-bM,"weeks")}return bK},setGridHeight:function(bL,bK){if(bK){bL*=this.rowCnt/6}Z(this.dayGrid.rowEls,bL,!bK)},isFixedWeeks:function(){return this.opt("fixedWeekCount")}});Y.basic={"class":bs};Y.basicDay={type:"basic",duration:{days:1}};Y.basicWeek={type:"basic",duration:{weeks:1}};Y.month={"class":J,duration:{months:1},defaults:{fixedWeekCount:true}};var bH=x.AgendaView=aQ.extend({scroller:null,timeGridClass:j,timeGrid:null,dayGridClass:by,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid();if(this.opt("allDaySlot")){this.dayGrid=this.instantiateDayGrid()}this.scroller=new a6({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var bK=this.timeGridClass.extend(bl);return new bK(this)},instantiateDayGrid:function(){var bK=this.dayGridClass.extend(bq);return new bK(this)},setRange:function(bK){aQ.prototype.setRange.call(this,bK);this.timeGrid.setRange(bK);if(this.dayGrid){this.dayGrid.setRange(bK)}},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var bK=this.scroller.el.addClass("fc-time-grid-container");var bL=bv('<div class="fc-time-grid" />').appendTo(bK);this.el.find(".fc-body > tr > td").append(bK);this.timeGrid.setElement(bL);this.timeGrid.renderDates();this.bottomRuleEl=bv('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);if(this.dayGrid){this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.renderDates();this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()}this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates();this.timeGrid.removeElement();if(this.dayGrid){this.dayGrid.unrenderDates();this.dayGrid.removeElement()}this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){if(this.axisWidth!==null){return'style="width:'+this.axisWidth+'px"'}return""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();if(this.dayGrid){this.dayGrid.renderBusinessHours()}},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours();if(this.dayGrid){this.dayGrid.unrenderBusinessHours()}},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(bK){this.timeGrid.renderNowIndicator(bK)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(bK){this.timeGrid.updateSize(bK);aQ.prototype.updateSize.call(this,bK)},updateWidth:function(){this.axisWidth=T(this.el.find(".fc-axis"))},setHeight:function(bN,bK){var bL;var bO;var bM;this.bottomRuleEl.hide();this.scroller.clear();H(this.noScrollRowEls);if(this.dayGrid){this.dayGrid.removeSegPopover();bL=this.opt("eventLimit");if(bL&&typeof bL!=="number"){bL=a2}if(bL){this.dayGrid.limitRows(bL)}}if(!bK){bO=this.computeScrollerHeight(bN);this.scroller.setHeight(bO);bM=this.scroller.getScrollbarWidths();if(bM.left||bM.right){ar(this.noScrollRowEls,bM);bO=this.computeScrollerHeight(bN);this.scroller.setHeight(bO)}this.scroller.lockOverflow(bM);if(this.timeGrid.getTotalSlatHeight()<bO){this.bottomRuleEl.show()}}},computeScrollerHeight:function(bK){return bK-r(this.el,this.scroller.el)},computeInitialScroll:function(){var bL=a4.duration(this.opt("scrollTime"));var bK=this.timeGrid.computeTimeTop(bL);bK=Math.ceil(bK);if(bK){bK++}return{top:bK}},queryScroll:function(){return{top:this.scroller.getScrollTop()}},setScroll:function(bK){this.scroller.setScrollTop(bK.top)},prepareHits:function(){this.timeGrid.prepareHits();if(this.dayGrid){this.dayGrid.prepareHits()}},releaseHits:function(){this.timeGrid.releaseHits();if(this.dayGrid){this.dayGrid.releaseHits()}},queryHit:function(bM,bL){var bK=this.timeGrid.queryHit(bM,bL);if(!bK&&this.dayGrid){bK=this.dayGrid.queryHit(bM,bL)}return bK},getHitSpan:function(bK){return bK.component.getHitSpan(bK)},getHitEl:function(bK){return bK.component.getHitEl(bK)},renderEvents:function(bL){var bO=[];var bM=[];var bP=[];var bN;var bK;for(bK=0;bK<bL.length;bK++){if(bL[bK].allDay){bO.push(bL[bK])}else{bM.push(bL[bK])}}bN=this.timeGrid.renderEvents(bM);if(this.dayGrid){bP=this.dayGrid.renderEvents(bO)}this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents();if(this.dayGrid){this.dayGrid.unrenderEvents()}},renderDrag:function(bL,bK){if(bL.start.hasTime()){return this.timeGrid.renderDrag(bL,bK)}else{if(this.dayGrid){return this.dayGrid.renderDrag(bL,bK)}}},unrenderDrag:function(){this.timeGrid.unrenderDrag();if(this.dayGrid){this.dayGrid.unrenderDrag()}},renderSelection:function(bK){if(bK.start.hasTime()||bK.end.hasTime()){this.timeGrid.renderSelection(bK)}else{if(this.dayGrid){this.dayGrid.renderSelection(bK)}}},unrenderSelection:function(){this.timeGrid.unrenderSelection();if(this.dayGrid){this.dayGrid.unrenderSelection()}}});var bl={renderHeadIntroHtml:function(){var bK=this.view;var bL;if(bK.opt("weekNumbers")){bL=this.start.format(bK.opt("smallWeekFormat"));return'<th class="fc-axis fc-week-number '+bK.widgetHeaderClass+'" '+bK.axisStyleAttr()+">"+bK.buildGotoAnchorHtml({date:this.start,type:"week",forceOff:this.colCnt>1},aJ(bL))+"</th>"}else{return'<th class="fc-axis '+bK.widgetHeaderClass+'" '+bK.axisStyleAttr()+"></th>"}},renderBgIntroHtml:function(){var bK=this.view;return'<td class="fc-axis '+bK.widgetContentClass+'" '+bK.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var bK=this.view;return'<td class="fc-axis" '+bK.axisStyleAttr()+"></td>"}};var bq={renderBgIntroHtml:function(){var bK=this.view;return'<td class="fc-axis '+bK.widgetContentClass+'" '+bK.axisStyleAttr()+"><span>"+bK.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){var bK=this.view;return'<td class="fc-axis" '+bK.axisStyleAttr()+"></td>"}};var a2=5;var aY=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];Y.agenda={"class":bH,defaults:{allDaySlot:true,slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:true}};Y.agendaDay={type:"agenda",duration:{days:1}};Y.agendaWeek={type:"agenda",duration:{weeks:1}};var t=aQ.extend({grid:null,scroller:null,initialize:function(){this.grid=new d(this);this.scroller=new a6({overflowX:"hidden",overflowY:"auto"})},setRange:function(bK){aQ.prototype.setRange.call(this,bK);this.grid.setRange(bK)},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.widgetContentClass);this.scroller.render();this.scroller.el.appendTo(this.el);this.grid.setElement(this.scroller.scrollEl)},unrenderSkeleton:function(){this.scroller.destroy()},setHeight:function(bL,bK){this.scroller.setHeight(this.computeScrollerHeight(bL))},computeScrollerHeight:function(bK){return bK-r(this.el,this.scroller.el)},renderEvents:function(bK){this.grid.renderEvents(bK)},unrenderEvents:function(){this.grid.unrenderEvents()},isEventResizable:function(bK){return false},isEventDraggable:function(bK){return false}});var d=aE.extend({segSelector:".fc-list-item",hasDayInteractions:false,spanToSegs:function(bP){var bN=this.view;var bM=bN.start.clone().time(0);var bO=0;var bL;var bK=[];while(bM<bN.end){bL=f(bP,{start:bM,end:bM.clone().add(1,"day")});if(bL){bL.dayIndex=bO;bK.push(bL)}bM.add(1,"day");bO++;if(bL&&!bL.isEnd&&bP.end.hasTime()&&bP.end<bM.clone().add(this.view.nextDayThreshold)){bL.end=bP.end.clone();bL.isEnd=true;break}}return bK},computeEventTimeFormat:function(){return this.view.opt("mediumTimeFormat")},handleSegClick:function(bK,bM){var bL;aE.prototype.handleSegClick.apply(this,arguments);if(!bv(bM.target).closest("a[href]").length){bL=bK.event.url;if(bL&&!bM.isDefaultPrevented()){window.location.href=bL}}},renderFgSegs:function(bK){bK=this.renderFgSegEls(bK);if(!bK.length){this.renderEmptyMessage()}else{this.renderSegList(bK)}return bK},renderEmptyMessage:function(){this.el.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+aJ(this.view.opt("noEventsMessage"))+"</div></div></div>")},renderSegList:function(bL){var bP=this.groupSegsByDay(bL);var bO;var bQ;var bN;var bM=bv('<table class="fc-list-table"><tbody/></table>');var bK=bM.find("tbody");for(bO=0;bO<bP.length;bO++){bQ=bP[bO];if(bQ){bK.append(this.dayHeaderHtml(this.view.start.clone().add(bO,"days")));this.sortEventSegs(bQ);for(bN=0;bN<bQ.length;bN++){bK.append(bQ[bN].el)}}}this.el.empty().append(bM)},groupSegsByDay:function(bL){var bN=[];var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];(bN[bK.dayIndex]||(bN[bK.dayIndex]=[])).push(bK)}return bN},dayHeaderHtml:function(bK){var bL=this.view;var bM=bL.opt("listDayFormat");var bN=bL.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+bK.format("YYYY-MM-DD")+'"><td class="'+bL.widgetHeaderClass+'" colspan="3">'+(bM?bL.buildGotoAnchorHtml(bK,{"class":"fc-list-heading-main"},aJ(bK.format(bM))):"")+(bN?bL.buildGotoAnchorHtml(bK,{"class":"fc-list-heading-alt"},aJ(bK.format(bN))):"")+"</td></tr>"},fgSegHtml:function(bL){var bK=this.view;var bN=["fc-list-item"].concat(this.getSegCustomClasses(bL));var bQ=this.getSegBackgroundColor(bL);var bP=bL.event;var bM=bP.url;var bO;if(bP.allDay){bO=bK.getAllDayHtml()}else{if(bK.isMultiDayEvent(bP)){if(bL.isStart||bL.isEnd){bO=aJ(this.getEventTimeText(bL))}else{bO=bK.getAllDayHtml()}}else{bO=aJ(this.getEventTimeText(bP))}}if(bM){bN.push("fc-has-url")}return'<tr class="'+bN.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+bK.widgetContentClass+'">'+(bO||"")+"</td>":"")+'<td class="fc-list-item-marker '+bK.widgetContentClass+'"><span class="fc-event-dot"'+(bQ?' style="background-color:'+bQ+'"':"")+'></span></td><td class="fc-list-item-title '+bK.widgetContentClass+'"><a'+(bM?' href="'+aJ(bM)+'"':"")+">"+aJ(bL.event.title||"")+"</a></td></tr>"}});Y.list={"class":t,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}};Y.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}};Y.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}};Y.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}};Y.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}};return x});